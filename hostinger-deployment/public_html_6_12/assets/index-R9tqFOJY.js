function _0(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();function di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vf={exports:{}},ui={},wf={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),A0=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),M0=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),O0=Symbol.for("react.forward_ref"),$0=Symbol.for("react.suspense"),F0=Symbol.for("react.memo"),z0=Symbol.for("react.lazy"),pm=Symbol.iterator;function U0(e){return e===null||typeof e!="object"?null:(e=pm&&e[pm]||e["@@iterator"],typeof e=="function"?e:null)}var bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jf=Object.assign,Nf={};function mn(e,t,s){this.props=e,this.context=t,this.refs=Nf,this.updater=s||bf}mn.prototype.isReactComponent={};mn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kf(){}kf.prototype=mn.prototype;function yd(e,t,s){this.props=e,this.context=t,this.refs=Nf,this.updater=s||bf}var vd=yd.prototype=new kf;vd.constructor=yd;jf(vd,mn.prototype);vd.isPureReactComponent=!0;var gm=Array.isArray,Sf=Object.prototype.hasOwnProperty,wd={current:null},Cf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(e,t,s){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Sf.call(t,n)&&!Cf.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=s;else if(1<l){for(var d=Array(l),m=0;m<l;m++)d[m]=arguments[m+2];o.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:wo,type:e,key:a,ref:i,props:o,_owner:wd.current}}function B0(e,t){return{$$typeof:wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bd(e){return typeof e=="object"&&e!==null&&e.$$typeof===wo}function V0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var ym=/\/+/g;function ll(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V0(""+e.key):t.toString(36)}function la(e,t,s,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case wo:case A0:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+ll(i,0):n,gm(o)?(s="",e!=null&&(s=e.replace(ym,"$&/")+"/"),la(o,t,s,"",function(m){return m})):o!=null&&(bd(o)&&(o=B0(o,s+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ym,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",gm(e))for(var l=0;l<e.length;l++){a=e[l];var d=n+ll(a,l);i+=la(a,t,s,d,o)}else if(d=U0(e),typeof d=="function")for(e=d.call(e),l=0;!(a=e.next()).done;)a=a.value,d=n+ll(a,l++),i+=la(a,t,s,d,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Mo(e,t,s){if(e==null)return e;var n=[],o=0;return la(e,n,"","",function(a){return t.call(s,a,o++)}),n}function W0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},ca={transition:null},H0={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:ca,ReactCurrentOwner:wd};function Tf(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Mo,forEach:function(e,t,s){Mo(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Mo(e,function(){t++}),t},toArray:function(e){return Mo(e,function(t){return t})||[]},only:function(e){if(!bd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=mn;ae.Fragment=R0;ae.Profiler=I0;ae.PureComponent=yd;ae.StrictMode=M0;ae.Suspense=$0;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0;ae.act=Tf;ae.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jf({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=wd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Sf.call(t,d)&&!Cf.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=s;else if(1<d){l=Array(d);for(var m=0;m<d;m++)l[m]=arguments[m+2];n.children=l}return{$$typeof:wo,type:e.type,key:o,ref:a,props:n,_owner:i}};ae.createContext=function(e){return e={$$typeof:L0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D0,_context:e},e.Consumer=e};ae.createElement=Ef;ae.createFactory=function(e){var t=Ef.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:O0,render:e}};ae.isValidElement=bd;ae.lazy=function(e){return{$$typeof:z0,_payload:{_status:-1,_result:e},_init:W0}};ae.memo=function(e,t){return{$$typeof:F0,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=ca.transition;ca.transition={};try{e()}finally{ca.transition=t}};ae.unstable_act=Tf;ae.useCallback=function(e,t){return Ke.current.useCallback(e,t)};ae.useContext=function(e){return Ke.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};ae.useEffect=function(e,t){return Ke.current.useEffect(e,t)};ae.useId=function(){return Ke.current.useId()};ae.useImperativeHandle=function(e,t,s){return Ke.current.useImperativeHandle(e,t,s)};ae.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return Ke.current.useMemo(e,t)};ae.useReducer=function(e,t,s){return Ke.current.useReducer(e,t,s)};ae.useRef=function(e){return Ke.current.useRef(e)};ae.useState=function(e){return Ke.current.useState(e)};ae.useSyncExternalStore=function(e,t,s){return Ke.current.useSyncExternalStore(e,t,s)};ae.useTransition=function(){return Ke.current.useTransition()};ae.version="18.3.1";wf.exports=ae;var u=wf.exports;const q=di(u),G0=_0({__proto__:null,default:q},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=u,K0=Symbol.for("react.element"),q0=Symbol.for("react.fragment"),X0=Object.prototype.hasOwnProperty,Q0=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J0={key:!0,ref:!0,__self:!0,__source:!0};function Pf(e,t,s){var n,o={},a=null,i=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)X0.call(t,n)&&!J0.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:K0,type:e,key:a,ref:i,props:o,_owner:Q0.current}}ui.Fragment=q0;ui.jsx=Pf;ui.jsxs=Pf;vf.exports=ui;var r=vf.exports,_f={exports:{}},xt={},Af={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,A){var M=T.length;T.push(A);e:for(;0<M;){var L=M-1>>>1,B=T[L];if(0<o(B,A))T[L]=A,T[M]=B,M=L;else break e}}function s(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var A=T[0],M=T.pop();if(M!==A){T[0]=M;e:for(var L=0,B=T.length,P=B>>>1;L<P;){var z=2*(L+1)-1,U=T[z],R=z+1,I=T[R];if(0>o(U,M))R<B&&0>o(I,U)?(T[L]=I,T[R]=M,L=R):(T[L]=U,T[z]=M,L=z);else if(R<B&&0>o(I,M))T[L]=I,T[R]=M,L=R;else break e}}return A}function o(T,A){var M=T.sortIndex-A.sortIndex;return M!==0?M:T.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var d=[],m=[],h=1,f=null,c=3,p=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var A=s(m);A!==null;){if(A.callback===null)n(m);else if(A.startTime<=T)n(m),A.sortIndex=A.expirationTime,t(d,A);else break;A=s(m)}}function C(T){if(x=!1,v(T),!w)if(s(d)!==null)w=!0,H(S);else{var A=s(m);A!==null&&F(C,A.startTime-T)}}function S(T,A){w=!1,x&&(x=!1,g(b),b=-1),p=!0;var M=c;try{for(v(A),f=s(d);f!==null&&(!(f.expirationTime>A)||T&&!D());){var L=f.callback;if(typeof L=="function"){f.callback=null,c=f.priorityLevel;var B=L(f.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?f.callback=B:f===s(d)&&n(d),v(A)}else n(d);f=s(d)}if(f!==null)var P=!0;else{var z=s(m);z!==null&&F(C,z.startTime-A),P=!1}return P}finally{f=null,c=M,p=!1}}var k=!1,N=null,b=-1,E=5,_=-1;function D(){return!(e.unstable_now()-_<E)}function O(){if(N!==null){var T=e.unstable_now();_=T;var A=!0;try{A=N(!0,T)}finally{A?V():(k=!1,N=null)}}else k=!1}var V;if(typeof y=="function")V=function(){y(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=O,V=function(){W.postMessage(null)}}else V=function(){j(O,0)};function H(T){N=T,k||(k=!0,V())}function F(T,A){b=j(function(){T(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,H(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(T){switch(c){case 1:case 2:case 3:var A=3;break;default:A=c}var M=c;c=A;try{return T()}finally{c=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=c;c=T;try{return A()}finally{c=M}},e.unstable_scheduleCallback=function(T,A,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,T={id:h++,callback:A,priorityLevel:T,startTime:M,expirationTime:B,sortIndex:-1},M>L?(T.sortIndex=M,t(m,T),s(d)===null&&T===s(m)&&(x?(g(b),b=-1):x=!0,F(C,M-L))):(T.sortIndex=B,t(d,T),w||p||(w=!0,H(S))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var A=c;return function(){var M=c;c=A;try{return T.apply(this,arguments)}finally{c=M}}}})(Rf);Af.exports=Rf;var Z0=Af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew=u,ft=Z0;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mf=new Set,Yn={};function fs(e,t){Qs(e,t),Qs(e+"Capture",t)}function Qs(e,t){for(Yn[e]=t,e=0;e<t.length;e++)Mf.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vm={},wm={};function rw(e){return Ql.call(wm,e)?!0:Ql.call(vm,e)?!1:tw.test(e)?wm[e]=!0:(vm[e]=!0,!1)}function sw(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nw(e,t,s,n){if(t===null||typeof t>"u"||sw(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,s,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var jd=/[\-:]([a-z])/g;function Nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jd,Nd);ze[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jd,Nd);ze[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jd,Nd);ze[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function kd(e,t,s,n){var o=ze.hasOwnProperty(t)?ze[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nw(t,s,o,n)&&(s=null),n||o===null?rw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(t=o.attributeName,n=o.attributeNamespace,s===null?e.removeAttribute(t):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var yr=ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Df=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),Lf=Symbol.for("react.offscreen"),bm=Symbol.iterator;function bn(e){return e===null||typeof e!="object"?null:(e=bm&&e[bm]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,cl;function An(e){if(cl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var dl=!1;function ul(e,t){if(!e||dl)return"";dl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var d=`
`+o[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?An(e):""}function ow(e){switch(e.tag){case 5:return An(e.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function tc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Ts:return"Portal";case Jl:return"Profiler";case Sd:return"StrictMode";case Zl:return"Suspense";case ec:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Df:return(e.displayName||"Context")+".Consumer";case If:return(e._context.displayName||"Context")+".Provider";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return t=e.displayName||null,t!==null?t:tc(e.type)||"Memo";case kr:t=e._payload,e=e._init;try{return tc(e(t))}catch{}}return null}function aw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tc(t);case 8:return t===Sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iw(e){var t=Of(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Do(e){e._valueTracker||(e._valueTracker=iw(e))}function $f(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Of(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rc(e,t){var s=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function jm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=$r(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ff(e,t){t=t.checked,t!=null&&kd(e,"checked",t,!1)}function sc(e,t){Ff(e,t);var s=$r(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nc(e,t.type,s):t.hasOwnProperty("defaultValue")&&nc(e,t.type,$r(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function nc(e,t,s){(t!=="number"||Pa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Rn=Array.isArray;function Us(e,t,s,n){if(e=e.options,t){t={};for(var o=0;o<s.length;o++)t["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=t.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&n&&(e[s].defaultSelected=!0)}else{for(s=""+$r(s),t=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function km(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Y(92));if(Rn(s)){if(1<s.length)throw Error(Y(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:$r(s)}}function zf(e,t){var s=$r(t.value),n=$r(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Sm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,Bf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lw=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){lw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function Vf(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function Wf(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,o=Vf(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,o):e[s]=o}}var cw=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(e,t){if(t){if(cw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function lc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=null;function Td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dc=null,Bs=null,Vs=null;function Cm(e){if(e=No(e)){if(typeof dc!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=pi(t),dc(e.stateNode,e.type,t))}}function Hf(e){Bs?Vs?Vs.push(e):Vs=[e]:Bs=e}function Gf(){if(Bs){var e=Bs,t=Vs;if(Vs=Bs=null,Cm(e),t)for(e=0;e<t.length;e++)Cm(t[e])}}function Yf(e,t){return e(t)}function Kf(){}var ml=!1;function qf(e,t,s){if(ml)return e(t,s);ml=!0;try{return Yf(e,t,s)}finally{ml=!1,(Bs!==null||Vs!==null)&&(Kf(),Gf())}}function qn(e,t){var s=e.stateNode;if(s===null)return null;var n=pi(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Y(231,t,typeof s));return s}var uc=!1;if(ur)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){uc=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{uc=!1}function dw(e,t,s,n,o,a,i,l,d){var m=Array.prototype.slice.call(arguments,3);try{t.apply(s,m)}catch(h){this.onError(h)}}var $n=!1,_a=null,Aa=!1,mc=null,uw={onError:function(e){$n=!0,_a=e}};function mw(e,t,s,n,o,a,i,l,d){$n=!1,_a=null,dw.apply(uw,arguments)}function hw(e,t,s,n,o,a,i,l,d){if(mw.apply(this,arguments),$n){if($n){var m=_a;$n=!1,_a=null}else throw Error(Y(198));Aa||(Aa=!0,mc=m)}}function xs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Xf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Em(e){if(xs(e)!==e)throw Error(Y(188))}function fw(e){var t=e.alternate;if(!t){if(t=xs(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var s=e,n=t;;){var o=s.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){s=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===s)return Em(o),e;if(a===n)return Em(o),t;a=a.sibling}throw Error(Y(188))}if(s.return!==n.return)s=o,n=a;else{for(var i=!1,l=o.child;l;){if(l===s){i=!0,s=o,n=a;break}if(l===n){i=!0,n=o,s=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===s){i=!0,s=a,n=o;break}if(l===n){i=!0,n=a,s=o;break}l=l.sibling}if(!i)throw Error(Y(189))}}if(s.alternate!==n)throw Error(Y(190))}if(s.tag!==3)throw Error(Y(188));return s.stateNode.current===s?e:t}function Qf(e){return e=fw(e),e!==null?Jf(e):null}function Jf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jf(e);if(t!==null)return t;e=e.sibling}return null}var Zf=ft.unstable_scheduleCallback,Tm=ft.unstable_cancelCallback,xw=ft.unstable_shouldYield,pw=ft.unstable_requestPaint,Ce=ft.unstable_now,gw=ft.unstable_getCurrentPriorityLevel,Pd=ft.unstable_ImmediatePriority,ex=ft.unstable_UserBlockingPriority,Ra=ft.unstable_NormalPriority,yw=ft.unstable_LowPriority,tx=ft.unstable_IdlePriority,mi=null,Jt=null;function vw(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(mi,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:jw,ww=Math.log,bw=Math.LN2;function jw(e){return e>>>=0,e===0?32:31-(ww(e)/bw|0)|0}var Oo=64,$o=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ma(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~o;l!==0?n=Mn(l):(a&=i,a!==0&&(n=Mn(a)))}else i=s&~o,i!==0?n=Mn(i):a!==0&&(n=Mn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-$t(t),o=1<<s,n|=e[s],t&=~o;return n}function Nw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kw(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-$t(a),l=1<<i,d=o[i];d===-1?(!(l&s)||l&n)&&(o[i]=Nw(l,t)):d<=t&&(e.expiredLanes|=l),a&=~l}}function hc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rx(){var e=Oo;return Oo<<=1,!(Oo&4194240)&&(Oo=64),e}function hl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function bo(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=s}function Sw(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-$t(s),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,s&=~a}}function _d(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-$t(s),o=1<<n;o&t|e[n]&t&&(e[n]|=t),s&=~o}}var de=0;function sx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nx,Ad,ox,ax,ix,fc=!1,Fo=[],_r=null,Ar=null,Rr=null,Xn=new Map,Qn=new Map,Cr=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pm(e,t){switch(e){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(t.pointerId)}}function Nn(e,t,s,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=No(t),t!==null&&Ad(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ew(e,t,s,n,o){switch(t){case"focusin":return _r=Nn(_r,e,t,s,n,o),!0;case"dragenter":return Ar=Nn(Ar,e,t,s,n,o),!0;case"mouseover":return Rr=Nn(Rr,e,t,s,n,o),!0;case"pointerover":var a=o.pointerId;return Xn.set(a,Nn(Xn.get(a)||null,e,t,s,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Qn.set(a,Nn(Qn.get(a)||null,e,t,s,n,o)),!0}return!1}function lx(e){var t=Jr(e.target);if(t!==null){var s=xs(t);if(s!==null){if(t=s.tag,t===13){if(t=Xf(s),t!==null){e.blockedOn=t,ix(e.priority,function(){ox(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);cc=n,s.target.dispatchEvent(n),cc=null}else return t=No(s),t!==null&&Ad(t),e.blockedOn=s,!1;t.shift()}return!0}function _m(e,t,s){da(e)&&s.delete(t)}function Tw(){fc=!1,_r!==null&&da(_r)&&(_r=null),Ar!==null&&da(Ar)&&(Ar=null),Rr!==null&&da(Rr)&&(Rr=null),Xn.forEach(_m),Qn.forEach(_m)}function kn(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,Tw)))}function Jn(e){function t(o){return kn(o,e)}if(0<Fo.length){kn(Fo[0],e);for(var s=1;s<Fo.length;s++){var n=Fo[s];n.blockedOn===e&&(n.blockedOn=null)}}for(_r!==null&&kn(_r,e),Ar!==null&&kn(Ar,e),Rr!==null&&kn(Rr,e),Xn.forEach(t),Qn.forEach(t),s=0;s<Cr.length;s++)n=Cr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cr.length&&(s=Cr[0],s.blockedOn===null);)lx(s),s.blockedOn===null&&Cr.shift()}var Ws=yr.ReactCurrentBatchConfig,Ia=!0;function Pw(e,t,s,n){var o=de,a=Ws.transition;Ws.transition=null;try{de=1,Rd(e,t,s,n)}finally{de=o,Ws.transition=a}}function _w(e,t,s,n){var o=de,a=Ws.transition;Ws.transition=null;try{de=4,Rd(e,t,s,n)}finally{de=o,Ws.transition=a}}function Rd(e,t,s,n){if(Ia){var o=xc(e,t,s,n);if(o===null)Nl(e,t,n,Da,s),Pm(e,n);else if(Ew(o,e,t,s,n))n.stopPropagation();else if(Pm(e,n),t&4&&-1<Cw.indexOf(e)){for(;o!==null;){var a=No(o);if(a!==null&&nx(a),a=xc(e,t,s,n),a===null&&Nl(e,t,n,Da,s),a===o)break;o=a}o!==null&&n.stopPropagation()}else Nl(e,t,n,null,s)}}var Da=null;function xc(e,t,s,n){if(Da=null,e=Td(n),e=Jr(e),e!==null)if(t=xs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Xf(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Da=e,null}function cx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gw()){case Pd:return 1;case ex:return 4;case Ra:case yw:return 16;case tx:return 536870912;default:return 16}default:return 16}}var Tr=null,Md=null,ua=null;function dx(){if(ua)return ua;var e,t=Md,s=t.length,n,o="value"in Tr?Tr.value:Tr.textContent,a=o.length;for(e=0;e<s&&t[e]===o[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===o[a-n];n++);return ua=o.slice(e,1<n?1-n:void 0)}function ma(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zo(){return!0}function Am(){return!1}function pt(e){function t(s,n,o,a,i){this._reactName=s,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?zo:Am,this.isPropagationStopped=Am,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),t}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Id=pt(hn),jo=Ne({},hn,{view:0,detail:0}),Aw=pt(jo),fl,xl,Sn,hi=Ne({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&e.type==="mousemove"?(fl=e.screenX-Sn.screenX,xl=e.screenY-Sn.screenY):xl=fl=0,Sn=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:xl}}),Rm=pt(hi),Rw=Ne({},hi,{dataTransfer:0}),Mw=pt(Rw),Iw=Ne({},jo,{relatedTarget:0}),pl=pt(Iw),Dw=Ne({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=pt(Dw),Ow=Ne({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$w=pt(Ow),Fw=Ne({},hn,{data:0}),Mm=pt(Fw),zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bw[e])?!!t[e]:!1}function Dd(){return Vw}var Ww=Ne({},jo,{key:function(e){if(e.key){var t=zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(e){return e.type==="keypress"?ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hw=pt(Ww),Gw=Ne({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=pt(Gw),Yw=Ne({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),Kw=pt(Yw),qw=Ne({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xw=pt(qw),Qw=Ne({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=pt(Qw),Zw=[9,13,27,32],Ld=ur&&"CompositionEvent"in window,Fn=null;ur&&"documentMode"in document&&(Fn=document.documentMode);var eb=ur&&"TextEvent"in window&&!Fn,ux=ur&&(!Ld||Fn&&8<Fn&&11>=Fn),Dm=" ",Lm=!1;function mx(e,t){switch(e){case"keyup":return Zw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function tb(e,t){switch(e){case"compositionend":return hx(t);case"keypress":return t.which!==32?null:(Lm=!0,Dm);case"textInput":return e=t.data,e===Dm&&Lm?null:e;default:return null}}function rb(e,t){if(_s)return e==="compositionend"||!Ld&&mx(e,t)?(e=dx(),ua=Md=Tr=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ux&&t.locale!=="ko"?null:t.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sb[e.type]:t==="textarea"}function fx(e,t,s,n){Hf(n),t=La(t,"onChange"),0<t.length&&(s=new Id("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var zn=null,Zn=null;function nb(e){Sx(e,0)}function fi(e){var t=Ms(e);if($f(t))return e}function ob(e,t){if(e==="change")return t}var xx=!1;if(ur){var gl;if(ur){var yl="oninput"in document;if(!yl){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),yl=typeof $m.oninput=="function"}gl=yl}else gl=!1;xx=gl&&(!document.documentMode||9<document.documentMode)}function Fm(){zn&&(zn.detachEvent("onpropertychange",px),Zn=zn=null)}function px(e){if(e.propertyName==="value"&&fi(Zn)){var t=[];fx(t,Zn,e,Td(e)),qf(nb,t)}}function ab(e,t,s){e==="focusin"?(Fm(),zn=t,Zn=s,zn.attachEvent("onpropertychange",px)):e==="focusout"&&Fm()}function ib(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(Zn)}function lb(e,t){if(e==="click")return fi(t)}function cb(e,t){if(e==="input"||e==="change")return fi(t)}function db(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:db;function eo(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var o=s[n];if(!Ql.call(t,o)||!zt(e[o],t[o]))return!1}return!0}function zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Um(e,t){var s=zm(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zm(s)}}function gx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yx(){for(var e=window,t=Pa();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Pa(e.document)}return t}function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ub(e){var t=yx(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&gx(s.ownerDocument.documentElement,s)){if(n!==null&&Od(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=Um(s,a);var i=Um(s,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mb=ur&&"documentMode"in document&&11>=document.documentMode,As=null,pc=null,Un=null,gc=!1;function Bm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gc||As==null||As!==Pa(n)||(n=As,"selectionStart"in n&&Od(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&eo(Un,n)||(Un=n,n=La(pc,"onSelect"),0<n.length&&(t=new Id("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=As)))}function Uo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Rs={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},vl={},vx={};ur&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function xi(e){if(vl[e])return vl[e];if(!Rs[e])return e;var t=Rs[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in vx)return vl[e]=t[s];return e}var wx=xi("animationend"),bx=xi("animationiteration"),jx=xi("animationstart"),Nx=xi("transitionend"),kx=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,t){kx.set(e,t),fs(t,[e])}for(var wl=0;wl<Vm.length;wl++){var bl=Vm[wl],hb=bl.toLowerCase(),fb=bl[0].toUpperCase()+bl.slice(1);Wr(hb,"on"+fb)}Wr(wx,"onAnimationEnd");Wr(bx,"onAnimationIteration");Wr(jx,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Nx,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Wm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,hw(n,t,void 0,e),e.currentTarget=null}function Sx(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],d=l.instance,m=l.currentTarget;if(l=l.listener,d!==a&&o.isPropagationStopped())break e;Wm(o,l,m),a=d}else for(i=0;i<n.length;i++){if(l=n[i],d=l.instance,m=l.currentTarget,l=l.listener,d!==a&&o.isPropagationStopped())break e;Wm(o,l,m),a=d}}}if(Aa)throw e=mc,Aa=!1,mc=null,e}function ye(e,t){var s=t[jc];s===void 0&&(s=t[jc]=new Set);var n=e+"__bubble";s.has(n)||(Cx(t,e,2,!1),s.add(n))}function jl(e,t,s){var n=0;t&&(n|=4),Cx(s,e,n,t)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Bo]){e[Bo]=!0,Mf.forEach(function(s){s!=="selectionchange"&&(xb.has(s)||jl(s,!1,e),jl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bo]||(t[Bo]=!0,jl("selectionchange",!1,t))}}function Cx(e,t,s,n){switch(cx(t)){case 1:var o=Pw;break;case 4:o=_w;break;default:o=Rd}s=o.bind(null,t,s,e),o=void 0,!uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,s,{capture:!0,passive:o}):e.addEventListener(t,s,!0):o!==void 0?e.addEventListener(t,s,{passive:o}):e.addEventListener(t,s,!1)}function Nl(e,t,s,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Jr(l),i===null)return;if(d=i.tag,d===5||d===6){n=a=i;continue e}l=l.parentNode}}n=n.return}qf(function(){var m=a,h=Td(s),f=[];e:{var c=kx.get(e);if(c!==void 0){var p=Id,w=e;switch(e){case"keypress":if(ma(s)===0)break e;case"keydown":case"keyup":p=Hw;break;case"focusin":w="focus",p=pl;break;case"focusout":w="blur",p=pl;break;case"beforeblur":case"afterblur":p=pl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Kw;break;case wx:case bx:case jx:p=Lw;break;case Nx:p=Xw;break;case"scroll":p=Aw;break;case"wheel":p=Jw;break;case"copy":case"cut":case"paste":p=$w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Im}var x=(t&4)!==0,j=!x&&e==="scroll",g=x?c!==null?c+"Capture":null:c;x=[];for(var y=m,v;y!==null;){v=y;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,g!==null&&(C=qn(y,g),C!=null&&x.push(ro(y,C,v)))),j)break;y=y.return}0<x.length&&(c=new p(c,w,null,s,h),f.push({event:c,listeners:x}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",c&&s!==cc&&(w=s.relatedTarget||s.fromElement)&&(Jr(w)||w[mr]))break e;if((p||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,p?(w=s.relatedTarget||s.toElement,p=m,w=w?Jr(w):null,w!==null&&(j=xs(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=m),p!==w)){if(x=Rm,C="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Im,C="onPointerLeave",g="onPointerEnter",y="pointer"),j=p==null?c:Ms(p),v=w==null?c:Ms(w),c=new x(C,y+"leave",p,s,h),c.target=j,c.relatedTarget=v,C=null,Jr(h)===m&&(x=new x(g,y+"enter",w,s,h),x.target=v,x.relatedTarget=j,C=x),j=C,p&&w)t:{for(x=p,g=w,y=0,v=x;v;v=ks(v))y++;for(v=0,C=g;C;C=ks(C))v++;for(;0<y-v;)x=ks(x),y--;for(;0<v-y;)g=ks(g),v--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=ks(x),g=ks(g)}x=null}else x=null;p!==null&&Hm(f,c,p,x,!1),w!==null&&j!==null&&Hm(f,j,w,x,!0)}}e:{if(c=m?Ms(m):window,p=c.nodeName&&c.nodeName.toLowerCase(),p==="select"||p==="input"&&c.type==="file")var S=ob;else if(Om(c))if(xx)S=cb;else{S=ib;var k=ab}else(p=c.nodeName)&&p.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=lb);if(S&&(S=S(e,m))){fx(f,S,s,h);break e}k&&k(e,c,m),e==="focusout"&&(k=c._wrapperState)&&k.controlled&&c.type==="number"&&nc(c,"number",c.value)}switch(k=m?Ms(m):window,e){case"focusin":(Om(k)||k.contentEditable==="true")&&(As=k,pc=m,Un=null);break;case"focusout":Un=pc=As=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Bm(f,s,h);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":Bm(f,s,h)}var N;if(Ld)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _s?mx(e,s)&&(b="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(b="onCompositionStart");b&&(ux&&s.locale!=="ko"&&(_s||b!=="onCompositionStart"?b==="onCompositionEnd"&&_s&&(N=dx()):(Tr=h,Md="value"in Tr?Tr.value:Tr.textContent,_s=!0)),k=La(m,b),0<k.length&&(b=new Mm(b,e,null,s,h),f.push({event:b,listeners:k}),N?b.data=N:(N=hx(s),N!==null&&(b.data=N)))),(N=eb?tb(e,s):rb(e,s))&&(m=La(m,"onBeforeInput"),0<m.length&&(h=new Mm("onBeforeInput","beforeinput",null,s,h),f.push({event:h,listeners:m}),h.data=N))}Sx(f,t)})}function ro(e,t,s){return{instance:e,listener:t,currentTarget:s}}function La(e,t){for(var s=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=qn(e,s),a!=null&&n.unshift(ro(e,a,o)),a=qn(e,t),a!=null&&n.push(ro(e,a,o))),e=e.return}return n}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hm(e,t,s,n,o){for(var a=t._reactName,i=[];s!==null&&s!==n;){var l=s,d=l.alternate,m=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&m!==null&&(l=m,o?(d=qn(s,a),d!=null&&i.unshift(ro(s,d,l))):o||(d=qn(s,a),d!=null&&i.push(ro(s,d,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(gb,"")}function Vo(e,t,s){if(t=Gm(t),Gm(e)!==t&&s)throw Error(Y(425))}function Oa(){}var yc=null,vc=null;function wc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bc=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,Ym=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ym<"u"?function(e){return Ym.resolve(null).then(e).catch(wb)}:bc;function wb(e){setTimeout(function(){throw e})}function kl(e,t){var s=t,n=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(n===0){e.removeChild(o),Jn(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=o}while(s);Jn(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var fn=Math.random().toString(36).slice(2),qt="__reactFiber$"+fn,so="__reactProps$"+fn,mr="__reactContainer$"+fn,jc="__reactEvents$"+fn,bb="__reactListeners$"+fn,jb="__reactHandles$"+fn;function Jr(e){var t=e[qt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[mr]||s[qt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Km(e);e!==null;){if(s=e[qt])return s;e=Km(e)}return t}e=s,s=e.parentNode}return null}function No(e){return e=e[qt]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function pi(e){return e[so]||null}var Nc=[],Is=-1;function Hr(e){return{current:e}}function ve(e){0>Is||(e.current=Nc[Is],Nc[Is]=null,Is--)}function xe(e,t){Is++,Nc[Is]=e.current,e.current=t}var Fr={},He=Hr(Fr),st=Hr(!1),ss=Fr;function Js(e,t){var s=e.type.contextTypes;if(!s)return Fr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in s)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function nt(e){return e=e.childContextTypes,e!=null}function $a(){ve(st),ve(He)}function qm(e,t,s){if(He.current!==Fr)throw Error(Y(168));xe(He,t),xe(st,s)}function Ex(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(Y(108,aw(e)||"Unknown",o));return Ne({},s,n)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,ss=He.current,xe(He,e),xe(st,st.current),!0}function Xm(e,t,s){var n=e.stateNode;if(!n)throw Error(Y(169));s?(e=Ex(e,t,ss),n.__reactInternalMemoizedMergedChildContext=e,ve(st),ve(He),xe(He,e)):ve(st),xe(st,s)}var or=null,gi=!1,Sl=!1;function Tx(e){or===null?or=[e]:or.push(e)}function Nb(e){gi=!0,Tx(e)}function Gr(){if(!Sl&&or!==null){Sl=!0;var e=0,t=de;try{var s=or;for(de=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}or=null,gi=!1}catch(o){throw or!==null&&(or=or.slice(e+1)),Zf(Pd,Gr),o}finally{de=t,Sl=!1}}return null}var Ds=[],Ls=0,za=null,Ua=0,vt=[],wt=0,ns=null,ar=1,ir="";function Xr(e,t){Ds[Ls++]=Ua,Ds[Ls++]=za,za=e,Ua=t}function Px(e,t,s){vt[wt++]=ar,vt[wt++]=ir,vt[wt++]=ns,ns=e;var n=ar;e=ir;var o=32-$t(n)-1;n&=~(1<<o),s+=1;var a=32-$t(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,ar=1<<32-$t(t)+o|s<<o|n,ir=a+e}else ar=1<<a|s<<o|n,ir=e}function $d(e){e.return!==null&&(Xr(e,1),Px(e,1,0))}function Fd(e){for(;e===za;)za=Ds[--Ls],Ds[Ls]=null,Ua=Ds[--Ls],Ds[Ls]=null;for(;e===ns;)ns=vt[--wt],vt[wt]=null,ir=vt[--wt],vt[wt]=null,ar=vt[--wt],vt[wt]=null}var ut=null,dt=null,we=!1,Ot=null;function _x(e,t){var s=Nt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Qm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,dt=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=ns!==null?{id:ar,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Nt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ut=e,dt=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sc(e){if(we){var t=dt;if(t){var s=t;if(!Qm(e,t)){if(kc(e))throw Error(Y(418));t=Mr(s.nextSibling);var n=ut;t&&Qm(e,t)?_x(n,s):(e.flags=e.flags&-4097|2,we=!1,ut=e)}}else{if(kc(e))throw Error(Y(418));e.flags=e.flags&-4097|2,we=!1,ut=e}}}function Jm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Wo(e){if(e!==ut)return!1;if(!we)return Jm(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wc(e.type,e.memoizedProps)),t&&(t=dt)){if(kc(e))throw Ax(),Error(Y(418));for(;t;)_x(e,t),t=Mr(t.nextSibling)}if(Jm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){dt=Mr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ut?Mr(e.stateNode.nextSibling):null;return!0}function Ax(){for(var e=dt;e;)e=Mr(e.nextSibling)}function Zs(){dt=ut=null,we=!1}function zd(e){Ot===null?Ot=[e]:Ot.push(e)}var kb=yr.ReactCurrentBatchConfig;function Cn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Y(309));var n=s.stateNode}if(!n)throw Error(Y(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Y(284));if(!s._owner)throw Error(Y(290,e))}return e}function Ho(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zm(e){var t=e._init;return t(e._payload)}function Rx(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function s(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(g,y){return g=Or(g,y),g.index=0,g.sibling=null,g}function a(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,v,C){return y===null||y.tag!==6?(y=Rl(v,g.mode,C),y.return=g,y):(y=o(y,v),y.return=g,y)}function d(g,y,v,C){var S=v.type;return S===Ps?h(g,y,v.props.children,C,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kr&&Zm(S)===y.type)?(C=o(y,v.props),C.ref=Cn(g,y,v),C.return=g,C):(C=va(v.type,v.key,v.props,null,g.mode,C),C.ref=Cn(g,y,v),C.return=g,C)}function m(g,y,v,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Ml(v,g.mode,C),y.return=g,y):(y=o(y,v.children||[]),y.return=g,y)}function h(g,y,v,C,S){return y===null||y.tag!==7?(y=rs(v,g.mode,C,S),y.return=g,y):(y=o(y,v),y.return=g,y)}function f(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rl(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Io:return v=va(y.type,y.key,y.props,null,g.mode,v),v.ref=Cn(g,null,y),v.return=g,v;case Ts:return y=Ml(y,g.mode,v),y.return=g,y;case kr:var C=y._init;return f(g,C(y._payload),v)}if(Rn(y)||bn(y))return y=rs(y,g.mode,v,null),y.return=g,y;Ho(g,y)}return null}function c(g,y,v,C){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(g,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Io:return v.key===S?d(g,y,v,C):null;case Ts:return v.key===S?m(g,y,v,C):null;case kr:return S=v._init,c(g,y,S(v._payload),C)}if(Rn(v)||bn(v))return S!==null?null:h(g,y,v,C,null);Ho(g,v)}return null}function p(g,y,v,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(v)||null,l(y,g,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Io:return g=g.get(C.key===null?v:C.key)||null,d(y,g,C,S);case Ts:return g=g.get(C.key===null?v:C.key)||null,m(y,g,C,S);case kr:var k=C._init;return p(g,y,v,k(C._payload),S)}if(Rn(C)||bn(C))return g=g.get(v)||null,h(y,g,C,S,null);Ho(y,C)}return null}function w(g,y,v,C){for(var S=null,k=null,N=y,b=y=0,E=null;N!==null&&b<v.length;b++){N.index>b?(E=N,N=null):E=N.sibling;var _=c(g,N,v[b],C);if(_===null){N===null&&(N=E);break}e&&N&&_.alternate===null&&t(g,N),y=a(_,y,b),k===null?S=_:k.sibling=_,k=_,N=E}if(b===v.length)return s(g,N),we&&Xr(g,b),S;if(N===null){for(;b<v.length;b++)N=f(g,v[b],C),N!==null&&(y=a(N,y,b),k===null?S=N:k.sibling=N,k=N);return we&&Xr(g,b),S}for(N=n(g,N);b<v.length;b++)E=p(N,g,b,v[b],C),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?b:E.key),y=a(E,y,b),k===null?S=E:k.sibling=E,k=E);return e&&N.forEach(function(D){return t(g,D)}),we&&Xr(g,b),S}function x(g,y,v,C){var S=bn(v);if(typeof S!="function")throw Error(Y(150));if(v=S.call(v),v==null)throw Error(Y(151));for(var k=S=null,N=y,b=y=0,E=null,_=v.next();N!==null&&!_.done;b++,_=v.next()){N.index>b?(E=N,N=null):E=N.sibling;var D=c(g,N,_.value,C);if(D===null){N===null&&(N=E);break}e&&N&&D.alternate===null&&t(g,N),y=a(D,y,b),k===null?S=D:k.sibling=D,k=D,N=E}if(_.done)return s(g,N),we&&Xr(g,b),S;if(N===null){for(;!_.done;b++,_=v.next())_=f(g,_.value,C),_!==null&&(y=a(_,y,b),k===null?S=_:k.sibling=_,k=_);return we&&Xr(g,b),S}for(N=n(g,N);!_.done;b++,_=v.next())_=p(N,g,b,_.value,C),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?b:_.key),y=a(_,y,b),k===null?S=_:k.sibling=_,k=_);return e&&N.forEach(function(O){return t(g,O)}),we&&Xr(g,b),S}function j(g,y,v,C){if(typeof v=="object"&&v!==null&&v.type===Ps&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Io:e:{for(var S=v.key,k=y;k!==null;){if(k.key===S){if(S=v.type,S===Ps){if(k.tag===7){s(g,k.sibling),y=o(k,v.props.children),y.return=g,g=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kr&&Zm(S)===k.type){s(g,k.sibling),y=o(k,v.props),y.ref=Cn(g,k,v),y.return=g,g=y;break e}s(g,k);break}else t(g,k);k=k.sibling}v.type===Ps?(y=rs(v.props.children,g.mode,C,v.key),y.return=g,g=y):(C=va(v.type,v.key,v.props,null,g.mode,C),C.ref=Cn(g,y,v),C.return=g,g=C)}return i(g);case Ts:e:{for(k=v.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){s(g,y.sibling),y=o(y,v.children||[]),y.return=g,g=y;break e}else{s(g,y);break}else t(g,y);y=y.sibling}y=Ml(v,g.mode,C),y.return=g,g=y}return i(g);case kr:return k=v._init,j(g,y,k(v._payload),C)}if(Rn(v))return w(g,y,v,C);if(bn(v))return x(g,y,v,C);Ho(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(s(g,y.sibling),y=o(y,v),y.return=g,g=y):(s(g,y),y=Rl(v,g.mode,C),y.return=g,g=y),i(g)):s(g,y)}return j}var en=Rx(!0),Mx=Rx(!1),Ba=Hr(null),Va=null,Os=null,Ud=null;function Bd(){Ud=Os=Va=null}function Vd(e){var t=Ba.current;ve(Ba),e._currentValue=t}function Cc(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Hs(e,t){Va=e,Ud=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},Os===null){if(Va===null)throw Error(Y(308));Os=e,Va.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return t}var Zr=null;function Wd(e){Zr===null?Zr=[e]:Zr.push(e)}function Ix(e,t,s,n){var o=t.interleaved;return o===null?(s.next=s,Wd(t)):(s.next=o.next,o.next=s),t.interleaved=s,hr(e,n)}function hr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Sr=!1;function Hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,hr(e,s)}return o=n.interleaved,o===null?(t.next=t,Wd(n)):(t.next=o.next,o.next=t),n.interleaved=t,hr(e,s)}function ha(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,_d(e,s)}}function eh(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var o=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?o=a=i:a=a.next=i,s=s.next}while(s!==null);a===null?o=a=t:a=a.next=t}else o=a=t;s={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Wa(e,t,s,n){var o=e.updateQueue;Sr=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var d=l,m=d.next;d.next=null,i===null?a=m:i.next=m,i=d;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=m:l.next=m,h.lastBaseUpdate=d))}if(a!==null){var f=o.baseState;i=0,h=m=d=null,l=a;do{var c=l.lane,p=l.eventTime;if((n&c)===c){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(c=t,p=s,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,c);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,c=typeof w=="function"?w.call(p,f,c):w,c==null)break e;f=Ne({},f,c);break e;case 2:Sr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=o.effects,c===null?o.effects=[l]:c.push(l))}else p={eventTime:p,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(m=h=p,d=f):h=h.next=p,i|=c;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;c=l,l=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}while(!0);if(h===null&&(d=f),o.baseState=d,o.firstBaseUpdate=m,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);as|=i,e.lanes=i,e.memoizedState=f}}function th(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=s,typeof o!="function")throw Error(Y(191,o));o.call(n)}}}var ko={},Zt=Hr(ko),no=Hr(ko),oo=Hr(ko);function es(e){if(e===ko)throw Error(Y(174));return e}function Gd(e,t){switch(xe(oo,t),xe(no,e),xe(Zt,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ac(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ac(t,e)}ve(Zt),xe(Zt,t)}function tn(){ve(Zt),ve(no),ve(oo)}function Lx(e){es(oo.current);var t=es(Zt.current),s=ac(t,e.type);t!==s&&(xe(no,e),xe(Zt,s))}function Yd(e){no.current===e&&(ve(Zt),ve(no))}var be=Hr(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function Kd(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var fa=yr.ReactCurrentDispatcher,El=yr.ReactCurrentBatchConfig,os=0,je=null,_e=null,Me=null,Ga=!1,Bn=!1,ao=0,Sb=0;function Be(){throw Error(Y(321))}function qd(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!zt(e[s],t[s]))return!1;return!0}function Xd(e,t,s,n,o,a){if(os=a,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?Pb:_b,e=s(n,o),Bn){a=0;do{if(Bn=!1,ao=0,25<=a)throw Error(Y(301));a+=1,Me=_e=null,t.updateQueue=null,fa.current=Ab,e=s(n,o)}while(Bn)}if(fa.current=Ya,t=_e!==null&&_e.next!==null,os=0,Me=_e=je=null,Ga=!1,t)throw Error(Y(300));return e}function Qd(){var e=ao!==0;return ao=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?je.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if(_e===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Me===null?je.memoizedState:Me.next;if(t!==null)Me=t,_e=e;else{if(e===null)throw Error(Y(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Me===null?je.memoizedState=Me=e:Me=Me.next=e}return Me}function io(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Pt(),s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=e;var n=_e,o=n.baseQueue,a=s.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,s.pending=null}if(o!==null){a=o.next,n=n.baseState;var l=i=null,d=null,m=a;do{var h=m.lane;if((os&h)===h)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:e(n,m.action);else{var f={lane:h,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(l=d=f,i=n):d=d.next=f,je.lanes|=h,as|=h}m=m.next}while(m!==null&&m!==a);d===null?i=n:d.next=l,zt(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=d,s.lastRenderedState=n}if(e=s.interleaved,e!==null){o=e;do a=o.lane,je.lanes|=a,as|=a,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Pl(e){var t=Pt(),s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=e;var n=s.dispatch,o=s.pending,a=t.memoizedState;if(o!==null){s.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);zt(a,t.memoizedState)||(et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Ox(){}function $x(e,t){var s=je,n=Pt(),o=t(),a=!zt(n.memoizedState,o);if(a&&(n.memoizedState=o,et=!0),n=n.queue,Jd(Ux.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Me!==null&&Me.memoizedState.tag&1){if(s.flags|=2048,lo(9,zx.bind(null,s,n,o,t),void 0,null),Ie===null)throw Error(Y(349));os&30||Fx(s,t,o)}return o}function Fx(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function zx(e,t,s,n){t.value=s,t.getSnapshot=n,Bx(t)&&Vx(e)}function Ux(e,t,s){return s(function(){Bx(t)&&Vx(e)})}function Bx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!zt(e,s)}catch{return!0}}function Vx(e){var t=hr(e,1);t!==null&&Ft(t,e,1,-1)}function rh(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:e},t.queue=e,e=e.dispatch=Tb.bind(null,je,e),[t.memoizedState,e]}function lo(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Wx(){return Pt().memoizedState}function xa(e,t,s,n){var o=Kt();je.flags|=e,o.memoizedState=lo(1|t,s,void 0,n===void 0?null:n)}function yi(e,t,s,n){var o=Pt();n=n===void 0?null:n;var a=void 0;if(_e!==null){var i=_e.memoizedState;if(a=i.destroy,n!==null&&qd(n,i.deps)){o.memoizedState=lo(t,s,a,n);return}}je.flags|=e,o.memoizedState=lo(1|t,s,a,n)}function sh(e,t){return xa(8390656,8,e,t)}function Jd(e,t){return yi(2048,8,e,t)}function Hx(e,t){return yi(4,2,e,t)}function Gx(e,t){return yi(4,4,e,t)}function Yx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kx(e,t,s){return s=s!=null?s.concat([e]):null,yi(4,4,Yx.bind(null,t,e),s)}function Zd(){}function qx(e,t){var s=Pt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&qd(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Xx(e,t){var s=Pt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&qd(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Qx(e,t,s){return os&21?(zt(s,t)||(s=rx(),je.lanes|=s,as|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=s)}function Cb(e,t){var s=de;de=s!==0&&4>s?s:4,e(!0);var n=El.transition;El.transition={};try{e(!1),t()}finally{de=s,El.transition=n}}function Jx(){return Pt().memoizedState}function Eb(e,t,s){var n=Lr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Zx(e))ep(t,s);else if(s=Ix(e,t,s,n),s!==null){var o=Ye();Ft(s,e,n,o),tp(s,t,n)}}function Tb(e,t,s){var n=Lr(e),o={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zx(e))ep(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,s);if(o.hasEagerState=!0,o.eagerState=l,zt(l,i)){var d=t.interleaved;d===null?(o.next=o,Wd(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}s=Ix(e,t,o,n),s!==null&&(o=Ye(),Ft(s,e,n,o),tp(s,t,n))}}function Zx(e){var t=e.alternate;return e===je||t!==null&&t===je}function ep(e,t){Bn=Ga=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function tp(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,_d(e,s)}}var Ya={readContext:Tt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Pb={readContext:Tt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:sh,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,xa(4194308,4,Yx.bind(null,t,e),s)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var s=Kt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Kt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eb.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:rh,useDebugValue:Zd,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=rh(!1),t=e[0];return e=Cb.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=je,o=Kt();if(we){if(s===void 0)throw Error(Y(407));s=s()}else{if(s=t(),Ie===null)throw Error(Y(349));os&30||Fx(n,t,s)}o.memoizedState=s;var a={value:s,getSnapshot:t};return o.queue=a,sh(Ux.bind(null,n,a,e),[e]),n.flags|=2048,lo(9,zx.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Kt(),t=Ie.identifierPrefix;if(we){var s=ir,n=ar;s=(n&~(1<<32-$t(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ao++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Sb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_b={readContext:Tt,useCallback:qx,useContext:Tt,useEffect:Jd,useImperativeHandle:Kx,useInsertionEffect:Hx,useLayoutEffect:Gx,useMemo:Xx,useReducer:Tl,useRef:Wx,useState:function(){return Tl(io)},useDebugValue:Zd,useDeferredValue:function(e){var t=Pt();return Qx(t,_e.memoizedState,e)},useTransition:function(){var e=Tl(io)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:$x,useId:Jx,unstable_isNewReconciler:!1},Ab={readContext:Tt,useCallback:qx,useContext:Tt,useEffect:Jd,useImperativeHandle:Kx,useInsertionEffect:Hx,useLayoutEffect:Gx,useMemo:Xx,useReducer:Pl,useRef:Wx,useState:function(){return Pl(io)},useDebugValue:Zd,useDeferredValue:function(e){var t=Pt();return _e===null?t.memoizedState=e:Qx(t,_e.memoizedState,e)},useTransition:function(){var e=Pl(io)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:$x,useId:Jx,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Ec(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ne({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vi={isMounted:function(e){return(e=e._reactInternals)?xs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ye(),o=Lr(e),a=dr(n,o);a.payload=t,s!=null&&(a.callback=s),t=Ir(e,a,o),t!==null&&(Ft(t,e,o,n),ha(t,e,o))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ye(),o=Lr(e),a=dr(n,o);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Ir(e,a,o),t!==null&&(Ft(t,e,o,n),ha(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ye(),n=Lr(e),o=dr(s,n);o.tag=2,t!=null&&(o.callback=t),t=Ir(e,o,n),t!==null&&(Ft(t,e,n,s),ha(t,e,n))}};function nh(e,t,s,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!eo(s,n)||!eo(o,a):!0}function rp(e,t,s){var n=!1,o=Fr,a=t.contextType;return typeof a=="object"&&a!==null?a=Tt(a):(o=nt(t)?ss:He.current,n=t.contextTypes,a=(n=n!=null)?Js(e,o):Fr),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function oh(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function Tc(e,t,s,n){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},Hd(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Tt(a):(a=nt(t)?ss:He.current,o.context=Js(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ec(e,t,a,s),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vi.enqueueReplaceState(o,o.state,null),Wa(e,s,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function rn(e,t){try{var s="",n=t;do s+=ow(n),n=n.return;while(n);var o=s}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function _l(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Pc(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function sp(e,t,s){s=dr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){qa||(qa=!0,Fc=n),Pc(e,t)},s}function np(e,t,s){s=dr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;s.payload=function(){return n(o)},s.callback=function(){Pc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){Pc(e,t),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function ah(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Rb;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(s)||(o.add(s),e=Gb.bind(null,e,t,s),t.then(e,e))}function ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lh(e,t,s,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=dr(-1,1),t.tag=2,Ir(s,t,1))),s.lanes|=1),e)}var Mb=yr.ReactCurrentOwner,et=!1;function Ge(e,t,s,n){t.child=e===null?Mx(t,null,s,n):en(t,e.child,s,n)}function ch(e,t,s,n,o){s=s.render;var a=t.ref;return Hs(t,o),n=Xd(e,t,s,n,a,o),s=Qd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fr(e,t,o)):(we&&s&&$d(t),t.flags|=1,Ge(e,t,n,o),t.child)}function dh(e,t,s,n,o){if(e===null){var a=s.type;return typeof a=="function"&&!iu(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,op(e,t,a,n,o)):(e=va(s.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(s=s.compare,s=s!==null?s:eo,s(i,n)&&e.ref===t.ref)return fr(e,t,o)}return t.flags|=1,e=Or(a,n),e.ref=t.ref,e.return=t,t.child=e}function op(e,t,s,n,o){if(e!==null){var a=e.memoizedProps;if(eo(a,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,fr(e,t,o)}return _c(e,t,s,n,o)}function ap(e,t,s){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Fs,lt),lt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Fs,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,xe(Fs,lt),lt|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,xe(Fs,lt),lt|=n;return Ge(e,t,o,s),t.child}function ip(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function _c(e,t,s,n,o){var a=nt(s)?ss:He.current;return a=Js(t,a),Hs(t,o),s=Xd(e,t,s,n,a,o),n=Qd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,fr(e,t,o)):(we&&n&&$d(t),t.flags|=1,Ge(e,t,s,o),t.child)}function uh(e,t,s,n,o){if(nt(s)){var a=!0;Fa(t)}else a=!1;if(Hs(t,o),t.stateNode===null)pa(e,t),rp(t,s,n),Tc(t,s,n,o),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var d=i.context,m=s.contextType;typeof m=="object"&&m!==null?m=Tt(m):(m=nt(s)?ss:He.current,m=Js(t,m));var h=s.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||d!==m)&&oh(t,i,n,m),Sr=!1;var c=t.memoizedState;i.state=c,Wa(t,n,i,o),d=t.memoizedState,l!==n||c!==d||st.current||Sr?(typeof h=="function"&&(Ec(t,s,h,n),d=t.memoizedState),(l=Sr||nh(t,s,l,n,c,d,m))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),i.props=n,i.state=d,i.context=m,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Dx(e,t),l=t.memoizedProps,m=t.type===t.elementType?l:Dt(t.type,l),i.props=m,f=t.pendingProps,c=i.context,d=s.contextType,typeof d=="object"&&d!==null?d=Tt(d):(d=nt(s)?ss:He.current,d=Js(t,d));var p=s.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||c!==d)&&oh(t,i,n,d),Sr=!1,c=t.memoizedState,i.state=c,Wa(t,n,i,o);var w=t.memoizedState;l!==f||c!==w||st.current||Sr?(typeof p=="function"&&(Ec(t,s,p,n),w=t.memoizedState),(m=Sr||nh(t,s,m,n,c,w,d)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=d,n=m):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return Ac(e,t,s,n,a,o)}function Ac(e,t,s,n,o,a){ip(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&Xm(t,s,!1),fr(e,t,a);n=t.stateNode,Mb.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=en(t,e.child,null,a),t.child=en(t,null,l,a)):Ge(e,t,l,a),t.memoizedState=n.state,o&&Xm(t,s,!0),t.child}function lp(e){var t=e.stateNode;t.pendingContext?qm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qm(e,t.context,!1),Gd(e,t.containerInfo)}function mh(e,t,s,n,o){return Zs(),zd(o),t.flags|=256,Ge(e,t,s,n),t.child}var Rc={dehydrated:null,treeContext:null,retryLane:0};function Mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function cp(e,t,s){var n=t.pendingProps,o=be.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),xe(be,o&1),e===null)return Sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ji(i,n,0,null),e=rs(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mc(s),t.memoizedState=Rc,e):eu(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Ib(e,t,i,n,l,o,s);if(a){a=n.fallback,i=t.mode,o=e.child,l=o.sibling;var d={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Or(o,d),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Or(l,a):(a=rs(a,i,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Mc(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~s,t.memoizedState=Rc,n}return a=e.child,e=a.sibling,n=Or(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function eu(e,t){return t=ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Go(e,t,s,n){return n!==null&&zd(n),en(t,e.child,null,s),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ib(e,t,s,n,o,a,i){if(s)return t.flags&256?(t.flags&=-257,n=_l(Error(Y(422))),Go(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=ji({mode:"visible",children:n.children},o,0,null),a=rs(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&en(t,e.child,null,i),t.child.memoizedState=Mc(i),t.memoizedState=Rc,a);if(!(t.mode&1))return Go(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Y(419)),n=_l(a,n,void 0),Go(e,t,i,n)}if(l=(i&e.childLanes)!==0,et||l){if(n=Ie,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,hr(e,o),Ft(n,e,o,-1))}return au(),n=_l(Error(Y(421))),Go(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Yb.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,dt=Mr(o.nextSibling),ut=t,we=!0,Ot=null,e!==null&&(vt[wt++]=ar,vt[wt++]=ir,vt[wt++]=ns,ar=e.id,ir=e.overflow,ns=t),t=eu(t,n.children),t.flags|=4096,t)}function hh(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Cc(e.return,t,s)}function Al(e,t,s,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=o)}function dp(e,t,s){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(Ge(e,t,n.children,s),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hh(e,s,t);else if(e.tag===19)hh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(be,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(s=t.child,o=null;s!==null;)e=s.alternate,e!==null&&Ha(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=t.child,t.child=null):(o=s.sibling,s.sibling=null),Al(t,!1,o,s,a);break;case"backwards":for(s=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ha(e)===null){t.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}Al(t,!0,s,null,a);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,s=Or(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Or(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Db(e,t,s){switch(t.tag){case 3:lp(t),Zs();break;case 5:Lx(t);break;case 1:nt(t.type)&&Fa(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;xe(Ba,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(be,be.current&1),t.flags|=128,null):s&t.child.childLanes?cp(e,t,s):(xe(be,be.current&1),e=fr(e,t,s),e!==null?e.sibling:null);xe(be,be.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return dp(e,t,s);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),xe(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,ap(e,t,s)}return fr(e,t,s)}var up,Ic,mp,hp;up=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ic=function(){};mp=function(e,t,s,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,es(Zt.current);var a=null;switch(s){case"input":o=rc(e,o),n=rc(e,n),a=[];break;case"select":o=Ne({},o,{value:void 0}),n=Ne({},n,{value:void 0}),a=[];break;case"textarea":o=oc(e,o),n=oc(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oa)}ic(s,n);var i;s=null;for(m in o)if(!n.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var l=o[m];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Yn.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in n){var d=n[m];if(l=o!=null?o[m]:void 0,n.hasOwnProperty(m)&&d!==l&&(d!=null||l!=null))if(m==="style")if(l){for(i in l)!l.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in d)d.hasOwnProperty(i)&&l[i]!==d[i]&&(s||(s={}),s[i]=d[i])}else s||(a||(a=[]),a.push(m,s)),s=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(a=a||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Yn.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&ye("scroll",e),a||l===d||(a=[])):(a=a||[]).push(m,d))}s&&(a=a||[]).push("style",s);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};hp=function(e,t,s,n){s!==n&&(t.flags|=4)};function En(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Lb(e,t,s){var n=t.pendingProps;switch(Fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return nt(t.type)&&$a(),Ve(t),null;case 3:return n=t.stateNode,tn(),ve(st),ve(He),Kd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Bc(Ot),Ot=null))),Ic(e,t),Ve(t),null;case 5:Yd(t);var o=es(oo.current);if(s=t.type,e!==null&&t.stateNode!=null)mp(e,t,s,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Ve(t),null}if(e=es(Zt.current),Wo(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[qt]=t,n[so]=a,e=(t.mode&1)!==0,s){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(o=0;o<In.length;o++)ye(In[o],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":jm(n,a),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ye("invalid",n);break;case"textarea":km(n,a),ye("invalid",n)}ic(s,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vo(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vo(n.textContent,l,e),o=["children",""+l]):Yn.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ye("scroll",n)}switch(s){case"input":Do(n),Nm(n,a,!0);break;case"textarea":Do(n),Sm(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Oa)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uf(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[qt]=t,e[so]=n,up(e,t,!1,!1),t.stateNode=e;e:{switch(i=lc(s,n),s){case"dialog":ye("cancel",e),ye("close",e),o=n;break;case"iframe":case"object":case"embed":ye("load",e),o=n;break;case"video":case"audio":for(o=0;o<In.length;o++)ye(In[o],e);o=n;break;case"source":ye("error",e),o=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),o=n;break;case"details":ye("toggle",e),o=n;break;case"input":jm(e,n),o=rc(e,n),ye("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Ne({},n,{value:void 0}),ye("invalid",e);break;case"textarea":km(e,n),o=oc(e,n),ye("invalid",e);break;default:o=n}ic(s,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var d=l[a];a==="style"?Wf(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Bf(e,d)):a==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&Kn(e,d):typeof d=="number"&&Kn(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yn.hasOwnProperty(a)?d!=null&&a==="onScroll"&&ye("scroll",e):d!=null&&kd(e,a,d,i))}switch(s){case"input":Do(e),Nm(e,n,!1);break;case"textarea":Do(e),Sm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$r(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Us(e,!!n.multiple,a,!1):n.defaultValue!=null&&Us(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Oa)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)hp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(s=es(oo.current),es(Zt.current),Wo(t)){if(n=t.stateNode,s=t.memoizedProps,n[qt]=t,(a=n.nodeValue!==s)&&(e=ut,e!==null))switch(e.tag){case 3:Vo(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vo(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return Ve(t),null;case 13:if(ve(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&dt!==null&&t.mode&1&&!(t.flags&128))Ax(),Zs(),t.flags|=98560,a=!1;else if(a=Wo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Y(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Y(317));a[qt]=t}else Zs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else Ot!==null&&(Bc(Ot),Ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Ae===0&&(Ae=3):au())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return tn(),Ic(e,t),e===null&&to(t.stateNode.containerInfo),Ve(t),null;case 10:return Vd(t.type._context),Ve(t),null;case 17:return nt(t.type)&&$a(),Ve(t),null;case 19:if(ve(be),a=t.memoizedState,a===null)return Ve(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)En(a,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ha(e),i!==null){for(t.flags|=128,En(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xe(be,be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ce()>sn&&(t.flags|=128,n=!0,En(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ha(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),En(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!we)return Ve(t),null}else 2*Ce()-a.renderingStartTime>sn&&s!==1073741824&&(t.flags|=128,n=!0,En(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(s=a.last,s!==null?s.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ce(),t.sibling=null,s=be.current,xe(be,n?s&1|2:s&1),t):(Ve(t),null);case 22:case 23:return ou(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?lt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function Ob(e,t){switch(Fd(t),t.tag){case 1:return nt(t.type)&&$a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(),ve(st),ve(He),Kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yd(t),null;case 13:if(ve(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(be),null;case 4:return tn(),null;case 10:return Vd(t.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Yo=!1,We=!1,$b=typeof WeakSet=="function"?WeakSet:Set,Z=null;function $s(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ke(e,t,n)}else s.current=null}function Dc(e,t,s){try{s()}catch(n){ke(e,t,n)}}var fh=!1;function Fb(e,t){if(yc=Ia,e=yx(),Od(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var i=0,l=-1,d=-1,m=0,h=0,f=e,c=null;t:for(;;){for(var p;f!==s||o!==0&&f.nodeType!==3||(l=i+o),f!==a||n!==0&&f.nodeType!==3||(d=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)c=f,f=p;for(;;){if(f===e)break t;if(c===s&&++m===o&&(l=i),c===a&&++h===n&&(d=i),(p=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=p}s=l===-1||d===-1?null:{start:l,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(vc={focusedElem:e,selectionRange:s},Ia=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Dt(t.type,x),j);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){ke(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=fh,fh=!1,w}function Vn(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Dc(t,s,a)}o=o.next}while(o!==n)}}function wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Lc(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function fp(e){var t=e.alternate;t!==null&&(e.alternate=null,fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[so],delete t[jc],delete t[bb],delete t[jb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xp(e){return e.tag===5||e.tag===3||e.tag===4}function xh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Oa));else if(n!==4&&(e=e.child,e!==null))for(Oc(e,t,s),e=e.sibling;e!==null;)Oc(e,t,s),e=e.sibling}function $c(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($c(e,t,s),e=e.sibling;e!==null;)$c(e,t,s),e=e.sibling}var Oe=null,Lt=!1;function wr(e,t,s){for(s=s.child;s!==null;)pp(e,t,s),s=s.sibling}function pp(e,t,s){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(mi,s)}catch{}switch(s.tag){case 5:We||$s(s,t);case 6:var n=Oe,o=Lt;Oe=null,wr(e,t,s),Oe=n,Lt=o,Oe!==null&&(Lt?(e=Oe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Oe.removeChild(s.stateNode));break;case 18:Oe!==null&&(Lt?(e=Oe,s=s.stateNode,e.nodeType===8?kl(e.parentNode,s):e.nodeType===1&&kl(e,s),Jn(e)):kl(Oe,s.stateNode));break;case 4:n=Oe,o=Lt,Oe=s.stateNode.containerInfo,Lt=!0,wr(e,t,s),Oe=n,Lt=o;break;case 0:case 11:case 14:case 15:if(!We&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Dc(s,t,i),o=o.next}while(o!==n)}wr(e,t,s);break;case 1:if(!We&&($s(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){ke(s,t,l)}wr(e,t,s);break;case 21:wr(e,t,s);break;case 22:s.mode&1?(We=(n=We)||s.memoizedState!==null,wr(e,t,s),We=n):wr(e,t,s);break;default:wr(e,t,s)}}function ph(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new $b),t.forEach(function(n){var o=Kb.bind(null,e,n);s.has(n)||(s.add(n),n.then(o,o))})}}function Rt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var o=s[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Oe=l.stateNode,Lt=!1;break e;case 3:Oe=l.stateNode.containerInfo,Lt=!0;break e;case 4:Oe=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(Oe===null)throw Error(Y(160));pp(a,i,o),Oe=null,Lt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(m){ke(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gp(t,e),t=t.sibling}function gp(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Yt(e),n&4){try{Vn(3,e,e.return),wi(3,e)}catch(x){ke(e,e.return,x)}try{Vn(5,e,e.return)}catch(x){ke(e,e.return,x)}}break;case 1:Rt(t,e),Yt(e),n&512&&s!==null&&$s(s,s.return);break;case 5:if(Rt(t,e),Yt(e),n&512&&s!==null&&$s(s,s.return),e.flags&32){var o=e.stateNode;try{Kn(o,"")}catch(x){ke(e,e.return,x)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=s!==null?s.memoizedProps:a,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Ff(o,a),lc(l,i);var m=lc(l,a);for(i=0;i<d.length;i+=2){var h=d[i],f=d[i+1];h==="style"?Wf(o,f):h==="dangerouslySetInnerHTML"?Bf(o,f):h==="children"?Kn(o,f):kd(o,h,f,m)}switch(l){case"input":sc(o,a);break;case"textarea":zf(o,a);break;case"select":var c=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Us(o,!!a.multiple,p,!1):c!==!!a.multiple&&(a.defaultValue!=null?Us(o,!!a.multiple,a.defaultValue,!0):Us(o,!!a.multiple,a.multiple?[]:"",!1))}o[so]=a}catch(x){ke(e,e.return,x)}}break;case 6:if(Rt(t,e),Yt(e),n&4){if(e.stateNode===null)throw Error(Y(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(x){ke(e,e.return,x)}}break;case 3:if(Rt(t,e),Yt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Jn(t.containerInfo)}catch(x){ke(e,e.return,x)}break;case 4:Rt(t,e),Yt(e);break;case 13:Rt(t,e),Yt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(su=Ce())),n&4&&ph(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(We=(m=We)||h,Rt(t,e),We=m):Rt(t,e),Yt(e),n&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!h&&e.mode&1)for(Z=e,h=e.child;h!==null;){for(f=Z=h;Z!==null;){switch(c=Z,p=c.child,c.tag){case 0:case 11:case 14:case 15:Vn(4,c,c.return);break;case 1:$s(c,c.return);var w=c.stateNode;if(typeof w.componentWillUnmount=="function"){n=c,s=c.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ke(n,s,x)}}break;case 5:$s(c,c.return);break;case 22:if(c.memoizedState!==null){yh(f);continue}}p!==null?(p.return=c,Z=p):yh(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{o=f.stateNode,m?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,d=f.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Vf("display",i))}catch(x){ke(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=m?"":f.memoizedProps}catch(x){ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Yt(e),n&4&&ph(e);break;case 21:break;default:Rt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(xp(s)){var n=s;break e}s=s.return}throw Error(Y(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Kn(o,""),n.flags&=-33);var a=xh(e);$c(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,l=xh(e);Oc(e,l,i);break;default:throw Error(Y(161))}}catch(d){ke(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zb(e,t,s){Z=e,yp(e)}function yp(e,t,s){for(var n=(e.mode&1)!==0;Z!==null;){var o=Z,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||Yo;if(!i){var l=o.alternate,d=l!==null&&l.memoizedState!==null||We;l=Yo;var m=We;if(Yo=i,(We=d)&&!m)for(Z=o;Z!==null;)i=Z,d=i.child,i.tag===22&&i.memoizedState!==null?vh(o):d!==null?(d.return=i,Z=d):vh(o);for(;a!==null;)Z=a,yp(a),a=a.sibling;Z=o,Yo=l,We=m}gh(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Z=a):gh(e)}}function gh(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||wi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!We)if(s===null)n.componentDidMount();else{var o=t.elementType===t.type?s.memoizedProps:Dt(t.type,s.memoizedProps);n.componentDidUpdate(o,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&th(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}th(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var h=m.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Jn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}We||t.flags&512&&Lc(t)}catch(c){ke(t,t.return,c)}}if(t===e){Z=null;break}if(s=t.sibling,s!==null){s.return=t.return,Z=s;break}Z=t.return}}function yh(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Z=s;break}Z=t.return}}function vh(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{wi(4,t)}catch(d){ke(t,s,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(d){ke(t,o,d)}}var a=t.return;try{Lc(t)}catch(d){ke(t,a,d)}break;case 5:var i=t.return;try{Lc(t)}catch(d){ke(t,i,d)}}}catch(d){ke(t,t.return,d)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var Ub=Math.ceil,Ka=yr.ReactCurrentDispatcher,tu=yr.ReactCurrentOwner,kt=yr.ReactCurrentBatchConfig,ce=0,Ie=null,Pe=null,Fe=0,lt=0,Fs=Hr(0),Ae=0,co=null,as=0,bi=0,ru=0,Wn=null,Ze=null,su=0,sn=1/0,nr=null,qa=!1,Fc=null,Dr=null,Ko=!1,Pr=null,Xa=0,Hn=0,zc=null,ga=-1,ya=0;function Ye(){return ce&6?Ce():ga!==-1?ga:ga=Ce()}function Lr(e){return e.mode&1?ce&2&&Fe!==0?Fe&-Fe:kb.transition!==null?(ya===0&&(ya=rx()),ya):(e=de,e!==0||(e=window.event,e=e===void 0?16:cx(e.type)),e):1}function Ft(e,t,s,n){if(50<Hn)throw Hn=0,zc=null,Error(Y(185));bo(e,s,n),(!(ce&2)||e!==Ie)&&(e===Ie&&(!(ce&2)&&(bi|=s),Ae===4&&Er(e,Fe)),ot(e,n),s===1&&ce===0&&!(t.mode&1)&&(sn=Ce()+500,gi&&Gr()))}function ot(e,t){var s=e.callbackNode;kw(e,t);var n=Ma(e,e===Ie?Fe:0);if(n===0)s!==null&&Tm(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Tm(s),t===1)e.tag===0?Nb(wh.bind(null,e)):Tx(wh.bind(null,e)),vb(function(){!(ce&6)&&Gr()}),s=null;else{switch(sx(n)){case 1:s=Pd;break;case 4:s=ex;break;case 16:s=Ra;break;case 536870912:s=tx;break;default:s=Ra}s=Cp(s,vp.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function vp(e,t){if(ga=-1,ya=0,ce&6)throw Error(Y(327));var s=e.callbackNode;if(Gs()&&e.callbackNode!==s)return null;var n=Ma(e,e===Ie?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qa(e,n);else{t=n;var o=ce;ce|=2;var a=bp();(Ie!==e||Fe!==t)&&(nr=null,sn=Ce()+500,ts(e,t));do try{Wb();break}catch(l){wp(e,l)}while(!0);Bd(),Ka.current=a,ce=o,Pe!==null?t=0:(Ie=null,Fe=0,t=Ae)}if(t!==0){if(t===2&&(o=hc(e),o!==0&&(n=o,t=Uc(e,o))),t===1)throw s=co,ts(e,0),Er(e,n),ot(e,Ce()),s;if(t===6)Er(e,n);else{if(o=e.current.alternate,!(n&30)&&!Bb(o)&&(t=Qa(e,n),t===2&&(a=hc(e),a!==0&&(n=a,t=Uc(e,a))),t===1))throw s=co,ts(e,0),Er(e,n),ot(e,Ce()),s;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Qr(e,Ze,nr);break;case 3:if(Er(e,n),(n&130023424)===n&&(t=su+500-Ce(),10<t)){if(Ma(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=bc(Qr.bind(null,e,Ze,nr),t);break}Qr(e,Ze,nr);break;case 4:if(Er(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-$t(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ub(n/1960))-n,10<n){e.timeoutHandle=bc(Qr.bind(null,e,Ze,nr),n);break}Qr(e,Ze,nr);break;case 5:Qr(e,Ze,nr);break;default:throw Error(Y(329))}}}return ot(e,Ce()),e.callbackNode===s?vp.bind(null,e):null}function Uc(e,t){var s=Wn;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=Ze,Ze=s,t!==null&&Bc(t)),e}function Bc(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Bb(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var o=s[n],a=o.getSnapshot;o=o.value;try{if(!zt(a(),o))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~ru,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-$t(t),n=1<<s;e[s]=-1,t&=~n}}function wh(e){if(ce&6)throw Error(Y(327));Gs();var t=Ma(e,0);if(!(t&1))return ot(e,Ce()),null;var s=Qa(e,t);if(e.tag!==0&&s===2){var n=hc(e);n!==0&&(t=n,s=Uc(e,n))}if(s===1)throw s=co,ts(e,0),Er(e,t),ot(e,Ce()),s;if(s===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qr(e,Ze,nr),ot(e,Ce()),null}function nu(e,t){var s=ce;ce|=1;try{return e(t)}finally{ce=s,ce===0&&(sn=Ce()+500,gi&&Gr())}}function is(e){Pr!==null&&Pr.tag===0&&!(ce&6)&&Gs();var t=ce;ce|=1;var s=kt.transition,n=de;try{if(kt.transition=null,de=1,e)return e()}finally{de=n,kt.transition=s,ce=t,!(ce&6)&&Gr()}}function ou(){lt=Fs.current,ve(Fs)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,yb(s)),Pe!==null)for(s=Pe.return;s!==null;){var n=s;switch(Fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$a();break;case 3:tn(),ve(st),ve(He),Kd();break;case 5:Yd(n);break;case 4:tn();break;case 13:ve(be);break;case 19:ve(be);break;case 10:Vd(n.type._context);break;case 22:case 23:ou()}s=s.return}if(Ie=e,Pe=e=Or(e.current,null),Fe=lt=t,Ae=0,co=null,ru=bi=as=0,Ze=Wn=null,Zr!==null){for(t=0;t<Zr.length;t++)if(s=Zr[t],n=s.interleaved,n!==null){s.interleaved=null;var o=n.next,a=s.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}s.pending=n}Zr=null}return e}function wp(e,t){do{var s=Pe;try{if(Bd(),fa.current=Ya,Ga){for(var n=je.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ga=!1}if(os=0,Me=_e=je=null,Bn=!1,ao=0,tu.current=null,s===null||s.return===null){Ae=1,co=t,Pe=null;break}e:{var a=e,i=s.return,l=s,d=t;if(t=Fe,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ih(i);if(p!==null){p.flags&=-257,lh(p,i,l,a,t),p.mode&1&&ah(a,m,t),t=p,d=m;var w=t.updateQueue;if(w===null){var x=new Set;x.add(d),t.updateQueue=x}else w.add(d);break e}else{if(!(t&1)){ah(a,m,t),au();break e}d=Error(Y(426))}}else if(we&&l.mode&1){var j=ih(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),lh(j,i,l,a,t),zd(rn(d,l));break e}}a=d=rn(d,l),Ae!==4&&(Ae=2),Wn===null?Wn=[a]:Wn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=sp(a,d,t);eh(a,g);break e;case 1:l=d;var y=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Dr===null||!Dr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=np(a,l,t);eh(a,C);break e}}a=a.return}while(a!==null)}Np(s)}catch(S){t=S,Pe===s&&s!==null&&(Pe=s=s.return);continue}break}while(!0)}function bp(){var e=Ka.current;return Ka.current=Ya,e===null?Ya:e}function au(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ie===null||!(as&268435455)&&!(bi&268435455)||Er(Ie,Fe)}function Qa(e,t){var s=ce;ce|=2;var n=bp();(Ie!==e||Fe!==t)&&(nr=null,ts(e,t));do try{Vb();break}catch(o){wp(e,o)}while(!0);if(Bd(),ce=s,Ka.current=n,Pe!==null)throw Error(Y(261));return Ie=null,Fe=0,Ae}function Vb(){for(;Pe!==null;)jp(Pe)}function Wb(){for(;Pe!==null&&!xw();)jp(Pe)}function jp(e){var t=Sp(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Np(e):Pe=t,tu.current=null}function Np(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Ob(s,t),s!==null){s.flags&=32767,Pe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(s=Lb(s,t,lt),s!==null){Pe=s;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function Qr(e,t,s){var n=de,o=kt.transition;try{kt.transition=null,de=1,Hb(e,t,s,n)}finally{kt.transition=o,de=n}return null}function Hb(e,t,s,n){do Gs();while(Pr!==null);if(ce&6)throw Error(Y(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Sw(e,a),e===Ie&&(Pe=Ie=null,Fe=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ko||(Ko=!0,Cp(Ra,function(){return Gs(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=kt.transition,kt.transition=null;var i=de;de=1;var l=ce;ce|=4,tu.current=null,Fb(e,s),gp(s,e),ub(vc),Ia=!!yc,vc=yc=null,e.current=s,zb(s),pw(),ce=l,de=i,kt.transition=a}else e.current=s;if(Ko&&(Ko=!1,Pr=e,Xa=o),a=e.pendingLanes,a===0&&(Dr=null),vw(s.stateNode),ot(e,Ce()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)o=t[s],n(o.value,{componentStack:o.stack,digest:o.digest});if(qa)throw qa=!1,e=Fc,Fc=null,e;return Xa&1&&e.tag!==0&&Gs(),a=e.pendingLanes,a&1?e===zc?Hn++:(Hn=0,zc=e):Hn=0,Gr(),null}function Gs(){if(Pr!==null){var e=sx(Xa),t=kt.transition,s=de;try{if(kt.transition=null,de=16>e?16:e,Pr===null)var n=!1;else{if(e=Pr,Pr=null,Xa=0,ce&6)throw Error(Y(331));var o=ce;for(ce|=4,Z=e.current;Z!==null;){var a=Z,i=a.child;if(Z.flags&16){var l=a.deletions;if(l!==null){for(var d=0;d<l.length;d++){var m=l[d];for(Z=m;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Vn(8,h,a)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var c=h.sibling,p=h.return;if(fp(h),h===m){Z=null;break}if(c!==null){c.return=p,Z=c;break}Z=p}}}var w=a.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}Z=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Z=i;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vn(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Z=g;break e}Z=a.return}}var y=e.current;for(Z=y;Z!==null;){i=Z;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,Z=v;else e:for(i=y;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wi(9,l)}}catch(S){ke(l,l.return,S)}if(l===i){Z=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Z=C;break e}Z=l.return}}if(ce=o,Gr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(mi,e)}catch{}n=!0}return n}finally{de=s,kt.transition=t}}return!1}function bh(e,t,s){t=rn(s,t),t=sp(e,t,1),e=Ir(e,t,1),t=Ye(),e!==null&&(bo(e,1,t),ot(e,t))}function ke(e,t,s){if(e.tag===3)bh(e,e,s);else for(;t!==null;){if(t.tag===3){bh(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=rn(s,e),e=np(t,e,1),t=Ir(t,e,1),e=Ye(),t!==null&&(bo(t,1,e),ot(t,e));break}}t=t.return}}function Gb(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&s,Ie===e&&(Fe&s)===s&&(Ae===4||Ae===3&&(Fe&130023424)===Fe&&500>Ce()-su?ts(e,0):ru|=s),ot(e,t)}function kp(e,t){t===0&&(e.mode&1?(t=$o,$o<<=1,!($o&130023424)&&($o=4194304)):t=1);var s=Ye();e=hr(e,t),e!==null&&(bo(e,t,s),ot(e,s))}function Yb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),kp(e,s)}function Kb(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),kp(e,s)}var Sp;Sp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)et=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return et=!1,Db(e,t,s);et=!!(e.flags&131072)}else et=!1,we&&t.flags&1048576&&Px(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pa(e,t),e=t.pendingProps;var o=Js(t,He.current);Hs(t,s),o=Xd(null,t,n,e,o,s);var a=Qd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(n)?(a=!0,Fa(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Hd(t),o.updater=vi,t.stateNode=o,o._reactInternals=t,Tc(t,n,e,s),t=Ac(null,t,n,!0,a,s)):(t.tag=0,we&&a&&$d(t),Ge(null,t,o,s),t=t.child),t;case 16:n=t.elementType;e:{switch(pa(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=Xb(n),e=Dt(n,e),o){case 0:t=_c(null,t,n,e,s);break e;case 1:t=uh(null,t,n,e,s);break e;case 11:t=ch(null,t,n,e,s);break e;case 14:t=dh(null,t,n,Dt(n.type,e),s);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Dt(n,o),_c(e,t,n,o,s);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Dt(n,o),uh(e,t,n,o,s);case 3:e:{if(lp(t),e===null)throw Error(Y(387));n=t.pendingProps,a=t.memoizedState,o=a.element,Dx(e,t),Wa(t,n,null,s);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=rn(Error(Y(423)),t),t=mh(e,t,n,s,o);break e}else if(n!==o){o=rn(Error(Y(424)),t),t=mh(e,t,n,s,o);break e}else for(dt=Mr(t.stateNode.containerInfo.firstChild),ut=t,we=!0,Ot=null,s=Mx(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Zs(),n===o){t=fr(e,t,s);break e}Ge(e,t,n,s)}t=t.child}return t;case 5:return Lx(t),e===null&&Sc(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,wc(n,o)?i=null:a!==null&&wc(n,a)&&(t.flags|=32),ip(e,t),Ge(e,t,i,s),t.child;case 6:return e===null&&Sc(t),null;case 13:return cp(e,t,s);case 4:return Gd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=en(t,null,n,s):Ge(e,t,n,s),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Dt(n,o),ch(e,t,n,o,s);case 7:return Ge(e,t,t.pendingProps,s),t.child;case 8:return Ge(e,t,t.pendingProps.children,s),t.child;case 12:return Ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,xe(Ba,n._currentValue),n._currentValue=i,a!==null)if(zt(a.value,i)){if(a.children===o.children&&!st.current){t=fr(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=dr(-1,s&-s),d.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var h=m.pending;h===null?d.next=d:(d.next=h.next,h.next=d),m.pending=d}}a.lanes|=s,d=a.alternate,d!==null&&(d.lanes|=s),Cc(a.return,s,t),l.lanes|=s;break}d=d.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Y(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Cc(i,s,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ge(e,t,o.children,s),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Hs(t,s),o=Tt(o),n=n(o),t.flags|=1,Ge(e,t,n,s),t.child;case 14:return n=t.type,o=Dt(n,t.pendingProps),o=Dt(n.type,o),dh(e,t,n,o,s);case 15:return op(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Dt(n,o),pa(e,t),t.tag=1,nt(n)?(e=!0,Fa(t)):e=!1,Hs(t,s),rp(t,n,o),Tc(t,n,o,s),Ac(null,t,n,!0,e,s);case 19:return dp(e,t,s);case 22:return ap(e,t,s)}throw Error(Y(156,t.tag))};function Cp(e,t){return Zf(e,t)}function qb(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,s,n){return new qb(e,t,s,n)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xb(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cd)return 11;if(e===Ed)return 14}return 2}function Or(e,t){var s=e.alternate;return s===null?(s=Nt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function va(e,t,s,n,o,a){var i=2;if(n=e,typeof e=="function")iu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ps:return rs(s.children,o,a,t);case Sd:i=8,o|=8;break;case Jl:return e=Nt(12,s,t,o|2),e.elementType=Jl,e.lanes=a,e;case Zl:return e=Nt(13,s,t,o),e.elementType=Zl,e.lanes=a,e;case ec:return e=Nt(19,s,t,o),e.elementType=ec,e.lanes=a,e;case Lf:return ji(s,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case If:i=10;break e;case Df:i=9;break e;case Cd:i=11;break e;case Ed:i=14;break e;case kr:i=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Nt(i,s,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function rs(e,t,s,n){return e=Nt(7,e,n,t),e.lanes=s,e}function ji(e,t,s,n){return e=Nt(22,e,n,t),e.elementType=Lf,e.lanes=s,e.stateNode={isHidden:!1},e}function Rl(e,t,s){return e=Nt(6,e,null,t),e.lanes=s,e}function Ml(e,t,s){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qb(e,t,s,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function lu(e,t,s,n,o,a,i,l,d){return e=new Qb(e,t,s,l,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(a),e}function Jb(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Ep(e){if(!e)return Fr;e=e._reactInternals;e:{if(xs(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var s=e.type;if(nt(s))return Ex(e,s,t)}return t}function Tp(e,t,s,n,o,a,i,l,d){return e=lu(s,n,!0,e,o,a,i,l,d),e.context=Ep(null),s=e.current,n=Ye(),o=Lr(s),a=dr(n,o),a.callback=t??null,Ir(s,a,o),e.current.lanes=o,bo(e,o,n),ot(e,n),e}function Ni(e,t,s,n){var o=t.current,a=Ye(),i=Lr(o);return s=Ep(s),t.context===null?t.context=s:t.pendingContext=s,t=dr(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ir(o,t,i),e!==null&&(Ft(e,o,i,a),ha(e,o,i)),i}function Ja(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function cu(e,t){jh(e,t),(e=e.alternate)&&jh(e,t)}function Zb(){return null}var Pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function du(e){this._internalRoot=e}ki.prototype.render=du.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Ni(e,t,null,null)};ki.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;is(function(){Ni(null,e,null,null)}),t[mr]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=ax();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Cr.length&&t!==0&&t<Cr[s].priority;s++);Cr.splice(s,0,e),s===0&&lx(e)}};function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nh(){}function ej(e,t,s,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var m=Ja(i);a.call(m)}}var i=Tp(t,n,e,0,null,!1,!1,"",Nh);return e._reactRootContainer=i,e[mr]=i.current,to(e.nodeType===8?e.parentNode:e),is(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var m=Ja(d);l.call(m)}}var d=lu(e,0,!1,null,null,!1,!1,"",Nh);return e._reactRootContainer=d,e[mr]=d.current,to(e.nodeType===8?e.parentNode:e),is(function(){Ni(t,d,s,n)}),d}function Ci(e,t,s,n,o){var a=s._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var d=Ja(i);l.call(d)}}Ni(t,i,e,o)}else i=ej(s,t,e,o,n);return Ja(i)}nx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Mn(t.pendingLanes);s!==0&&(_d(t,s|1),ot(t,Ce()),!(ce&6)&&(sn=Ce()+500,Gr()))}break;case 13:is(function(){var n=hr(e,1);if(n!==null){var o=Ye();Ft(n,e,1,o)}}),cu(e,1)}};Ad=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var s=Ye();Ft(t,e,134217728,s)}cu(e,134217728)}};ox=function(e){if(e.tag===13){var t=Lr(e),s=hr(e,t);if(s!==null){var n=Ye();Ft(s,e,t,n)}cu(e,t)}};ax=function(){return de};ix=function(e,t){var s=de;try{return de=e,t()}finally{de=s}};dc=function(e,t,s){switch(t){case"input":if(sc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var o=pi(n);if(!o)throw Error(Y(90));$f(n),sc(n,o)}}}break;case"textarea":zf(e,s);break;case"select":t=s.value,t!=null&&Us(e,!!s.multiple,t,!1)}};Yf=nu;Kf=is;var tj={usingClientEntryPoint:!1,Events:[No,Ms,pi,Hf,Gf,nu]},Tn={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rj={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qf(e),e===null?null:e.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{mi=qo.inject(rj),Jt=qo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj;xt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(t))throw Error(Y(200));return Jb(e,t,null,s)};xt.createRoot=function(e,t){if(!uu(e))throw Error(Y(299));var s=!1,n="",o=Pp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=lu(e,1,!1,null,null,s,!1,n,o),e[mr]=t.current,to(e.nodeType===8?e.parentNode:e),new du(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Qf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return is(e)};xt.hydrate=function(e,t,s){if(!Si(t))throw Error(Y(200));return Ci(null,e,t,!0,s)};xt.hydrateRoot=function(e,t,s){if(!uu(e))throw Error(Y(405));var n=s!=null&&s.hydratedSources||null,o=!1,a="",i=Pp;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Tp(t,null,e,1,s??null,o,!1,a,i),e[mr]=t.current,to(e),n)for(e=0;e<n.length;e++)s=n[e],o=s._getVersion,o=o(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,o]:t.mutableSourceEagerHydrationData.push(s,o);return new ki(t)};xt.render=function(e,t,s){if(!Si(t))throw Error(Y(200));return Ci(null,e,t,!1,s)};xt.unmountComponentAtNode=function(e){if(!Si(e))throw Error(Y(40));return e._reactRootContainer?(is(function(){Ci(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};xt.unstable_batchedUpdates=nu;xt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Si(s))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Ci(e,t,s,!1,n)};xt.version="18.3.1-next-f1338f8080-20240426";function _p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_p)}catch(e){console.error(e)}}_p(),_f.exports=xt;var ps=_f.exports;const Ap=di(ps);var Rp,kh=ps;Rp=kh.createRoot,kh.hydrateRoot;const sj=1,nj=1e6;let Il=0;function oj(){return Il=(Il+1)%Number.MAX_SAFE_INTEGER,Il.toString()}const Dl=new Map,Sh=e=>{if(Dl.has(e))return;const t=setTimeout(()=>{Dl.delete(e),Gn({type:"REMOVE_TOAST",toastId:e})},nj);Dl.set(e,t)},aj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Sh(s):e.toasts.forEach(n=>{Sh(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},wa=[];let ba={toasts:[]};function Gn(e){ba=aj(ba,e),wa.forEach(t=>{t(ba)})}function ij({...e}){const t=oj(),s=o=>Gn({type:"UPDATE_TOAST",toast:{...o,id:t}}),n=()=>Gn({type:"DISMISS_TOAST",toastId:t});return Gn({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||n()}}}),{id:t,dismiss:n,update:s}}function gt(){const[e,t]=u.useState(ba);return u.useEffect(()=>(wa.push(t),()=>{const s=wa.indexOf(t);s>-1&&wa.splice(s,1)}),[e]),{...e,toast:ij,dismiss:s=>Gn({type:"DISMISS_TOAST",toastId:s})}}function J(e,t,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function lj(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ei(...e){return t=>e.forEach(s=>lj(s,t))}function me(...e){return u.useCallback(Ei(...e),e)}function cj(e,t=[]){let s=[];function n(a,i){const l=u.createContext(i),d=s.length;s=[...s,i];function m(f){const{scope:c,children:p,...w}=f,x=(c==null?void 0:c[e][d])||l,j=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:j,children:p})}function h(f,c){const p=(c==null?void 0:c[e][d])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,h]}const o=()=>{const a=s.map(i=>u.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,dj(o,...t)]}function dj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:d,scopeName:m})=>{const f=d(a)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var ls=u.forwardRef((e,t)=>{const{children:s,...n}=e,o=u.Children.toArray(s),a=o.find(uj);if(a){const i=a.props.children,l=o.map(d=>d===a?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:d);return r.jsx(Vc,{...n,ref:t,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return r.jsx(Vc,{...n,ref:t,children:s})});ls.displayName="Slot";var Vc=u.forwardRef((e,t)=>{const{children:s,...n}=e;if(u.isValidElement(s)){const o=hj(s);return u.cloneElement(s,{...mj(n,s.props),ref:t?Ei(t,o):o})}return u.Children.count(s)>1?u.Children.only(null):null});Vc.displayName="SlotClone";var Mp=({children:e})=>r.jsx(r.Fragment,{children:e});function uj(e){return u.isValidElement(e)&&e.type===Mp}function mj(e,t){const s={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?s[n]=(...l)=>{a(...l),o(...l)}:o&&(s[n]=o):n==="style"?s[n]={...o,...a}:n==="className"&&(s[n]=[o,a].filter(Boolean).join(" "))}return{...e,...s}}function hj(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ti(e){const t=e+"CollectionProvider",[s,n]=cj(t),[o,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:w,children:x}=p,j=q.useRef(null),g=q.useRef(new Map).current;return r.jsx(o,{scope:w,itemMap:g,collectionRef:j,children:x})};i.displayName=t;const l=e+"CollectionSlot",d=q.forwardRef((p,w)=>{const{scope:x,children:j}=p,g=a(l,x),y=me(w,g.collectionRef);return r.jsx(ls,{ref:y,children:j})});d.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",f=q.forwardRef((p,w)=>{const{scope:x,children:j,...g}=p,y=q.useRef(null),v=me(w,y),C=a(m,x);return q.useEffect(()=>(C.itemMap.set(y,{ref:y,...g}),()=>void C.itemMap.delete(y))),r.jsx(ls,{[h]:"",ref:v,children:j})});f.displayName=m;function c(p){const w=a(e+"CollectionConsumer",p);return q.useCallback(()=>{const j=w.collectionRef.current;if(!j)return[];const g=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((C,S)=>g.indexOf(C.ref.current)-g.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},c,n]}function xn(e,t=[]){let s=[];function n(a,i){const l=u.createContext(i),d=s.length;s=[...s,i];const m=f=>{var g;const{scope:c,children:p,...w}=f,x=((g=c==null?void 0:c[e])==null?void 0:g[d])||l,j=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:j,children:p})};m.displayName=a+"Provider";function h(f,c){var x;const p=((x=c==null?void 0:c[e])==null?void 0:x[d])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[m,h]}const o=()=>{const a=s.map(i=>u.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,fj(o,...t)]}function fj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:d,scopeName:m})=>{const f=d(a)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var xj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ne=xj.reduce((e,t)=>{const s=u.forwardRef((n,o)=>{const{asChild:a,...i}=n,l=a?ls:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...i,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function mu(e,t){e&&ps.flushSync(()=>e.dispatchEvent(t))}function Ue(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function pj(e,t=globalThis==null?void 0:globalThis.document){const s=Ue(e);u.useEffect(()=>{const n=o=>{o.key==="Escape"&&s(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var gj="DismissableLayer",Wc="dismissableLayer.update",yj="dismissableLayer.pointerDownOutside",vj="dismissableLayer.focusOutside",Ch,Ip=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),So=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...d}=e,m=u.useContext(Ip),[h,f]=u.useState(null),c=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),w=me(t,N=>f(N)),x=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(j),y=h?x.indexOf(h):-1,v=m.layersWithOutsidePointerEventsDisabled.size>0,C=y>=g,S=bj(N=>{const b=N.target,E=[...m.branches].some(_=>_.contains(b));!C||E||(o==null||o(N),i==null||i(N),N.defaultPrevented||l==null||l())},c),k=jj(N=>{const b=N.target;[...m.branches].some(_=>_.contains(b))||(a==null||a(N),i==null||i(N),N.defaultPrevented||l==null||l())},c);return pj(N=>{y===m.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},c),u.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ch=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),Eh(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=Ch)}},[h,c,s,m]),u.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),Eh())},[h,m]),u.useEffect(()=>{const N=()=>p({});return document.addEventListener(Wc,N),()=>document.removeEventListener(Wc,N)},[]),r.jsx(ne.div,{...d,ref:w,style:{pointerEvents:v?C?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,k.onFocusCapture),onBlurCapture:J(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,S.onPointerDownCapture)})});So.displayName=gj;var wj="DismissableLayerBranch",Dp=u.forwardRef((e,t)=>{const s=u.useContext(Ip),n=u.useRef(null),o=me(t,n);return u.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),r.jsx(ne.div,{...e,ref:o})});Dp.displayName=wj;function bj(e,t=globalThis==null?void 0:globalThis.document){const s=Ue(e),n=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let d=function(){Lp(yj,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function jj(e,t=globalThis==null?void 0:globalThis.document){const s=Ue(e),n=u.useRef(!1);return u.useEffect(()=>{const o=a=>{a.target&&!n.current&&Lp(vj,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Eh(){const e=new CustomEvent(Wc);document.dispatchEvent(e)}function Lp(e,t,s,{discrete:n}){const o=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),n?mu(o,a):o.dispatchEvent(a)}var Nj=So,kj=Dp,De=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},Sj="Portal",Pi=u.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[o,a]=u.useState(!1);De(()=>a(!0),[]);const i=s||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Ap.createPortal(r.jsx(ne.div,{...n,ref:t}),i):null});Pi.displayName=Sj;function Cj(e,t){return u.useReducer((s,n)=>t[s][n]??s,e)}var gs=e=>{const{present:t,children:s}=e,n=Ej(t),o=typeof s=="function"?s({present:n.isPresent}):u.Children.only(s),a=me(n.ref,Tj(o));return typeof s=="function"||n.isPresent?u.cloneElement(o,{ref:a}):null};gs.displayName="Presence";function Ej(e){const[t,s]=u.useState(),n=u.useRef({}),o=u.useRef(e),a=u.useRef("none"),i=e?"mounted":"unmounted",[l,d]=Cj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const m=Xo(n.current);a.current=l==="mounted"?m:"none"},[l]),De(()=>{const m=n.current,h=o.current;if(h!==e){const c=a.current,p=Xo(m);e?d("MOUNT"):p==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(h&&c!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),De(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,f=p=>{const x=Xo(n.current).includes(p.animationName);if(p.target===t&&x&&(d("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},c=p=>{p.target===t&&(a.current=Xo(n.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(m=>{m&&(n.current=getComputedStyle(m)),s(m)},[])}}function Xo(e){return(e==null?void 0:e.animationName)||"none"}function Tj(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function uo({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,o]=Pj({defaultProp:t,onChange:s}),a=e!==void 0,i=a?e:n,l=Ue(s),d=u.useCallback(m=>{if(a){const f=typeof m=="function"?m(e):m;f!==e&&l(f)}else o(m)},[a,e,o,l]);return[i,d]}function Pj({defaultProp:e,onChange:t}){const s=u.useState(e),[n]=s,o=u.useRef(n),a=Ue(t);return u.useEffect(()=>{o.current!==n&&(a(n),o.current=n)},[n,o,a]),s}var _j="VisuallyHidden",Co=u.forwardRef((e,t)=>r.jsx(ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Co.displayName=_j;var Aj=Co,hu="ToastProvider",[fu,Rj,Mj]=Ti("Toast"),[Op,P3]=xn("Toast",[Mj]),[Ij,_i]=Op(hu),$p=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:i}=e,[l,d]=u.useState(null),[m,h]=u.useState(0),f=u.useRef(!1),c=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${hu}\`. Expected non-empty \`string\`.`),r.jsx(fu.Provider,{scope:t,children:r.jsx(Ij,{scope:t,label:s,duration:n,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:u.useCallback(()=>h(p=>p+1),[]),onToastRemove:u.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:c,children:i})})};$p.displayName=hu;var Fp="ToastViewport",Dj=["F8"],Hc="toast.viewportPause",Gc="toast.viewportResume",zp=u.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=Dj,label:o="Notifications ({hotkey})",...a}=e,i=_i(Fp,s),l=Rj(s),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),f=u.useRef(null),c=me(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;u.useEffect(()=>{const j=g=>{var v;n.length!==0&&n.every(C=>g[C]||g.code===C)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),u.useEffect(()=>{const j=d.current,g=f.current;if(w&&j&&g){const y=()=>{if(!i.isClosePausedRef.current){const k=new CustomEvent(Hc);g.dispatchEvent(k),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const k=new CustomEvent(Gc);g.dispatchEvent(k),i.isClosePausedRef.current=!1}},C=k=>{!j.contains(k.relatedTarget)&&v()},S=()=>{j.contains(document.activeElement)||v()};return j.addEventListener("focusin",y),j.addEventListener("focusout",C),j.addEventListener("pointermove",y),j.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{j.removeEventListener("focusin",y),j.removeEventListener("focusout",C),j.removeEventListener("pointermove",y),j.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[w,i.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:j})=>{const y=l().map(v=>{const C=v.ref.current,S=[C,...Kj(C)];return j==="forwards"?S:S.reverse()});return(j==="forwards"?y.reverse():y).flat()},[l]);return u.useEffect(()=>{const j=f.current;if(j){const g=y=>{var S,k,N;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const b=document.activeElement,E=y.shiftKey;if(y.target===j&&E){(S=m.current)==null||S.focus();return}const O=x({tabbingDirection:E?"backwards":"forwards"}),V=O.findIndex($=>$===b);Ll(O.slice(V+1))?y.preventDefault():E?(k=m.current)==null||k.focus():(N=h.current)==null||N.focus()}};return j.addEventListener("keydown",g),()=>j.removeEventListener("keydown",g)}},[l,x]),r.jsxs(kj,{ref:d,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(Yc,{ref:m,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"forwards"});Ll(j)}}),r.jsx(fu.Slot,{scope:s,children:r.jsx(ne.ol,{tabIndex:-1,...a,ref:c})}),w&&r.jsx(Yc,{ref:h,onFocusFromOutsideViewport:()=>{const j=x({tabbingDirection:"backwards"});Ll(j)}})]})});zp.displayName=Fp;var Up="ToastFocusProxy",Yc=u.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...o}=e,a=_i(Up,s);return r.jsx(Co,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:i=>{var m;const l=i.relatedTarget;!((m=a.viewport)!=null&&m.contains(l))&&n()}})});Yc.displayName=Up;var Ai="Toast",Lj="toast.swipeStart",Oj="toast.swipeMove",$j="toast.swipeCancel",Fj="toast.swipeEnd",Bp=u.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:o,onOpenChange:a,...i}=e,[l=!0,d]=uo({prop:n,defaultProp:o,onChange:a});return r.jsx(gs,{present:s||l,children:r.jsx(Bj,{open:l,...i,ref:t,onClose:()=>d(!1),onPause:Ue(e.onPause),onResume:Ue(e.onResume),onSwipeStart:J(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:J(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),d(!1)})})})});Bp.displayName=Ai;var[zj,Uj]=Op(Ai,{onClose(){}}),Bj=u.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:o,open:a,onClose:i,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:c,onSwipeEnd:p,...w}=e,x=_i(Ai,s),[j,g]=u.useState(null),y=me(t,$=>g($)),v=u.useRef(null),C=u.useRef(null),S=o||x.duration,k=u.useRef(0),N=u.useRef(S),b=u.useRef(0),{onToastAdd:E,onToastRemove:_}=x,D=Ue(()=>{var W;(j==null?void 0:j.contains(document.activeElement))&&((W=x.viewport)==null||W.focus()),i()}),O=u.useCallback($=>{!$||$===1/0||(window.clearTimeout(b.current),k.current=new Date().getTime(),b.current=window.setTimeout(D,$))},[D]);u.useEffect(()=>{const $=x.viewport;if($){const W=()=>{O(N.current),m==null||m()},H=()=>{const F=new Date().getTime()-k.current;N.current=N.current-F,window.clearTimeout(b.current),d==null||d()};return $.addEventListener(Hc,H),$.addEventListener(Gc,W),()=>{$.removeEventListener(Hc,H),$.removeEventListener(Gc,W)}}},[x.viewport,S,d,m,O]),u.useEffect(()=>{a&&!x.isClosePausedRef.current&&O(S)},[a,S,x.isClosePausedRef,O]),u.useEffect(()=>(E(),()=>_()),[E,_]);const V=u.useMemo(()=>j?qp(j):null,[j]);return x.viewport?r.jsxs(r.Fragment,{children:[V&&r.jsx(Vj,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),r.jsx(zj,{scope:s,onClose:D,children:ps.createPortal(r.jsx(fu.ItemSlot,{scope:s,children:r.jsx(Nj,{asChild:!0,onEscapeKeyDown:J(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:J(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:J(e.onPointerDown,$=>{$.button===0&&(v.current={x:$.clientX,y:$.clientY})}),onPointerMove:J(e.onPointerMove,$=>{if(!v.current)return;const W=$.clientX-v.current.x,H=$.clientY-v.current.y,F=!!C.current,T=["left","right"].includes(x.swipeDirection),A=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=T?A(0,W):0,L=T?0:A(0,H),B=$.pointerType==="touch"?10:2,P={x:M,y:L},z={originalEvent:$,delta:P};F?(C.current=P,Qo(Oj,f,z,{discrete:!1})):Th(P,x.swipeDirection,B)?(C.current=P,Qo(Lj,h,z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(W)>B||Math.abs(H)>B)&&(v.current=null)}),onPointerUp:J(e.onPointerUp,$=>{const W=C.current,H=$.target;if(H.hasPointerCapture($.pointerId)&&H.releasePointerCapture($.pointerId),C.current=null,v.current=null,W){const F=$.currentTarget,T={originalEvent:$,delta:W};Th(W,x.swipeDirection,x.swipeThreshold)?Qo(Fj,p,T,{discrete:!0}):Qo($j,c,T,{discrete:!0}),F.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Vj=e=>{const{__scopeToast:t,children:s,...n}=e,o=_i(Ai,t),[a,i]=u.useState(!1),[l,d]=u.useState(!1);return Gj(()=>i(!0)),u.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:r.jsx(Pi,{asChild:!0,children:r.jsx(Co,{...n,children:a&&r.jsxs(r.Fragment,{children:[o.label," ",s]})})})},Wj="ToastTitle",Vp=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(ne.div,{...n,ref:t})});Vp.displayName=Wj;var Hj="ToastDescription",Wp=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(ne.div,{...n,ref:t})});Wp.displayName=Hj;var Hp="ToastAction",Gp=u.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(Kp,{altText:s,asChild:!0,children:r.jsx(xu,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hp}\`. Expected non-empty \`string\`.`),null)});Gp.displayName=Hp;var Yp="ToastClose",xu=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,o=Uj(Yp,s);return r.jsx(Kp,{asChild:!0,children:r.jsx(ne.button,{type:"button",...n,ref:t,onClick:J(e.onClick,o.onClose)})})});xu.displayName=Yp;var Kp=u.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...o}=e;return r.jsx(ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...o,ref:t})});function qp(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Yj(n)){const o=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...qp(n))}}),t}function Qo(e,t,s,{discrete:n}){const o=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&o.addEventListener(e,t,{once:!0}),n?mu(o,a):o.dispatchEvent(a)}var Th=(e,t,s=0)=>{const n=Math.abs(e.x),o=Math.abs(e.y),a=n>o;return t==="left"||t==="right"?a&&n>s:!a&&o>s};function Gj(e=()=>{}){const t=Ue(e);De(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function Yj(e){return e.nodeType===e.ELEMENT_NODE}function Kj(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ll(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var qj=$p,Xp=zp,Qp=Bp,Jp=Vp,Zp=Wp,eg=Gp,tg=xu;function rg(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=rg(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function sg(){for(var e,t,s=0,n="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=rg(e))&&(n&&(n+=" "),n+=t);return n}const Ph=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_h=sg,pu=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return _h(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(m=>{const h=s==null?void 0:s[m],f=a==null?void 0:a[m];if(h===null)return null;const c=Ph(h)||Ph(f);return o[m][c]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,c]=h;return c===void 0||(m[f]=c),m},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,h)=>{let{class:f,className:c,...p}=h;return Object.entries(p).every(w=>{let[x,j]=w;return Array.isArray(j)?j.includes({...a,...l}[x]):{...a,...l}[x]===j})?[...m,f,c]:m},[]);return _h(e,i,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ng=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:i,...l},d)=>u.createElement("svg",{ref:d,...Qj,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:ng("lucide",o),...l},[...i.map(([m,h])=>u.createElement(m,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,t)=>{const s=u.forwardRef(({className:n,...o},a)=>u.createElement(Jj,{ref:a,iconNode:t,className:ng(`lucide-${Xj(e)}`,n),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ee("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ee("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ee("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ee("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ee("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ee("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Nu="-",v1=e=>{const t=b1(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Nu);return l[0]===""&&l.length!==1&&l.shift(),mg(l,t)||w1(i)},getConflictingClassGroupIds:(i,l)=>{const d=s[i]||[];return l&&n[i]?[...d,...n[i]]:d}}},mg=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),o=n?mg(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Nu);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Dh=/^\[(.+)\]$/,w1=e=>{if(Dh.test(e)){const t=Dh.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},b1=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return N1(Object.entries(e.classGroups),s).forEach(([a,i])=>{Xc(i,n,a,t)}),n},Xc=(e,t,s,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Lh(t,o);a.classGroupId=s;return}if(typeof o=="function"){if(j1(o)){Xc(o(n),t,s,n);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([a,i])=>{Xc(i,Lh(t,a),s,n)})})},Lh=(e,t)=>{let s=e;return t.split(Nu).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},j1=e=>e.isThemeGetter,N1=(e,t)=>t?e.map(([s,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[s,o]}):e,k1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const o=(a,i)=>{s.set(a,i),t++,t>e&&(t=0,n=s,s=new Map)};return{get(a){let i=s.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return o(a,i),i},set(a,i){s.has(a)?s.set(a,i):o(a,i)}}},hg="!",S1=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,o=t[0],a=t.length,i=l=>{const d=[];let m=0,h=0,f;for(let j=0;j<l.length;j++){let g=l[j];if(m===0){if(g===o&&(n||l.slice(j,j+a)===t)){d.push(l.slice(h,j)),h=j+a;continue}if(g==="/"){f=j;continue}}g==="["?m++:g==="]"&&m--}const c=d.length===0?l:l.substring(h),p=c.startsWith(hg),w=p?c.substring(1):c,x=f&&f>h?f-h:void 0;return{modifiers:d,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:i}):i},C1=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},E1=e=>({cache:k1(e.cacheSize),parseClassName:S1(e),...v1(e)}),T1=/\s+/,P1=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(T1);let l="";for(let d=i.length-1;d>=0;d-=1){const m=i[d],{modifiers:h,hasImportantModifier:f,baseClassName:c,maybePostfixModifierPosition:p}=s(m);let w=!!p,x=n(w?c.substring(0,p):c);if(!x){if(!w){l=m+(l.length>0?" "+l:l);continue}if(x=n(c),!x){l=m+(l.length>0?" "+l:l);continue}w=!1}const j=C1(h).join(":"),g=f?j+hg:j,y=g+x;if(a.includes(y))continue;a.push(y);const v=o(x,w);for(let C=0;C<v.length;++C){const S=v[C];a.push(g+S)}l=m+(l.length>0?" "+l:l)}return l};function _1(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=fg(t))&&(n&&(n+=" "),n+=s);return n}const fg=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=fg(e[n]))&&(s&&(s+=" "),s+=t);return s};function A1(e,...t){let s,n,o,a=i;function i(d){const m=t.reduce((h,f)=>f(h),e());return s=E1(m),n=s.cache.get,o=s.cache.set,a=l,l(d)}function l(d){const m=n(d);if(m)return m;const h=P1(d,s);return o(d,h),h}return function(){return a(_1.apply(null,arguments))}}const ge=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},xg=/^\[(?:([a-z-]+):)?(.+)\]$/i,R1=/^\d+\/\d+$/,M1=new Set(["px","full","screen"]),I1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,O1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=e=>Ks(e)||M1.has(e)||R1.test(e),br=e=>pn(e,"length",G1),Ks=e=>!!e&&!Number.isNaN(Number(e)),$l=e=>pn(e,"number",Ks),Pn=e=>!!e&&Number.isInteger(Number(e)),F1=e=>e.endsWith("%")&&Ks(e.slice(0,-1)),se=e=>xg.test(e),jr=e=>I1.test(e),z1=new Set(["length","size","percentage"]),U1=e=>pn(e,z1,pg),B1=e=>pn(e,"position",pg),V1=new Set(["image","url"]),W1=e=>pn(e,V1,K1),H1=e=>pn(e,"",Y1),_n=()=>!0,pn=(e,t,s)=>{const n=xg.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},G1=e=>D1.test(e)&&!L1.test(e),pg=()=>!1,Y1=e=>O1.test(e),K1=e=>$1.test(e),q1=()=>{const e=ge("colors"),t=ge("spacing"),s=ge("blur"),n=ge("brightness"),o=ge("borderColor"),a=ge("borderRadius"),i=ge("borderSpacing"),l=ge("borderWidth"),d=ge("contrast"),m=ge("grayscale"),h=ge("hueRotate"),f=ge("invert"),c=ge("gap"),p=ge("gradientColorStops"),w=ge("gradientColorStopPositions"),x=ge("inset"),j=ge("margin"),g=ge("opacity"),y=ge("padding"),v=ge("saturate"),C=ge("scale"),S=ge("sepia"),k=ge("skew"),N=ge("space"),b=ge("translate"),E=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",se,t],O=()=>[se,t],V=()=>["",rr,br],$=()=>["auto",Ks,se],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",se],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[Ks,se];return{cacheSize:500,separator:":",theme:{colors:[_n],spacing:[rr,br],blur:["none","",jr,se],brightness:L(),borderColor:[e],borderRadius:["none","","full",jr,se],borderSpacing:O(),borderWidth:V(),contrast:L(),grayscale:A(),hueRotate:L(),invert:A(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[F1,br],inset:D(),margin:D(),opacity:L(),padding:O(),saturate:L(),scale:L(),sepia:A(),skew:L(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[jr]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),se]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pn,se]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",Pn,se]}],"grid-cols":[{"grid-cols":[_n]}],"col-start-end":[{col:["auto",{span:["full",Pn,se]},se]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[_n]}],"row-start-end":[{row:["auto",{span:[Pn,se]},se]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[c]}],"gap-x":[{"gap-x":[c]}],"gap-y":[{"gap-y":[c]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[jr]},jr]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jr,br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$l]}],"font-family":[{font:[_n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",Ks,$l]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,br]}],"underline-offset":[{"underline-offset":["auto",rr,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),B1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:H()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[rr,se]}],"outline-w":[{outline:[rr,br]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[rr,br]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jr,H1]}],"shadow-color":[{shadow:[_n]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",jr,se]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Pn,se]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rr,br,$l]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},X1=A1(q1);function oe(...e){return X1(sg(e))}const Q1=qj,gg=u.forwardRef(({className:e,...t},s)=>r.jsx(Xp,{ref:s,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gg.displayName=Xp.displayName;const J1=pu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yg=u.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(Qp,{ref:n,className:oe(J1({variant:t}),e),...s}));yg.displayName=Qp.displayName;const Z1=u.forwardRef(({className:e,...t},s)=>r.jsx(eg,{ref:s,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Z1.displayName=eg.displayName;const vg=u.forwardRef(({className:e,...t},s)=>r.jsx(tg,{ref:s,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ee,{className:"h-4 w-4"})}));vg.displayName=tg.displayName;const wg=u.forwardRef(({className:e,...t},s)=>r.jsx(Jp,{ref:s,className:oe("text-sm font-semibold",e),...t}));wg.displayName=Jp.displayName;const bg=u.forwardRef(({className:e,...t},s)=>r.jsx(Zp,{ref:s,className:oe("text-sm opacity-90",e),...t}));bg.displayName=Zp.displayName;function eN(){const{toasts:e}=gt();return r.jsxs(Q1,{children:[e.map(function({id:t,title:s,description:n,action:o,...a}){return r.jsxs(yg,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(wg,{children:s}),n&&r.jsx(bg,{children:n})]}),o,r.jsx(vg,{})]},t)}),r.jsx(gg,{})]})}const ie="https://xsmmarket.com/api";console.log(" API_URL configured as:",ie);const fo="token",ku="refreshToken",Su="tokenExpiry",xo="userData",Qc=()=>{const e=localStorage.getItem(Su);if(!e)return!0;const t=parseInt(e),s=Date.now(),n=5*60*1e3;return s>=t-n},Mi=e=>{localStorage.setItem(fo,e.accessToken),e.refreshToken&&localStorage.setItem(ku,e.refreshToken);const t=(e.expiresIn||24*60*60)*1e3,s=Date.now()+t;localStorage.setItem(Su,s.toString())},Na=()=>{localStorage.removeItem(fo),localStorage.removeItem(ku),localStorage.removeItem(Su),localStorage.removeItem(xo)},Oh=async()=>{try{const e=localStorage.getItem(ku);if(!e)return console.log("No refresh token available"),!1;const t=await fetch(`${ie}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)return console.log("Failed to refresh token"),!1;const s=await t.json();return Mi({accessToken:s.token||s.accessToken,refreshToken:s.refreshToken,expiresIn:s.expiresIn||24*60*60}),console.log("Token refreshed successfully"),!0}catch(e){return console.error("Error refreshing token:",e),!1}},Vt=async e=>{let t;try{t=await e.json()}catch(s){throw console.error("Error parsing response:",s),new Error(`HTTP error! status: ${e.status}`)}if(!e.ok)throw console.error("Server error response:",t),new Error(t.message||`HTTP error! status: ${e.status}`);return t},Ii=async(e,t={})=>{if(Qc()&&(console.log("Token expired, attempting refresh..."),!await Oh()))throw console.log("Could not refresh token, user needs to login again"),Na(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");const s=localStorage.getItem(fo),n={"Content-Type":"application/json",...t.headers||{},...s?{Authorization:`Bearer ${s}`}:{}},o=await fetch(e,{...t,headers:n});if(o.status===401&&s)if(console.log("Received 401, attempting token refresh..."),await Oh()){const i=localStorage.getItem(fo),l=await fetch(e,{...t,headers:{...n,Authorization:`Bearer ${i}`}});if(l.status===401)throw Na(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");return l}else throw Na(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");return o},jg=async(e,t)=>{try{console.log(" Starting login process for:",e);const s=await fetch(`${ie}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"}),n=await s.json();if(console.log(" Login response received:",{ok:s.ok,status:s.status,data:{...n,token:n.token?"exists":"missing"}}),!s.ok){if(n.requiresVerification)return{requiresVerification:!0,email:n.email,message:n.message};if(n.authProvider==="google")return{authProvider:"google",message:n.message};throw new Error(n.message||"Failed to login")}return n.token&&(console.log(" Storing token data..."),Mi({accessToken:n.token,refreshToken:n.refreshToken,expiresIn:n.expiresIn||24*60*60})),n.user&&(console.log(" Storing user data:",n.user),Di(n.user)),console.log(" Login process completed successfully"),n}catch(s){throw s instanceof Error?s:new Error("An unexpected error occurred during login")}},Ng=async(e,t,s,n)=>{try{console.log("Attempting to register with:",{username:e,email:t,fullName:n,password:s?"[FILTERED]":void 0}),console.log(`Sending POST request to ${ie}/auth/register`);const o=await fetch(`${ie}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e.trim(),email:t.trim().toLowerCase(),password:s,fullName:(n==null?void 0:n.trim())||""}),mode:"cors",credentials:"include"}).catch(i=>{throw console.error("Network error during registration fetch:",i),new Error(`Network error: Unable to connect to server at ${ie}. Please check your backend server is running.`)});console.log("Registration response status:",o.status);const a=await Vt(o);return console.log("%c Registration response data:","background: #4CAF50; color: white; padding: 4px; border-radius: 2px;",a),a.requiresVerification?{requiresVerification:!0,email:a.email,message:a.message}:(a.token&&localStorage.setItem("token",a.token),a.user&&Di(a.user),a)}catch(o){throw console.error("Registration error:",o),o instanceof Error?o:new Error("An unexpected error occurred during registration")}},tN=()=>{Na(),console.log("User logged out successfully")},Fl=()=>{const e=localStorage.getItem(fo);return console.log(" Checking authentication:",{hasToken:!!e,tokenLength:e==null?void 0:e.length,isExpired:e?Qc():"no token"}),e?Qc()?(console.log(" Token is expired"),!1):(console.log(" User is authenticated"),!0):!1},$h=()=>{const e=localStorage.getItem(xo);if(console.log(" Getting current user:",{hasUserData:!!e,dataLength:e==null?void 0:e.length}),e)try{const t=JSON.parse(e);return console.log(" Parsed user data:",t),t}catch(t){return console.error(" Error parsing user data:",t),localStorage.removeItem(xo),null}return console.log(" No user data found"),null},Di=e=>{localStorage.setItem(xo,JSON.stringify(e))},Cu=async e=>{try{console.log(" Starting Google sign-in process..."),console.log(" API URL:",ie),console.log(" Token length:",e.length);const t=await fetch(`${ie}/auth/google-signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e}),credentials:"include"}).catch(n=>{throw console.error(" Network error during Google sign-in fetch:",n),console.error(" Error details:",{name:n.name,message:n.message,stack:n.stack}),n.name==="TypeError"&&n.message.includes("fetch")?new Error("Failed to connect to the authentication server. Please check if the backend is running on "+ie):n});console.log(" Response received:",{status:t.status,statusText:t.statusText,ok:t.ok});const s=await t.json().catch(n=>{throw console.error(" Failed to parse response as JSON:",n),new Error("Server returned invalid response format")});if(console.log(" Response data:",s),!t.ok){const n=s.message||`HTTP ${t.status}: ${t.statusText}`;throw console.error(" Backend rejected Google sign-in:",n),new Error(n)}return console.log(" Google sign-in response:",s),s.token&&(console.log(" Storing authentication tokens..."),Mi({accessToken:s.token,refreshToken:s.refreshToken,expiresIn:s.expiresIn||24*60*60})),s.user&&(console.log(" Storing Google user data:",s.user),Di(s.user)),console.log(" Google sign-in completed successfully"),s}catch(t){throw console.error(" Google sign-in failed:",t),t instanceof Error?t:new Error("An unexpected error occurred during Google sign-in")}},rN=async(e,t)=>{try{const s=await fetch(`${ie}/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t}),credentials:"include"}),n=await Vt(s);return n.token&&Mi({accessToken:n.token,refreshToken:n.refreshToken,expiresIn:n.expiresIn||24*60*60}),n.user&&Di(n.user),n}catch(s){throw s instanceof Error?s:new Error("An unexpected error occurred during OTP verification")}},sN=async e=>{try{const t=await fetch(`${ie}/auth/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),credentials:"include"});return await Vt(t)}catch(t){throw t instanceof Error?t:new Error("An unexpected error occurred while resending OTP")}},nN=async()=>{try{const e=await Ii(`${ie}/user/profile`);return(await Vt(e)).user}catch(e){throw e instanceof Error?e:new Error("Failed to fetch user profile")}},zl=async e=>{try{const t=await Ii(`${ie}/user/profile`,{method:"PUT",body:JSON.stringify(e)}),s=await Vt(t);return s.user&&localStorage.setItem(xo,JSON.stringify(s.user)),s.user}catch(t){throw t instanceof Error?t:new Error("Failed to update user profile")}},kg=async e=>{try{const t=await fetch(`${ie}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return await Vt(t)}catch(t){throw t instanceof Error?t:new Error("Failed to process forgot password request")}},oN=async e=>{try{const t=await Ii(`${ie}/user/email/change-request`,{method:"POST",body:JSON.stringify({newEmail:e})});return await Vt(t)}catch(t){throw t instanceof Error?t:new Error("Failed to request email change")}},aN=async(e,t)=>{try{const s=await fetch(`${ie}/user/email/verify-current`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await Vt(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify current email")}},iN=async(e,t)=>{try{const s=await fetch(`${ie}/user/email/verify-new`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await Vt(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify new email")}},lN=async(e,t)=>{try{const s=await Ii(`${ie}/user/password/change-request`,{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t})});return await Vt(s)}catch(s){throw s instanceof Error?s:new Error("Failed to request password change")}},cN=async(e,t)=>{try{const s=await fetch(`${ie}/user/password/verify-change`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await Vt(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify password change")}},dN=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Not authenticated");try{const t=await fetch(`${ie}/user/email/cooldown-status`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to get cooldown status")}return await t.json()}catch(t){throw t instanceof Error?t:new Error("Failed to get email change cooldown status")}},uN=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Not authenticated");try{const t=await fetch(`${ie}/user/password/cooldown-status`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to get cooldown status")}return await t.json()}catch(t){throw t instanceof Error?t:new Error("Failed to get password change cooldown status")}},Sg=u.createContext(void 0),mN=({children:e})=>{const[t,s]=u.useState(Fl()),[n,o]=u.useState($h());return u.useEffect(()=>{const a=()=>{const d=Fl();if(s(d),d){const m=$h();o(m)}else o(null)};window.addEventListener("storage",a);const i=()=>{console.log("Auth logout event received"),s(!1),o(null)};window.addEventListener("auth:logout",i),a();const l=setInterval(()=>{const d=Fl();t&&!d&&(console.log("Token expired, logging out user"),s(!1),o(null))},5*60*1e3);return()=>{window.removeEventListener("storage",a),window.removeEventListener("auth:logout",i),clearInterval(l)}},[t]),r.jsx(Sg.Provider,{value:{isLoggedIn:t,setIsLoggedIn:s,user:n,setUser:o},children:e})},Cg=u.createContext(void 0),hN=({id:e,type:t,title:s,message:n,duration:o=5e3,autoClose:a=!0,visible:i,onRemove:l})=>{const[d,m]=q.useState(!1);q.useEffect(()=>{if(a&&i){const p=setTimeout(()=>{h()},o);return()=>clearTimeout(p)}},[i,o,a]);const h=()=>{m(!0),setTimeout(()=>{l(e)},300)},f=()=>{switch(t){case"success":return r.jsx(le,{className:"w-5 h-5 text-green-500"});case"error":return r.jsx(gu,{className:"w-5 h-5 text-red-500"});case"warning":return r.jsx(ys,{className:"w-5 h-5 text-yellow-500"});case"info":return r.jsx(m1,{className:"w-5 h-5 text-blue-500"})}},c=()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}};return r.jsx("div",{className:`
        transform transition-all duration-300 ease-in-out mb-3
        ${i&&!d?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,children:r.jsx("div",{className:`border rounded-lg shadow-lg p-4 max-w-sm ${c()}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:f()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm",children:s}),n&&r.jsx("p",{className:"text-sm opacity-90 mt-1",children:n})]}),r.jsx("button",{onClick:h,className:"flex-shrink-0 ml-2 p-1 rounded-full hover:bg-black/10 transition-colors",children:r.jsx(Ee,{className:"w-4 h-4"})})]})})})},fN=({children:e})=>{const[t,s]=u.useState([]),n=f=>{const c=Math.random().toString(36).substr(2,9),p={...f,id:c,visible:!0};return s(w=>[...w,p]),c},o=f=>{s(c=>c.filter(p=>p.id!==f))},h={notifications:t,showSuccess:(f,c,p)=>n({type:"success",title:f,message:c,...p}),showError:(f,c,p)=>n({type:"error",title:f,message:c,...p}),showWarning:(f,c,p)=>n({type:"warning",title:f,message:c,...p}),showInfo:(f,c,p)=>n({type:"info",title:f,message:c,...p}),removeNotification:o,clearAll:()=>{s([])}};return r.jsxs(Cg.Provider,{value:h,children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 pointer-events-none",children:r.jsx("div",{className:"space-y-2 pointer-events-auto",children:t.map(f=>r.jsx(hN,{...f,onRemove:o},f.id))})})]})},Eu=()=>{const e=u.useContext(Cg);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e};var Fh=["light","dark"],xN="(prefers-color-scheme: dark)",pN=u.createContext(void 0),gN={setTheme:e=>{},themes:[]},yN=()=>{var e;return(e=u.useContext(pN))!=null?e:gN};u.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:i,attrs:l,nonce:d})=>{let m=a==="system",h=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,f=o?Fh.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",c=(w,x=!1,j=!0)=>{let g=i?i[w]:w,y=x?w+"|| ''":`'${g}'`,v="";return o&&j&&!x&&Fh.includes(w)&&(v+=`d.style.colorScheme = '${w}';`),s==="class"?x||g?v+=`c.add(${y})`:v+="null":g&&(v+=`d[s](n,${y})`),v},p=e?`!function(){${h}${c(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${xN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${c("dark")}}else{${c("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${c(i?"x[e]":"e",!0)}}${m?"":"else{"+c(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${c(i?"x[e]":"e",!0)}}else{${c(a,!1,!1)};}${f}}catch(t){}}();`;return u.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:p}})});var vN=e=>{switch(e){case"success":return jN;case"info":return kN;case"warning":return NN;case"error":return SN;default:return null}},wN=Array(12).fill(0),bN=({visible:e})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},q.createElement("div",{className:"sonner-spinner"},wN.map((t,s)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),jN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SN=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CN=()=>{let[e,t]=q.useState(document.hidden);return q.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Jc=1,EN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...n}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Jc++,a=this.toasts.find(l=>l.id===o),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===o?(this.publish({...l,...e,id:o,title:s}),{...l,...e,id:o,dismissible:i,title:s}):l):this.addToast({title:s,...n,dismissible:i,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=s!==void 0;return n.then(async a=>{if(PN(a)&&!a.ok){o=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:s,type:"error",message:i,description:l})}else if(t.success!==void 0){o=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:s,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){o=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:s,type:"error",message:i,description:l})}}).finally(()=>{var a;o&&(this.dismiss(s),s=void 0),(a=t.finally)==null||a.call(t)}),s},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Jc++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},it=new EN,TN=(e,t)=>{let s=(t==null?void 0:t.id)||Jc++;return it.addToast({title:e,...t,id:s}),s},PN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_N=TN,AN=()=>it.toasts;Object.assign(_N,{success:it.success,info:it.info,warning:it.warning,error:it.error,custom:it.custom,message:it.message,promise:it.promise,dismiss:it.dismiss,loading:it.loading},{getHistory:AN});function RN(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}RN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jo(e){return e.label!==void 0}var MN=3,IN="32px",DN=4e3,LN=356,ON=14,$N=20,FN=200;function zN(...e){return e.filter(Boolean).join(" ")}var UN=e=>{var t,s,n,o,a,i,l,d,m,h;let{invert:f,toast:c,unstyled:p,interacting:w,setHeights:x,visibleToasts:j,heights:g,index:y,toasts:v,expanded:C,removeToast:S,defaultRichColors:k,closeButton:N,style:b,cancelButtonStyle:E,actionButtonStyle:_,className:D="",descriptionClassName:O="",duration:V,position:$,gap:W,loadingIcon:H,expandByDefault:F,classNames:T,icons:A,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:L,cn:B}=e,[P,z]=q.useState(!1),[U,R]=q.useState(!1),[I,X]=q.useState(!1),[Q,te]=q.useState(!1),[K,G]=q.useState(0),[he,Te]=q.useState(0),at=q.useRef(null),Re=q.useRef(null),Wt=y===0,At=y+1<=j,Se=c.type,bs=c.dismissible!==!1,N0=c.className||"",k0=c.descriptionClassName||"",Ao=q.useMemo(()=>g.findIndex(re=>re.toastId===c.id)||0,[g,c.id]),S0=q.useMemo(()=>{var re;return(re=c.closeButton)!=null?re:N},[c.closeButton,N]),um=q.useMemo(()=>c.duration||V||DN,[c.duration,V]),al=q.useRef(0),js=q.useRef(0),mm=q.useRef(0),Ns=q.useRef(null),[hm,C0]=$.split("-"),fm=q.useMemo(()=>g.reduce((re,pe,fe)=>fe>=Ao?re:re+pe.height,0),[g,Ao]),xm=CN(),E0=c.invert||f,il=Se==="loading";js.current=q.useMemo(()=>Ao*W+fm,[Ao,fm]),q.useEffect(()=>{z(!0)},[]),q.useLayoutEffect(()=>{if(!P)return;let re=Re.current,pe=re.style.height;re.style.height="auto";let fe=re.getBoundingClientRect().height;re.style.height=pe,Te(fe),x(Ht=>Ht.find(Gt=>Gt.toastId===c.id)?Ht.map(Gt=>Gt.toastId===c.id?{...Gt,height:fe}:Gt):[{toastId:c.id,height:fe,position:c.position},...Ht])},[P,c.title,c.description,x,c.id]);let vr=q.useCallback(()=>{R(!0),G(js.current),x(re=>re.filter(pe=>pe.toastId!==c.id)),setTimeout(()=>{S(c)},FN)},[c,S,x,js]);q.useEffect(()=>{if(c.promise&&Se==="loading"||c.duration===1/0||c.type==="loading")return;let re,pe=um;return C||w||L&&xm?(()=>{if(mm.current<al.current){let fe=new Date().getTime()-al.current;pe=pe-fe}mm.current=new Date().getTime()})():pe!==1/0&&(al.current=new Date().getTime(),re=setTimeout(()=>{var fe;(fe=c.onAutoClose)==null||fe.call(c,c),vr()},pe)),()=>clearTimeout(re)},[C,w,F,c,um,vr,c.promise,Se,L,xm]),q.useEffect(()=>{let re=Re.current;if(re){let pe=re.getBoundingClientRect().height;return Te(pe),x(fe=>[{toastId:c.id,height:pe,position:c.position},...fe]),()=>x(fe=>fe.filter(Ht=>Ht.toastId!==c.id))}},[x,c.id]),q.useEffect(()=>{c.delete&&vr()},[vr,c.delete]);function T0(){return A!=null&&A.loading?q.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},A.loading):H?q.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},H):q.createElement(bN,{visible:Se==="loading"})}return q.createElement("li",{"aria-live":c.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Re,className:B(D,N0,T==null?void 0:T.toast,(t=c==null?void 0:c.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[Se],(s=c==null?void 0:c.classNames)==null?void 0:s[Se]),"data-sonner-toast":"","data-rich-colors":(n=c.richColors)!=null?n:k,"data-styled":!(c.jsx||c.unstyled||p),"data-mounted":P,"data-promise":!!c.promise,"data-removed":U,"data-visible":At,"data-y-position":hm,"data-x-position":C0,"data-index":y,"data-front":Wt,"data-swiping":I,"data-dismissible":bs,"data-type":Se,"data-invert":E0,"data-swipe-out":Q,"data-expanded":!!(C||F&&P),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${U?K:js.current}px`,"--initial-height":F?"auto":`${he}px`,...b,...c.style},onPointerDown:re=>{il||!bs||(at.current=new Date,G(js.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(X(!0),Ns.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,pe,fe,Ht;if(Q||!bs)return;Ns.current=null;let Gt=Number(((re=Re.current)==null?void 0:re.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ro=new Date().getTime()-((pe=at.current)==null?void 0:pe.getTime()),P0=Math.abs(Gt)/Ro;if(Math.abs(Gt)>=$N||P0>.11){G(js.current),(fe=c.onDismiss)==null||fe.call(c,c),vr(),te(!0);return}(Ht=Re.current)==null||Ht.style.setProperty("--swipe-amount","0px"),X(!1)},onPointerMove:re=>{var pe;if(!Ns.current||!bs)return;let fe=re.clientY-Ns.current.y,Ht=re.clientX-Ns.current.x,Gt=(hm==="top"?Math.min:Math.max)(0,fe),Ro=re.pointerType==="touch"?10:2;Math.abs(Gt)>Ro?(pe=Re.current)==null||pe.style.setProperty("--swipe-amount",`${fe}px`):Math.abs(Ht)>Ro&&(Ns.current=null)}},S0&&!c.jsx?q.createElement("button",{"aria-label":M,"data-disabled":il,"data-close-button":!0,onClick:il||!bs?()=>{}:()=>{var re;vr(),(re=c.onDismiss)==null||re.call(c,c)},className:B(T==null?void 0:T.closeButton,(o=c==null?void 0:c.classNames)==null?void 0:o.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,c.jsx||q.isValidElement(c.title)?c.jsx||c.title:q.createElement(q.Fragment,null,Se||c.icon||c.promise?q.createElement("div",{"data-icon":"",className:B(T==null?void 0:T.icon,(a=c==null?void 0:c.classNames)==null?void 0:a.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||T0():null,c.type!=="loading"?c.icon||(A==null?void 0:A[Se])||vN(Se):null):null,q.createElement("div",{"data-content":"",className:B(T==null?void 0:T.content,(i=c==null?void 0:c.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:B(T==null?void 0:T.title,(l=c==null?void 0:c.classNames)==null?void 0:l.title)},c.title),c.description?q.createElement("div",{"data-description":"",className:B(O,k0,T==null?void 0:T.description,(d=c==null?void 0:c.classNames)==null?void 0:d.description)},c.description):null),q.isValidElement(c.cancel)?c.cancel:c.cancel&&Jo(c.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||E,onClick:re=>{var pe,fe;Jo(c.cancel)&&bs&&((fe=(pe=c.cancel).onClick)==null||fe.call(pe,re),vr())},className:B(T==null?void 0:T.cancelButton,(m=c==null?void 0:c.classNames)==null?void 0:m.cancelButton)},c.cancel.label):null,q.isValidElement(c.action)?c.action:c.action&&Jo(c.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||_,onClick:re=>{var pe,fe;Jo(c.action)&&(re.defaultPrevented||((fe=(pe=c.action).onClick)==null||fe.call(pe,re),vr()))},className:B(T==null?void 0:T.actionButton,(h=c==null?void 0:c.classNames)==null?void 0:h.actionButton)},c.action.label):null))};function zh(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var BN=e=>{let{invert:t,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:o,closeButton:a,className:i,offset:l,theme:d="light",richColors:m,duration:h,style:f,visibleToasts:c=MN,toastOptions:p,dir:w=zh(),gap:x=ON,loadingIcon:j,icons:g,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:v,cn:C=zN}=e,[S,k]=q.useState([]),N=q.useMemo(()=>Array.from(new Set([s].concat(S.filter(L=>L.position).map(L=>L.position)))),[S,s]),[b,E]=q.useState([]),[_,D]=q.useState(!1),[O,V]=q.useState(!1),[$,W]=q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=q.useRef(null),F=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=q.useRef(null),A=q.useRef(!1),M=q.useCallback(L=>{var B;(B=S.find(P=>P.id===L.id))!=null&&B.delete||it.dismiss(L.id),k(P=>P.filter(({id:z})=>z!==L.id))},[S]);return q.useEffect(()=>it.subscribe(L=>{if(L.dismiss){k(B=>B.map(P=>P.id===L.id?{...P,delete:!0}:P));return}setTimeout(()=>{Ap.flushSync(()=>{k(B=>{let P=B.findIndex(z=>z.id===L.id);return P!==-1?[...B.slice(0,P),{...B[P],...L},...B.slice(P+1)]:[L,...B]})})})}),[]),q.useEffect(()=>{if(d!=="system"){W(d);return}d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{W(L?"dark":"light")})},[d]),q.useEffect(()=>{S.length<=1&&D(!1)},[S]),q.useEffect(()=>{let L=B=>{var P,z;n.every(U=>B[U]||B.code===U)&&(D(!0),(P=H.current)==null||P.focus()),B.code==="Escape"&&(document.activeElement===H.current||(z=H.current)!=null&&z.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[n]),q.useEffect(()=>{if(H.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,A.current=!1)}},[H.current]),S.length?q.createElement("section",{"aria-label":`${y} ${F}`,tabIndex:-1},N.map((L,B)=>{var P;let[z,U]=L.split("-");return q.createElement("ol",{key:L,dir:w==="auto"?zh():w,tabIndex:-1,ref:H,className:i,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":z,"data-x-position":U,style:{"--front-toast-height":`${((P=b[0])==null?void 0:P.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||IN,"--width":`${LN}px`,"--gap":`${x}px`,...f},onBlur:R=>{A.current&&!R.currentTarget.contains(R.relatedTarget)&&(A.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||A.current||(A.current=!0,T.current=R.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},S.filter(R=>!R.position&&B===0||R.position===L).map((R,I)=>{var X,Q;return q.createElement(UN,{key:R.id,icons:g,index:I,toast:R,defaultRichColors:m,duration:(X=p==null?void 0:p.duration)!=null?X:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:c,closeButton:(Q=p==null?void 0:p.closeButton)!=null?Q:a,interacting:O,position:L,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:M,toasts:S.filter(te=>te.position==R.position),heights:b.filter(te=>te.position==R.position),setHeights:E,expandByDefault:o,gap:x,loadingIcon:j,expanded:_,pauseWhenPageIsHidden:v,cn:C})}))})):null};const VN=({...e})=>{const{theme:t="system"}=yN();return r.jsx(BN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var WN=G0.useId||(()=>{}),HN=0;function cn(e){const[t,s]=u.useState(WN());return De(()=>{s(n=>n??String(HN++))},[e]),t?`radix-${t}`:""}const GN=["top","right","bottom","left"],zr=Math.min,ct=Math.max,ti=Math.round,Zo=Math.floor,Ur=e=>({x:e,y:e}),YN={left:"right",right:"left",bottom:"top",top:"bottom"},KN={start:"end",end:"start"};function Zc(e,t,s){return ct(e,zr(t,s))}function xr(e,t){return typeof e=="function"?e(t):e}function pr(e){return e.split("-")[0]}function gn(e){return e.split("-")[1]}function Tu(e){return e==="x"?"y":"x"}function Pu(e){return e==="y"?"height":"width"}function Br(e){return["top","bottom"].includes(pr(e))?"y":"x"}function _u(e){return Tu(Br(e))}function qN(e,t,s){s===void 0&&(s=!1);const n=gn(e),o=_u(e),a=Pu(o);let i=o==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=ri(i)),[i,ri(i)]}function XN(e){const t=ri(e);return[ed(e),t,ed(t)]}function ed(e){return e.replace(/start|end/g,t=>KN[t])}function QN(e,t,s){const n=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?o:n:t?n:o;case"left":case"right":return t?a:i;default:return[]}}function JN(e,t,s,n){const o=gn(e);let a=QN(pr(e),s==="start",n);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(ed)))),a}function ri(e){return e.replace(/left|right|bottom|top/g,t=>YN[t])}function ZN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Eg(e){return typeof e!="number"?ZN(e):{top:e,right:e,bottom:e,left:e}}function si(e){const{x:t,y:s,width:n,height:o}=e;return{width:n,height:o,top:s,left:t,right:t+n,bottom:s+o,x:t,y:s}}function Uh(e,t,s){let{reference:n,floating:o}=e;const a=Br(t),i=_u(t),l=Pu(i),d=pr(t),m=a==="y",h=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,c=n[l]/2-o[l]/2;let p;switch(d){case"top":p={x:h,y:n.y-o.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(gn(t)){case"start":p[i]-=c*(s&&m?-1:1);break;case"end":p[i]+=c*(s&&m?-1:1);break}return p}const e2=async(e,t,s)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:i}=s,l=a.filter(Boolean),d=await(i.isRTL==null?void 0:i.isRTL(t));let m=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:f}=Uh(m,n,d),c=n,p={},w=0;for(let x=0;x<l.length;x++){const{name:j,fn:g}=l[x],{x:y,y:v,data:C,reset:S}=await g({x:h,y:f,initialPlacement:n,placement:c,strategy:o,middlewareData:p,rects:m,platform:i,elements:{reference:e,floating:t}});h=y??h,f=v??f,p={...p,[j]:{...p[j],...C}},S&&w<=50&&(w++,typeof S=="object"&&(S.placement&&(c=S.placement),S.rects&&(m=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:h,y:f}=Uh(m,c,d)),x=-1)}return{x:h,y:f,placement:c,strategy:o,middlewareData:p}};async function po(e,t){var s;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:i,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:c=!1,padding:p=0}=xr(t,e),w=Eg(p),j=l[c?f==="floating"?"reference":"floating":f],g=si(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(j)))==null||s?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:d})),y=f==="floating"?{x:n,y:o,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},S=si(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:d}):y);return{top:(g.top-S.top+w.top)/C.y,bottom:(S.bottom-g.bottom+w.bottom)/C.y,left:(g.left-S.left+w.left)/C.x,right:(S.right-g.right+w.right)/C.x}}const t2=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:o,rects:a,platform:i,elements:l,middlewareData:d}=t,{element:m,padding:h=0}=xr(e,t)||{};if(m==null)return{};const f=Eg(h),c={x:s,y:n},p=_u(o),w=Pu(p),x=await i.getDimensions(m),j=p==="y",g=j?"top":"left",y=j?"bottom":"right",v=j?"clientHeight":"clientWidth",C=a.reference[w]+a.reference[p]-c[p]-a.floating[w],S=c[p]-a.reference[p],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(m));let N=k?k[v]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=l.floating[v]||a.floating[w]);const b=C/2-S/2,E=N/2-x[w]/2-1,_=zr(f[g],E),D=zr(f[y],E),O=_,V=N-x[w]-D,$=N/2-x[w]/2+b,W=Zc(O,$,V),H=!d.arrow&&gn(o)!=null&&$!==W&&a.reference[w]/2-($<O?_:D)-x[w]/2<0,F=H?$<O?$-O:$-V:0;return{[p]:c[p]+F,data:{[p]:W,centerOffset:$-W-F,...H&&{alignmentOffset:F}},reset:H}}}),r2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:d,elements:m}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:c,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...j}=xr(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const g=pr(o),y=Br(l),v=pr(l)===l,C=await(d.isRTL==null?void 0:d.isRTL(m.floating)),S=c||(v||!x?[ri(l)]:XN(l)),k=w!=="none";!c&&k&&S.push(...JN(l,x,w,C));const N=[l,...S],b=await po(t,j),E=[];let _=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&E.push(b[g]),f){const $=qN(o,i,C);E.push(b[$[0]],b[$[1]])}if(_=[..._,{placement:o,overflows:E}],!E.every($=>$<=0)){var D,O;const $=(((D=a.flip)==null?void 0:D.index)||0)+1,W=N[$];if(W)return{data:{index:$,overflows:_},reset:{placement:W}};let H=(O=_.filter(F=>F.overflows[0]<=0).sort((F,T)=>F.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(p){case"bestFit":{var V;const F=(V=_.filter(T=>{if(k){const A=Br(T.placement);return A===y||A==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(A=>A>0).reduce((A,M)=>A+M,0)]).sort((T,A)=>T[1]-A[1])[0])==null?void 0:V[0];F&&(H=F);break}case"initialPlacement":H=l;break}if(o!==H)return{reset:{placement:H}}}return{}}}};function Bh(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vh(e){return GN.some(t=>e[t]>=0)}const s2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...o}=xr(e,t);switch(n){case"referenceHidden":{const a=await po(t,{...o,elementContext:"reference"}),i=Bh(a,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Vh(i)}}}case"escaped":{const a=await po(t,{...o,altBoundary:!0}),i=Bh(a,s.floating);return{data:{escapedOffsets:i,escaped:Vh(i)}}}default:return{}}}}};async function n2(e,t){const{placement:s,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),i=pr(s),l=gn(s),d=Br(s)==="y",m=["left","top"].includes(i)?-1:1,h=a&&d?-1:1,f=xr(t,e);let{mainAxis:c,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),d?{x:p*h,y:c*m}:{x:c*m,y:p*h}}const o2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:o,y:a,placement:i,middlewareData:l}=t,d=await n2(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:i}}}}},a2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:j=>{let{x:g,y}=j;return{x:g,y}}},...d}=xr(e,t),m={x:s,y:n},h=await po(t,d),f=Br(pr(o)),c=Tu(f);let p=m[c],w=m[f];if(a){const j=c==="y"?"top":"left",g=c==="y"?"bottom":"right",y=p+h[j],v=p-h[g];p=Zc(y,p,v)}if(i){const j=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=w+h[j],v=w-h[g];w=Zc(y,w,v)}const x=l.fn({...t,[c]:p,[f]:w});return{...x,data:{x:x.x-s,y:x.y-n,enabled:{[c]:a,[f]:i}}}}}},i2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=xr(e,t),h={x:s,y:n},f=Br(o),c=Tu(f);let p=h[c],w=h[f];const x=xr(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const v=c==="y"?"height":"width",C=a.reference[c]-a.floating[v]+j.mainAxis,S=a.reference[c]+a.reference[v]-j.mainAxis;p<C?p=C:p>S&&(p=S)}if(m){var g,y;const v=c==="y"?"width":"height",C=["top","left"].includes(pr(o)),S=a.reference[f]-a.floating[v]+(C&&((g=i.offset)==null?void 0:g[f])||0)+(C?0:j.crossAxis),k=a.reference[f]+a.reference[v]+(C?0:((y=i.offset)==null?void 0:y[f])||0)-(C?j.crossAxis:0);w<S?w=S:w>k&&(w=k)}return{[c]:p,[f]:w}}}},l2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:d=()=>{},...m}=xr(e,t),h=await po(t,m),f=pr(o),c=gn(o),p=Br(o)==="y",{width:w,height:x}=a.floating;let j,g;f==="top"||f==="bottom"?(j=f,g=c===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,j=c==="end"?"top":"bottom");const y=x-h.top-h.bottom,v=w-h.left-h.right,C=zr(x-h[j],y),S=zr(w-h[g],v),k=!t.middlewareData.shift;let N=C,b=S;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(b=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),k&&!c){const _=ct(h.left,0),D=ct(h.right,0),O=ct(h.top,0),V=ct(h.bottom,0);p?b=w-2*(_!==0||D!==0?_+D:ct(h.left,h.right)):N=x-2*(O!==0||V!==0?O+V:ct(h.top,h.bottom))}await d({...t,availableWidth:b,availableHeight:N});const E=await i.getDimensions(l.floating);return w!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Li(){return typeof window<"u"}function yn(e){return Tg(e)?(e.nodeName||"").toLowerCase():"#document"}function ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tr(e){var t;return(t=(Tg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tg(e){return Li()?e instanceof Node||e instanceof ht(e).Node:!1}function Ut(e){return Li()?e instanceof Element||e instanceof ht(e).Element:!1}function er(e){return Li()?e instanceof HTMLElement||e instanceof ht(e).HTMLElement:!1}function Wh(e){return!Li()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ht(e).ShadowRoot}function Eo(e){const{overflow:t,overflowX:s,overflowY:n,display:o}=Bt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(o)}function c2(e){return["table","td","th"].includes(yn(e))}function Oi(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Au(e){const t=Ru(),s=Ut(e)?Bt(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function d2(e){let t=Vr(e);for(;er(t)&&!dn(t);){if(Au(t))return t;if(Oi(t))return null;t=Vr(t)}return null}function Ru(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dn(e){return["html","body","#document"].includes(yn(e))}function Bt(e){return ht(e).getComputedStyle(e)}function $i(e){return Ut(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vr(e){if(yn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wh(e)&&e.host||tr(e);return Wh(t)?t.host:t}function Pg(e){const t=Vr(e);return dn(t)?e.ownerDocument?e.ownerDocument.body:e.body:er(t)&&Eo(t)?t:Pg(t)}function go(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const o=Pg(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),i=ht(o);if(a){const l=td(i);return t.concat(i,i.visualViewport||[],Eo(o)?o:[],l&&s?go(l):[])}return t.concat(o,go(o,[],s))}function td(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _g(e){const t=Bt(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=er(e),a=o?e.offsetWidth:s,i=o?e.offsetHeight:n,l=ti(s)!==a||ti(n)!==i;return l&&(s=a,n=i),{width:s,height:n,$:l}}function Mu(e){return Ut(e)?e:e.contextElement}function qs(e){const t=Mu(e);if(!er(t))return Ur(1);const s=t.getBoundingClientRect(),{width:n,height:o,$:a}=_g(t);let i=(a?ti(s.width):s.width)/n,l=(a?ti(s.height):s.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const u2=Ur(0);function Ag(e){const t=ht(e);return!Ru()||!t.visualViewport?u2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m2(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ht(e)?!1:t}function ds(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const o=e.getBoundingClientRect(),a=Mu(e);let i=Ur(1);t&&(n?Ut(n)&&(i=qs(n)):i=qs(e));const l=m2(a,s,n)?Ag(a):Ur(0);let d=(o.left+l.x)/i.x,m=(o.top+l.y)/i.y,h=o.width/i.x,f=o.height/i.y;if(a){const c=ht(a),p=n&&Ut(n)?ht(n):n;let w=c,x=td(w);for(;x&&n&&p!==w;){const j=qs(x),g=x.getBoundingClientRect(),y=Bt(x),v=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*j.x,C=g.top+(x.clientTop+parseFloat(y.paddingTop))*j.y;d*=j.x,m*=j.y,h*=j.x,f*=j.y,d+=v,m+=C,w=ht(x),x=td(w)}}return si({width:h,height:f,x:d,y:m})}function h2(e){let{elements:t,rect:s,offsetParent:n,strategy:o}=e;const a=o==="fixed",i=tr(n),l=t?Oi(t.floating):!1;if(n===i||l&&a)return s;let d={scrollLeft:0,scrollTop:0},m=Ur(1);const h=Ur(0),f=er(n);if((f||!f&&!a)&&((yn(n)!=="body"||Eo(i))&&(d=$i(n)),er(n))){const c=ds(n);m=qs(n),h.x=c.x+n.clientLeft,h.y=c.y+n.clientTop}return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x,y:s.y*m.y-d.scrollTop*m.y+h.y}}function f2(e){return Array.from(e.getClientRects())}function rd(e,t){const s=$i(e).scrollLeft;return t?t.left+s:ds(tr(e)).left+s}function x2(e){const t=tr(e),s=$i(e),n=e.ownerDocument.body,o=ct(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ct(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+rd(e);const l=-s.scrollTop;return Bt(n).direction==="rtl"&&(i+=ct(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:i,y:l}}function p2(e,t){const s=ht(e),n=tr(e),o=s.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,d=0;if(o){a=o.width,i=o.height;const m=Ru();(!m||m&&t==="fixed")&&(l=o.offsetLeft,d=o.offsetTop)}return{width:a,height:i,x:l,y:d}}function g2(e,t){const s=ds(e,!0,t==="fixed"),n=s.top+e.clientTop,o=s.left+e.clientLeft,a=er(e)?qs(e):Ur(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,d=o*a.x,m=n*a.y;return{width:i,height:l,x:d,y:m}}function Hh(e,t,s){let n;if(t==="viewport")n=p2(e,s);else if(t==="document")n=x2(tr(e));else if(Ut(t))n=g2(t,s);else{const o=Ag(e);n={...t,x:t.x-o.x,y:t.y-o.y}}return si(n)}function Rg(e,t){const s=Vr(e);return s===t||!Ut(s)||dn(s)?!1:Bt(s).position==="fixed"||Rg(s,t)}function y2(e,t){const s=t.get(e);if(s)return s;let n=go(e,[],!1).filter(l=>Ut(l)&&yn(l)!=="body"),o=null;const a=Bt(e).position==="fixed";let i=a?Vr(e):e;for(;Ut(i)&&!dn(i);){const l=Bt(i),d=Au(i);!d&&l.position==="fixed"&&(o=null),(a?!d&&!o:!d&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Eo(i)&&!d&&Rg(e,i))?n=n.filter(h=>h!==i):o=l,i=Vr(i)}return t.set(e,n),n}function v2(e){let{element:t,boundary:s,rootBoundary:n,strategy:o}=e;const i=[...s==="clippingAncestors"?Oi(t)?[]:y2(t,this._c):[].concat(s),n],l=i[0],d=i.reduce((m,h)=>{const f=Hh(t,h,o);return m.top=ct(f.top,m.top),m.right=zr(f.right,m.right),m.bottom=zr(f.bottom,m.bottom),m.left=ct(f.left,m.left),m},Hh(t,l,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function w2(e){const{width:t,height:s}=_g(e);return{width:t,height:s}}function b2(e,t,s){const n=er(t),o=tr(t),a=s==="fixed",i=ds(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const d=Ur(0);if(n||!n&&!a)if((yn(t)!=="body"||Eo(o))&&(l=$i(t)),n){const p=ds(t,!0,a,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else o&&(d.x=rd(o));let m=0,h=0;if(o&&!n&&!a){const p=o.getBoundingClientRect();h=p.top+l.scrollTop,m=p.left+l.scrollLeft-rd(o,p)}const f=i.left+l.scrollLeft-d.x-m,c=i.top+l.scrollTop-d.y-h;return{x:f,y:c,width:i.width,height:i.height}}function Ul(e){return Bt(e).position==="static"}function Gh(e,t){if(!er(e)||Bt(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return tr(e)===s&&(s=s.ownerDocument.body),s}function Mg(e,t){const s=ht(e);if(Oi(e))return s;if(!er(e)){let o=Vr(e);for(;o&&!dn(o);){if(Ut(o)&&!Ul(o))return o;o=Vr(o)}return s}let n=Gh(e,t);for(;n&&c2(n)&&Ul(n);)n=Gh(n,t);return n&&dn(n)&&Ul(n)&&!Au(n)?s:n||d2(e)||s}const j2=async function(e){const t=this.getOffsetParent||Mg,s=this.getDimensions,n=await s(e.floating);return{reference:b2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function N2(e){return Bt(e).direction==="rtl"}const k2={convertOffsetParentRelativeRectToViewportRelativeRect:h2,getDocumentElement:tr,getClippingRect:v2,getOffsetParent:Mg,getElementRects:j2,getClientRects:f2,getDimensions:w2,getScale:qs,isElement:Ut,isRTL:N2};function S2(e,t){let s=null,n;const o=tr(e);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function i(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),a();const{left:m,top:h,width:f,height:c}=e.getBoundingClientRect();if(l||t(),!f||!c)return;const p=Zo(h),w=Zo(o.clientWidth-(m+f)),x=Zo(o.clientHeight-(h+c)),j=Zo(m),y={rootMargin:-p+"px "+-w+"px "+-x+"px "+-j+"px",threshold:ct(0,zr(1,d))||1};let v=!0;function C(S){const k=S[0].intersectionRatio;if(k!==d){if(!v)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}v=!1}try{s=new IntersectionObserver(C,{...y,root:o.ownerDocument})}catch{s=new IntersectionObserver(C,y)}s.observe(e)}return i(!0),a}function C2(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=Mu(e),h=o||a?[...m?go(m):[],...go(t)]:[];h.forEach(g=>{o&&g.addEventListener("scroll",s,{passive:!0}),a&&g.addEventListener("resize",s)});const f=m&&l?S2(m,s):null;let c=-1,p=null;i&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===m&&p&&(p.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),s()}),m&&!d&&p.observe(m),p.observe(t));let w,x=d?ds(e):null;d&&j();function j(){const g=ds(e);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&s(),x=g,w=requestAnimationFrame(j)}return s(),()=>{var g;h.forEach(y=>{o&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,d&&cancelAnimationFrame(w)}}const E2=o2,T2=a2,P2=r2,_2=l2,A2=s2,Yh=t2,R2=i2,M2=(e,t,s)=>{const n=new Map,o={platform:k2,...s},a={...o.platform,_c:n};return e2(e,t,{...o,platform:a})};var ka=typeof document<"u"?u.useLayoutEffect:u.useEffect;function ni(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!ni(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),s=o.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=s;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!ni(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Ig(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kh(e,t){const s=Ig(e);return Math.round(t*s)/s}function Bl(e){const t=u.useRef(e);return ka(()=>{t.current=e}),t}function I2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[h,f]=u.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[c,p]=u.useState(n);ni(c,n)||p(n);const[w,x]=u.useState(null),[j,g]=u.useState(null),y=u.useCallback(T=>{T!==k.current&&(k.current=T,x(T))},[]),v=u.useCallback(T=>{T!==N.current&&(N.current=T,g(T))},[]),C=a||w,S=i||j,k=u.useRef(null),N=u.useRef(null),b=u.useRef(h),E=d!=null,_=Bl(d),D=Bl(o),O=Bl(m),V=u.useCallback(()=>{if(!k.current||!N.current)return;const T={placement:t,strategy:s,middleware:c};D.current&&(T.platform=D.current),M2(k.current,N.current,T).then(A=>{const M={...A,isPositioned:O.current!==!1};$.current&&!ni(b.current,M)&&(b.current=M,ps.flushSync(()=>{f(M)}))})},[c,t,s,D,O]);ka(()=>{m===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[m]);const $=u.useRef(!1);ka(()=>($.current=!0,()=>{$.current=!1}),[]),ka(()=>{if(C&&(k.current=C),S&&(N.current=S),C&&S){if(_.current)return _.current(C,S,V);V()}},[C,S,V,_,E]);const W=u.useMemo(()=>({reference:k,floating:N,setReference:y,setFloating:v}),[y,v]),H=u.useMemo(()=>({reference:C,floating:S}),[C,S]),F=u.useMemo(()=>{const T={position:s,left:0,top:0};if(!H.floating)return T;const A=Kh(H.floating,h.x),M=Kh(H.floating,h.y);return l?{...T,transform:"translate("+A+"px, "+M+"px)",...Ig(H.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:A,top:M}},[s,l,H.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:V,refs:W,elements:H,floatingStyles:F}),[h,V,W,H,F])}const D2=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:o}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?Yh({element:n.current,padding:o}).fn(s):{}:n?Yh({element:n,padding:o}).fn(s):{}}}},L2=(e,t)=>({...E2(e),options:[e,t]}),O2=(e,t)=>({...T2(e),options:[e,t]}),$2=(e,t)=>({...R2(e),options:[e,t]}),F2=(e,t)=>({...P2(e),options:[e,t]}),z2=(e,t)=>({..._2(e),options:[e,t]}),U2=(e,t)=>({...A2(e),options:[e,t]}),B2=(e,t)=>({...D2(e),options:[e,t]});var V2="Arrow",Dg=u.forwardRef((e,t)=>{const{children:s,width:n=10,height:o=5,...a}=e;return r.jsx(ne.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dg.displayName=V2;var W2=Dg;function H2(e,t=[]){let s=[];function n(a,i){const l=u.createContext(i),d=s.length;s=[...s,i];function m(f){const{scope:c,children:p,...w}=f,x=(c==null?void 0:c[e][d])||l,j=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:j,children:p})}function h(f,c){const p=(c==null?void 0:c[e][d])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,h]}const o=()=>{const a=s.map(i=>u.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,G2(o,...t)]}function G2(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:d,scopeName:m})=>{const f=d(a)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function Y2(e){const[t,s]=u.useState(void 0);return De(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const d=a.borderBoxSize,m=Array.isArray(d)?d[0]:d;i=m.inlineSize,l=m.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var Iu="Popper",[Lg,vn]=H2(Iu),[K2,Og]=Lg(Iu),$g=e=>{const{__scopePopper:t,children:s}=e,[n,o]=u.useState(null);return r.jsx(K2,{scope:t,anchor:n,onAnchorChange:o,children:s})};$g.displayName=Iu;var Fg="PopperAnchor",zg=u.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...o}=e,a=Og(Fg,s),i=u.useRef(null),l=me(t,i);return u.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:r.jsx(ne.div,{...o,ref:l})});zg.displayName=Fg;var Du="PopperContent",[q2,X2]=Lg(Du),Ug=u.forwardRef((e,t)=>{var I,X,Q,te,K,G;const{__scopePopper:s,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:c=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,j=Og(Du,s),[g,y]=u.useState(null),v=me(t,he=>y(he)),[C,S]=u.useState(null),k=Y2(C),N=(k==null?void 0:k.width)??0,b=(k==null?void 0:k.height)??0,E=n+(a!=="center"?"-"+a:""),_=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(m)?m:[m],O=D.length>0,V={padding:_,boundary:D.filter(J2),altBoundary:O},{refs:$,floatingStyles:W,placement:H,isPositioned:F,middlewareData:T}=I2({strategy:"fixed",placement:E,whileElementsMounted:(...he)=>C2(...he,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[L2({mainAxis:o+b,alignmentAxis:i}),d&&O2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$2():void 0,...V}),d&&F2({...V}),z2({...V,apply:({elements:he,rects:Te,availableWidth:at,availableHeight:Re})=>{const{width:Wt,height:At}=Te.reference,Se=he.floating.style;Se.setProperty("--radix-popper-available-width",`${at}px`),Se.setProperty("--radix-popper-available-height",`${Re}px`),Se.setProperty("--radix-popper-anchor-width",`${Wt}px`),Se.setProperty("--radix-popper-anchor-height",`${At}px`)}}),C&&B2({element:C,padding:l}),Z2({arrowWidth:N,arrowHeight:b}),c&&U2({strategy:"referenceHidden",...V})]}),[A,M]=Wg(H),L=Ue(w);De(()=>{F&&(L==null||L())},[F,L]);const B=(I=T.arrow)==null?void 0:I.x,P=(X=T.arrow)==null?void 0:X.y,z=((Q=T.arrow)==null?void 0:Q.centerOffset)!==0,[U,R]=u.useState();return De(()=>{g&&R(window.getComputedStyle(g).zIndex)},[g]),r.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:F?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[(te=T.transformOrigin)==null?void 0:te.x,(K=T.transformOrigin)==null?void 0:K.y].join(" "),...((G=T.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(q2,{scope:s,placedSide:A,onArrowChange:S,arrowX:B,arrowY:P,shouldHideArrow:z,children:r.jsx(ne.div,{"data-side":A,"data-align":M,...x,ref:v,style:{...x.style,animation:F?void 0:"none"}})})})});Ug.displayName=Du;var Bg="PopperArrow",Q2={top:"bottom",right:"left",bottom:"top",left:"right"},Vg=u.forwardRef(function(t,s){const{__scopePopper:n,...o}=t,a=X2(Bg,n),i=Q2[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(W2,{...o,ref:s,style:{...o.style,display:"block"}})})});Vg.displayName=Bg;function J2(e){return e!==null}var Z2=e=>({name:"transformOrigin",options:e,fn(t){var j,g,y;const{placement:s,rects:n,middlewareData:o}=t,i=((j=o.arrow)==null?void 0:j.centerOffset)!==0,l=i?0:e.arrowWidth,d=i?0:e.arrowHeight,[m,h]=Wg(s),f={start:"0%",center:"50%",end:"100%"}[h],c=(((g=o.arrow)==null?void 0:g.x)??0)+l/2,p=(((y=o.arrow)==null?void 0:y.y)??0)+d/2;let w="",x="";return m==="bottom"?(w=i?f:`${c}px`,x=`${-d}px`):m==="top"?(w=i?f:`${c}px`,x=`${n.floating.height+d}px`):m==="right"?(w=`${-d}px`,x=i?f:`${p}px`):m==="left"&&(w=`${n.floating.width+d}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function Wg(e){const[t,s="center"]=e.split("-");return[t,s]}var Hg=$g,Lu=zg,Ou=Ug,$u=Vg,[Fi,_3]=xn("Tooltip",[vn]),Fu=vn(),Gg="TooltipProvider",e4=700,qh="tooltip.open",[t4,Yg]=Fi(Gg),Kg=e=>{const{__scopeTooltip:t,delayDuration:s=e4,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,[i,l]=u.useState(!0),d=u.useRef(!1),m=u.useRef(0);return u.useEffect(()=>{const h=m.current;return()=>window.clearTimeout(h)},[]),r.jsx(t4,{scope:t,isOpenDelayed:i,delayDuration:s,onOpen:u.useCallback(()=>{window.clearTimeout(m.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:u.useCallback(h=>{d.current=h},[]),disableHoverableContent:o,children:a})};Kg.displayName=Gg;var qg="Tooltip",[A3,zi]=Fi(qg),sd="TooltipTrigger",r4=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=zi(sd,s),a=Yg(sd,s),i=Fu(s),l=u.useRef(null),d=me(t,l,o.onTriggerChange),m=u.useRef(!1),h=u.useRef(!1),f=u.useCallback(()=>m.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(Lu,{asChild:!0,...i,children:r.jsx(ne.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:d,onPointerMove:J(e.onPointerMove,c=>{c.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:J(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(e.onFocus,()=>{m.current||o.onOpen()}),onBlur:J(e.onBlur,o.onClose),onClick:J(e.onClick,o.onClose)})})});r4.displayName=sd;var s4="TooltipPortal",[R3,n4]=Fi(s4,{forceMount:void 0}),un="TooltipContent",Xg=u.forwardRef((e,t)=>{const s=n4(un,e.__scopeTooltip),{forceMount:n=s.forceMount,side:o="top",...a}=e,i=zi(un,e.__scopeTooltip);return r.jsx(gs,{present:n||i.open,children:i.disableHoverableContent?r.jsx(Qg,{side:o,...a,ref:t}):r.jsx(o4,{side:o,...a,ref:t})})}),o4=u.forwardRef((e,t)=>{const s=zi(un,e.__scopeTooltip),n=Yg(un,e.__scopeTooltip),o=u.useRef(null),a=me(t,o),[i,l]=u.useState(null),{trigger:d,onClose:m}=s,h=o.current,{onPointerInTransitChange:f}=n,c=u.useCallback(()=>{l(null),f(!1)},[f]),p=u.useCallback((w,x)=>{const j=w.currentTarget,g={x:w.clientX,y:w.clientY},y=c4(g,j.getBoundingClientRect()),v=d4(g,y),C=u4(x.getBoundingClientRect()),S=h4([...v,...C]);l(S),f(!0)},[f]);return u.useEffect(()=>()=>c(),[c]),u.useEffect(()=>{if(d&&h){const w=j=>p(j,h),x=j=>p(j,d);return d.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[d,h,p,c]),u.useEffect(()=>{if(i){const w=x=>{const j=x.target,g={x:x.clientX,y:x.clientY},y=(d==null?void 0:d.contains(j))||(h==null?void 0:h.contains(j)),v=!m4(g,i);y?c():v&&(c(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,h,i,m,c]),r.jsx(Qg,{...e,ref:a})}),[a4,i4]=Fi(qg,{isInside:!1}),Qg=u.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,d=zi(un,s),m=Fu(s),{onClose:h}=d;return u.useEffect(()=>(document.addEventListener(qh,h),()=>document.removeEventListener(qh,h)),[h]),u.useEffect(()=>{if(d.trigger){const f=c=>{const p=c.target;p!=null&&p.contains(d.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,h]),r.jsx(So,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:r.jsxs(Ou,{"data-state":d.stateAttribute,...m,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Mp,{children:n}),r.jsx(a4,{scope:s,isInside:!0,children:r.jsx(Aj,{id:d.contentId,role:"tooltip",children:o||n})})]})})});Xg.displayName=un;var Jg="TooltipArrow",l4=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,o=Fu(s);return i4(Jg,s).isInside?null:r.jsx($u,{...o,...n,ref:t})});l4.displayName=Jg;function c4(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,n,o,a)){case a:return"left";case o:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function d4(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function u4(e){const{top:t,right:s,bottom:n,left:o}=e;return[{x:o,y:t},{x:s,y:t},{x:s,y:n},{x:o,y:n}]}function m4(e,t){const{x:s,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,d=t[a].y,m=t[i].x,h=t[i].y;d>n!=h>n&&s<(m-l)*(n-d)/(h-d)+l&&(o=!o)}return o}function h4(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),f4(t)}function f4(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))t.pop();else break}t.push(o)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;s.length>=2;){const a=s[s.length-1],i=s[s.length-2];if((a.x-i.x)*(o.y-i.y)>=(a.y-i.y)*(o.x-i.x))s.pop();else break}s.push(o)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var x4=Kg,Zg=Xg;const p4=x4,g4=u.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(Zg,{ref:n,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));g4.displayName=Zg.displayName;function y4(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}=e,[o,a]=u.useState(!1),i=u.useRef(s);i.current=s;const l=u.useRef(n);return l.current=n,u.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=t,d.onload=()=>{var m;a(!0),(m=i.current)===null||m===void 0||m.call(i)},d.onerror=()=>{var m;a(!1),(m=l.current)===null||m===void 0||m.call(l)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[t]),o}const ey=u.createContext(null);function v4({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n,children:o}){const a=y4({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}),i=u.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:a}),[e,a]);return q.createElement(ey.Provider,{value:i},o)}function w4(){const e=u.useContext(ey);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function b4(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const j4={large:40,medium:32,small:20};function zu({onSuccess:e,onError:t,useOneTap:s,promptMomentNotification:n,type:o="standard",theme:a="outline",size:i="large",text:l,shape:d,logo_alignment:m,width:h,locale:f,click_listener:c,containerProps:p,...w}){const x=u.useRef(null),{clientId:j,scriptLoadedSuccessfully:g}=w4(),y=u.useRef(e);y.current=e;const v=u.useRef(t);v.current=t;const C=u.useRef(n);return C.current=n,u.useEffect(()=>{var S,k,N,b,E,_,D,O,V;if(g)return(N=(k=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||k===void 0?void 0:k.id)===null||N===void 0||N.initialize({client_id:j,callback:$=>{var W;if(!($!=null&&$.credential))return(W=v.current)===null||W===void 0?void 0:W.call(v);const{credential:H,select_by:F}=$;y.current({credential:H,clientId:b4($),select_by:F})},...w}),(_=(E=(b=window==null?void 0:window.google)===null||b===void 0?void 0:b.accounts)===null||E===void 0?void 0:E.id)===null||_===void 0||_.renderButton(x.current,{type:o,theme:a,size:i,text:l,shape:d,logo_alignment:m,width:h,locale:f,click_listener:c}),s&&((V=(O=(D=window==null?void 0:window.google)===null||D===void 0?void 0:D.accounts)===null||O===void 0?void 0:O.id)===null||V===void 0||V.prompt(C.current)),()=>{var $,W,H;s&&((H=(W=($=window==null?void 0:window.google)===null||$===void 0?void 0:$.accounts)===null||W===void 0?void 0:W.id)===null||H===void 0||H.cancel())}},[j,g,s,o,a,i,l,d,m,h,f]),q.createElement("div",{...p,ref:x,style:{height:j4[i],...p==null?void 0:p.style}})}const Xe=()=>{const e=u.useContext(Sg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},N4=()=>{const{setIsLoggedIn:e,setUser:t}=Xe(),{toast:s}=gt();return u.useEffect(()=>{const n=()=>{console.log(" Token Manager: Session expired, logging out user"),e(!1),t(null),s({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please login again to continue.",duration:5e3})};window.addEventListener("auth:logout",n);const o=setInterval(()=>{const a=localStorage.getItem("token"),i=localStorage.getItem("tokenExpiry");if(a&&i){const l=parseInt(i),d=Date.now(),m=l-d;console.log(" Token Manager: Token check",{hasToken:!!a,expiryTime:new Date(l).toLocaleString(),timeUntilExpiry:Math.round(m/1e3/60)+" minutes"}),m>0&&m<=10*60*1e3&&s({title:"Session Expiring Soon",description:"Your session will expire in 10 minutes. Please save any work.",duration:8e3})}},5*60*1e3);return()=>{window.removeEventListener("auth:logout",n),clearInterval(o)}},[e,t,s]),{checkTokenStatus:()=>{const n=localStorage.getItem("token"),o=localStorage.getItem("tokenExpiry");if(!n)return{hasToken:!1};const a=parseInt(o||"0"),i=Date.now(),l=a-i;return{hasToken:!0,isExpired:l<=0,expiresAt:new Date(a),timeUntilExpiry:Math.round(l/1e3)}}}};class Xh extends q.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error(" Error Boundary caught an error:",t),console.error(" Error Info:",s)}render(){var t;return this.state.hasError?this.props.fallback?r.jsx(this.props.fallback,{error:this.state.error}):r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[r.jsx("h2",{className:"text-red-600 text-xl font-bold mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an error. Please refresh the page or contact support."}),r.jsxs("details",{className:"bg-gray-100 rounded p-3 text-sm",children:[r.jsx("summary",{className:"cursor-pointer font-medium",children:"Error Details"}),r.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}let ea=null;const k4=()=>"https://xsmmarket.com/api",S4=async()=>{if(ea!==null)return ea;try{const e=localStorage.getItem("token");if(!e)return{adminEmail:null,adminUsername:null};const t=await fetch(`${k4()}/admin/email`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const s=await t.json();return ea={adminEmail:s.adminEmail||null,adminUsername:s.adminUsername||null},ea}}catch(e){console.error(" Failed to fetch admin data:",e)}return{adminEmail:null,adminUsername:null}},C4=async(e,t)=>{try{const s=localStorage.getItem("userData");if(s&&JSON.parse(s).isAdmin===!0)return console.log(" User is admin (isAdmin flag set to true)"),!0;const{adminEmail:n,adminUsername:o}=await S4(),a=n&&e&&e.toLowerCase()===n.toLowerCase(),i=o&&t&&t.toLowerCase()===o.toLowerCase(),l=a||i;return console.log(l?" User is admin (matched admin email/username)":" User is not admin"),l}catch(s){return console.error(" Error checking admin status:",s),!1}},gr=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));gr.displayName="Card";const us=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));us.displayName="CardHeader";const oi=u.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));oi.displayName="CardTitle";const ai=u.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:oe("text-sm text-muted-foreground",e),...t}));ai.displayName="CardDescription";const ms=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:oe("p-6 pt-0",e),...t}));ms.displayName="CardContent";const Uu=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:oe("flex items-center p-6 pt-0",e),...t}));Uu.displayName="CardFooter";const rt=u.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));rt.displayName="Input";const E4=pu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),St=u.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:oe(E4({variant:t}),e),...s}));St.displayName="Alert";const Sa=u.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:oe("mb-1 font-medium leading-none tracking-tight",e),...t}));Sa.displayName="AlertTitle";const Ct=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:oe("text-sm [&_p]:leading-relaxed",e),...t}));Ct.displayName="AlertDescription";const T4=pu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=u.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...o},a)=>{const i=n?ls:"button";return r.jsx(i,{className:oe(T4({variant:t,size:s,className:e})),ref:a,...o})});$e.displayName="Button";var ty={exports:{}},P4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_4=P4,A4=_4;function ry(){}function sy(){}sy.resetWarningCache=ry;var R4=function(){function e(n,o,a,i,l,d){if(d!==A4){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sy,resetWarningCache:ry};return s.PropTypes=s,s};ty.exports=R4();var M4=ty.exports;const Je=di(M4);var I4=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},nd.apply(this,arguments)}function D4(e,t){if(e==null)return{};var s={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}function ta(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,od(e,t)}function od(e,t){return od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},od(e,t)}var Ui=function(e){L4(t,e);function t(){var n;return n=e.call(this)||this,n.handleExpired=n.handleExpired.bind(ta(n)),n.handleErrored=n.handleErrored.bind(ta(n)),n.handleChange=n.handleChange.bind(ta(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(ta(n)),n}var s=t.prototype;return s.getCaptchaFunction=function(o){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[o]:this.props.grecaptcha[o]:null},s.getValue=function(){var o=this.getCaptchaFunction("getResponse");return o&&this._widgetId!==void 0?o(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},s.execute=function(){var o=this.getCaptchaFunction("execute");if(o&&this._widgetId!==void 0)return o(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var o=this;return new Promise(function(a,i){o.executionResolve=a,o.executionReject=i,o.execute()})},s.reset=function(){var o=this.getCaptchaFunction("reset");o&&this._widgetId!==void 0&&o(this._widgetId)},s.forceReset=function(){var o=this.getCaptchaFunction("reset");o&&o()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(o){this.props.onChange&&this.props.onChange(o),this.executionResolve&&(this.executionResolve(o),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var o=this.getCaptchaFunction("render");if(o&&this._widgetId===void 0){var a=document.createElement("div");this._widgetId=o(a,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(a)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(o){this.captcha=o},s.render=function(){var o=this.props;o.sitekey,o.onChange,o.theme,o.type,o.tabindex,o.onExpired,o.onErrored,o.size,o.stoken,o.grecaptcha,o.badge,o.hl,o.isolated;var a=D4(o,I4);return u.createElement("div",nd({},a,{ref:this.handleRecaptchaRef}))},t}(u.Component);Ui.displayName="ReCAPTCHA";Ui.propTypes={sitekey:Je.string.isRequired,onChange:Je.func,grecaptcha:Je.object,theme:Je.oneOf(["dark","light"]),type:Je.oneOf(["image","audio"]),tabindex:Je.number,onExpired:Je.func,onErrored:Je.func,size:Je.oneOf(["compact","normal","invisible"]),stoken:Je.string,hl:Je.string,badge:Je.oneOf(["bottomright","bottomleft","inline"]),isolated:Je.bool};Ui.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var ny={exports:{}},ue={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=typeof Symbol=="function"&&Symbol.for,Bu=Le?Symbol.for("react.element"):60103,Vu=Le?Symbol.for("react.portal"):60106,Bi=Le?Symbol.for("react.fragment"):60107,Vi=Le?Symbol.for("react.strict_mode"):60108,Wi=Le?Symbol.for("react.profiler"):60114,Hi=Le?Symbol.for("react.provider"):60109,Gi=Le?Symbol.for("react.context"):60110,Wu=Le?Symbol.for("react.async_mode"):60111,Yi=Le?Symbol.for("react.concurrent_mode"):60111,Ki=Le?Symbol.for("react.forward_ref"):60112,qi=Le?Symbol.for("react.suspense"):60113,O4=Le?Symbol.for("react.suspense_list"):60120,Xi=Le?Symbol.for("react.memo"):60115,Qi=Le?Symbol.for("react.lazy"):60116,$4=Le?Symbol.for("react.block"):60121,F4=Le?Symbol.for("react.fundamental"):60117,z4=Le?Symbol.for("react.responder"):60118,U4=Le?Symbol.for("react.scope"):60119;function yt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Bu:switch(e=e.type,e){case Wu:case Yi:case Bi:case Wi:case Vi:case qi:return e;default:switch(e=e&&e.$$typeof,e){case Gi:case Ki:case Qi:case Xi:case Hi:return e;default:return t}}case Vu:return t}}}function oy(e){return yt(e)===Yi}ue.AsyncMode=Wu;ue.ConcurrentMode=Yi;ue.ContextConsumer=Gi;ue.ContextProvider=Hi;ue.Element=Bu;ue.ForwardRef=Ki;ue.Fragment=Bi;ue.Lazy=Qi;ue.Memo=Xi;ue.Portal=Vu;ue.Profiler=Wi;ue.StrictMode=Vi;ue.Suspense=qi;ue.isAsyncMode=function(e){return oy(e)||yt(e)===Wu};ue.isConcurrentMode=oy;ue.isContextConsumer=function(e){return yt(e)===Gi};ue.isContextProvider=function(e){return yt(e)===Hi};ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu};ue.isForwardRef=function(e){return yt(e)===Ki};ue.isFragment=function(e){return yt(e)===Bi};ue.isLazy=function(e){return yt(e)===Qi};ue.isMemo=function(e){return yt(e)===Xi};ue.isPortal=function(e){return yt(e)===Vu};ue.isProfiler=function(e){return yt(e)===Wi};ue.isStrictMode=function(e){return yt(e)===Vi};ue.isSuspense=function(e){return yt(e)===qi};ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bi||e===Yi||e===Wi||e===Vi||e===qi||e===O4||typeof e=="object"&&e!==null&&(e.$$typeof===Qi||e.$$typeof===Xi||e.$$typeof===Hi||e.$$typeof===Gi||e.$$typeof===Ki||e.$$typeof===F4||e.$$typeof===z4||e.$$typeof===U4||e.$$typeof===$4)};ue.typeOf=yt;ny.exports=ue;var B4=ny.exports,Hu=B4,V4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},W4={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},H4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ay={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Gu={};Gu[Hu.ForwardRef]=H4;Gu[Hu.Memo]=ay;function Qh(e){return Hu.isMemo(e)?ay:Gu[e.$$typeof]||V4}var G4=Object.defineProperty,Y4=Object.getOwnPropertyNames,Jh=Object.getOwnPropertySymbols,K4=Object.getOwnPropertyDescriptor,q4=Object.getPrototypeOf,Zh=Object.prototype;function iy(e,t,s){if(typeof t!="string"){if(Zh){var n=q4(t);n&&n!==Zh&&iy(e,n,s)}var o=Y4(t);Jh&&(o=o.concat(Jh(t)));for(var a=Qh(e),i=Qh(t),l=0;l<o.length;++l){var d=o[l];if(!W4[d]&&!(s&&s[d])&&!(i&&i[d])&&!(a&&a[d])){var m=K4(t,d);try{G4(e,d,m)}catch{}}}}return e}var X4=iy;const Q4=di(X4);function ad(){return ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ad.apply(this,arguments)}function J4(e,t){if(e==null)return{};var s={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(s[o]=e[o]);return s}function Z4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Mt={},ek=0;function tk(e,t){return t=t||{},function(n){var o=n.displayName||n.name||"Component",a=function(l){Z4(d,l);function d(h,f){var c;return c=l.call(this,h,f)||this,c.state={},c.__scriptURL="",c}var m=d.prototype;return m.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+ek++),this.__scriptLoaderID},m.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},m.asyncScriptLoaderHandleLoad=function(f){var c=this;this.setState(f,function(){return c.props.asyncScriptOnLoad&&c.props.asyncScriptOnLoad(c.state)})},m.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Mt[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var c in f.observers)f.observers[c](f);delete window[t.callbackName]},m.componentDidMount=function(){var f=this,c=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),w=t,x=w.globalName,j=w.callbackName,g=w.scriptId;if(x&&typeof window[x]<"u"&&(Mt[c]={loaded:!0,observers:{}}),Mt[c]){var y=Mt[c];if(y&&(y.loaded||y.errored)){this.asyncScriptLoaderHandleLoad(y);return}y.observers[p]=function(N){return f.asyncScriptLoaderHandleLoad(N)};return}var v={};v[p]=function(N){return f.asyncScriptLoaderHandleLoad(N)},Mt[c]={loaded:!1,observers:v};var C=document.createElement("script");C.src=c,C.async=!0;for(var S in t.attributes)C.setAttribute(S,t.attributes[S]);g&&(C.id=g);var k=function(b){if(Mt[c]){var E=Mt[c],_=E.observers;for(var D in _)b(_[D])&&delete _[D]}};j&&typeof window<"u"&&(window[j]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var N=Mt[c];N&&(N.loaded=!0,k(function(b){return j?!1:(b(N),!0)}))},C.onerror=function(){var N=Mt[c];N&&(N.errored=!0,k(function(b){return b(N),!0}))},document.body.appendChild(C)},m.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var c=document.getElementsByTagName("script"),p=0;p<c.length;p+=1)c[p].src.indexOf(f)>-1&&c[p].parentNode&&c[p].parentNode.removeChild(c[p]);var w=Mt[f];w&&(delete w.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Mt[f])},m.render=function(){var f=t.globalName,c=this.props;c.asyncScriptOnLoad;var p=c.forwardedRef,w=J4(c,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(w[f]=typeof window[f]<"u"?window[f]:void 0),w.ref=p,u.createElement(n,w)},d}(u.Component),i=u.forwardRef(function(l,d){return u.createElement(a,ad({},l,{forwardedRef:d}))});return i.displayName="AsyncScriptLoader("+o+")",i.propTypes={asyncScriptOnLoad:Je.func},Q4(i,n)}}var id="onloadcallback",rk="grecaptcha";function ld(){return typeof window<"u"&&window.recaptchaOptions||{}}function sk(){var e=ld(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+id+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+id+"&render=explicit"}const Yu=tk(sk,{callbackName:id,globalName:rk,attributes:ld().nonce?{nonce:ld().nonce}:{}})(Ui),Ku=({email:e,onVerificationSuccess:t,onBack:s})=>{const[n,o]=u.useState(["","","","","",""]),[a,i]=u.useState(!1),[l,d]=u.useState(!1),[m,h]=u.useState(""),[f,c]=u.useState(""),[p,w]=u.useState(300),x=u.useRef([]);u.useEffect(()=>{var k;(k=x.current[0])==null||k.focus()},[]),u.useEffect(()=>{if(p>0){const k=setTimeout(()=>w(p-1),1e3);return()=>clearTimeout(k)}},[p]);const j=(k,N)=>{var E;if(N.length>1)return;const b=[...n];b[k]=N,o(b),N&&k<5&&((E=x.current[k+1])==null||E.focus()),m&&h("")},g=(k,N)=>{var b;N.key==="Backspace"&&!n[k]&&k>0&&((b=x.current[k-1])==null||b.focus())},y=k=>{var b;k.preventDefault();const N=k.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(N)){const E=[...n];for(let D=0;D<N.length&&D<6;D++)E[D]=N[D];o(E);const _=Math.min(N.length,5);(b=x.current[_])==null||b.focus()}},v=async k=>{k.preventDefault();const N=n.join("");if(N.length!==6){h("Please enter all 6 digits");return}i(!0),h("");try{const b=await rN(e,N);c("Email verified successfully!"),t&&t(b.token,b.user)}catch(b){console.error("OTP verification error:",b),h(b.message||"Invalid or expired OTP")}finally{i(!1)}},C=async()=>{var k;d(!0),h("");try{await sN(e),c("New OTP sent to your email"),w(300),o(["","","","","",""]),(k=x.current[0])==null||k.focus()}catch(N){console.error("Resend OTP error:",N),h(N.message||"Failed to resend OTP")}finally{d(!1)}},S=k=>{const N=Math.floor(k/60),b=k%60;return`${N}:${b.toString().padStart(2,"0")}`};return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(gr,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(us,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-xsm-yellow/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(on,{className:"w-8 h-8 text-xsm-yellow"})}),r.jsx(oi,{className:"text-2xl font-bold text-xsm-yellow",children:"Verify Your Email"}),r.jsxs(ai,{className:"text-xsm-light-gray",children:["We've sent a 6-digit verification code to",r.jsx("br",{}),r.jsx("span",{className:"font-medium text-white",children:e})]})]}),r.jsxs(ms,{className:"space-y-6",children:[m&&r.jsx(St,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:r.jsx(Ct,{className:"text-red-300",children:m})}),f&&r.jsx(St,{className:"bg-green-900/20 border-green-700",children:r.jsx(Ct,{className:"text-green-300",children:f})}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-white",children:"Enter verification code"}),r.jsx("div",{className:"flex justify-between space-x-2",onPaste:y,children:n.map((k,N)=>r.jsx(rt,{ref:b=>x.current[N]=b,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:k,onChange:b=>j(N,b.target.value),onKeyDown:b=>g(N,b),className:"w-12 h-12 text-center text-lg font-bold bg-xsm-dark-gray border-xsm-medium-gray text-white focus:border-xsm-yellow",disabled:a},N))})]}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-sm text-xsm-light-gray",children:p>0?r.jsxs(r.Fragment,{children:["Code expires in ",r.jsx("span",{className:"font-mono text-xsm-yellow",children:S(p)})]}):r.jsx("span",{className:"text-red-400",children:"Code has expired"})})}),r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",disabled:a||n.join("").length!==6,children:a?r.jsxs(r.Fragment,{children:[r.jsx(yu,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Email"})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Didn't receive the code?"}),r.jsx($e,{type:"button",variant:"ghost",onClick:C,disabled:l||p>240,className:"text-xsm-yellow hover:text-yellow-400 hover:bg-xsm-medium-gray",children:l?r.jsxs(r.Fragment,{children:[r.jsx(Ys,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Resend Code"})]}),s&&r.jsx("div",{className:"text-center",children:r.jsx($e,{type:"button",variant:"ghost",onClick:s,className:"text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:"Back to Registration"})})]})]})})},nk=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ok=({onBack:e,onClose:t})=>{const[s,n]=u.useState(""),[o,a]=u.useState(""),[i,l]=u.useState(!1),[d,m]=u.useState(!1),{toast:h}=gt(),f=async c=>{if(c.preventDefault(),a(""),!s){a("Please enter your email address");return}if(!nk(s)){a("Please enter a valid email address");return}l(!0);try{const p=await kg(s);m(!0),h({title:"Success!",description:p.message||"A new password has been sent to your email address."})}catch(p){const w=p instanceof Error?p.message:"Failed to send new password";a(w),h({variant:"destructive",title:"Error",description:w})}finally{l(!1)}};return d?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("button",{onClick:e,className:"mr-3 text-xsm-light-gray hover:text-white transition-colors",children:r.jsx(Za,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Password Sent!"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(on,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Check Your Email"}),r.jsxs("p",{className:"text-sm text-xsm-light-gray mb-4",children:["We've sent a new temporary password to ",r.jsx("span",{className:"text-white font-medium",children:s})]}),r.jsx("p",{className:"text-xs text-xsm-light-gray mb-6",children:"Please check your email and use the new password to login. You can change this password later in your profile settings."}),r.jsx($e,{onClick:t,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",children:"Back to Login"})]})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("button",{onClick:e,className:"mr-3 text-xsm-light-gray hover:text-white transition-colors",disabled:i,children:r.jsx(Za,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Forgot Password"})]}),o&&r.jsx(St,{variant:"destructive",className:"mb-4",children:r.jsx(Ct,{children:o})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx(on,{className:"w-12 h-12 text-xsm-yellow mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Enter your email address and we'll send you a new temporary password."}),r.jsx("p",{className:"text-xs text-xsm-light-gray mt-2",children:"You can change this password later in your profile settings."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email address"}),r.jsx(rt,{id:"email",name:"email",type:"email",required:!0,value:s,onChange:c=>n(c.target.value),placeholder:"Enter your email",disabled:i,className:"bg-xsm-black"})]}),r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:i,children:i?"Sending...":"Send New Password"})]})]})},ak=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ly=({onClose:e,onNavigate:t})=>{const[s,n]=u.useState(!0),[o,a]=u.useState(""),[i,l]=u.useState(""),[d,m]=u.useState(""),[h,f]=u.useState(""),[c,p]=u.useState(""),[w,x]=u.useState(!1),[j,g]=u.useState(!1),[y,v]=u.useState(!1),[C,S]=u.useState(""),[k,N]=u.useState(!1),[b,E]=u.useState(!1),[_,D]=u.useState(null),[O,V]=u.useState(!1),$=u.useRef(null),{toast:W}=gt(),{setIsLoggedIn:H,setUser:F}=Xe(),T=z=>{D(z)},A=()=>{$.current&&$.current.reset(),D(null)},M=async z=>{if(z.preventDefault(),p(""),x(!0),!_){p("Please complete the reCAPTCHA verification"),W({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"}),x(!1);return}try{const U=await jg(o,i,_);if(U.user)H(!0),F(U.user),W({title:"Success!",description:"You have successfully logged in."}),e();else throw new Error("Login succeeded but user data is missing")}catch(U){A();const R=U instanceof Error?U.message:"Failed to login";R.includes("verify your email")?(p(R),W({variant:"destructive",title:"Email Verification Required",description:R+" Click the button below to verify your email."}),setTimeout(()=>{p(R+" Click 'Verify Email' below to verify now.")},100)):(p(R),W({variant:"destructive",title:"Error",description:R}))}finally{x(!1)}},L=async z=>{if(z.preventDefault(),console.log("Signup form submitted"),p(""),!_){p("Please complete the reCAPTCHA verification"),W({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"});return}if(!h||!o||!i||!d){const U="Username, email, password, and confirm password are required";p(U),W({variant:"destructive",title:"Error",description:U});return}if(!O){const U="Please agree to the Terms and Conditions to continue";p(U),W({variant:"destructive",title:"Error",description:U});return}if(!ak(o)){const U="Please enter a valid email address";p(U),W({variant:"destructive",title:"Error",description:U});return}if(h.length<3){const U="Username must be at least 3 characters long";p(U),W({variant:"destructive",title:"Error",description:U});return}if(i!==d){const U="Passwords don't match";p(U),W({variant:"destructive",title:"Error",description:U});return}if(i.length<6){const U="Password must be at least 6 characters long";p(U),W({variant:"destructive",title:"Error",description:U});return}x(!0),console.log("Attempting to register user:",{username:h,email:o});try{console.log("Sending registration request to backend...");const U=await Ng(h,o,i,_);console.log("Registration response:",U),U&&U.requiresVerification?(S(o),g(!0),W({title:"Registration Successful!",description:"Please check your email for verification code."})):U&&U.user?(F(U.user),H(!0),W({title:"Account Created!",description:`Welcome to XSM Market, ${U.user.username}!`}),e()):(W({title:"Success with Warning",description:"Account created but user data incomplete. Please try logging in."}),n(!0))}catch(U){A(),console.error("Registration failed:",U);const R=U instanceof Error?U.message:"Failed to register";R.includes("Email already registered")?p("This email is already registered. Please use a different email or try logging in."):R.includes("Username already taken")?p("This username is already taken. Please choose a different username."):R.includes("Network error")?p("Cannot connect to the server. Please check your connection."):p(R),W({variant:"destructive",title:"Registration Failed",description:c})}finally{x(!1)}},B=async z=>{console.log("Google Sign-In Success:",z),x(!0),p("");try{if(!z.credential)throw new Error("No credential received from Google");const U=await Cu(z.credential);if(U.user)H(!0),F(U.user),W({title:"Success!",description:`Welcome ${U.user.username}! You have successfully signed in with Google.`}),e();else throw new Error("Google sign-in succeeded but user data is missing")}catch(U){console.error("Google Sign-In Error:",U),p(U instanceof Error?U.message:"Failed to sign in with Google"),W({variant:"destructive",title:"Error",description:U instanceof Error?U.message:"Failed to sign in with Google"})}finally{x(!1)}},P=(z,U)=>{F(U),H(!0),W({title:"Welcome to XSM Market!",description:"Your email has been verified successfully!"}),e()};return y?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn p-4",onClick:z=>{z.target===z.currentTarget&&e()},children:r.jsxs(gr,{className:"w-full max-w-sm mx-4 bg-xsm-dark-gray border-xsm-medium-gray relative animate-scaleIn max-h-[90vh] overflow-y-auto",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-400 hover:text-white",children:r.jsx(Ee,{className:"w-4 h-4"})}),r.jsx(ok,{onBack:()=>v(!1),onClose:e})]})}):j?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn",onClick:z=>{z.target===z.currentTarget&&e()},children:r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg p-6 max-w-md w-full mx-4 animate-scaleIn",children:r.jsx(Ku,{email:C,onVerificationSuccess:P,onBack:()=>g(!1)})})}):r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn p-4",onClick:z=>{z.target===z.currentTarget&&e()},children:r.jsxs(gr,{className:"w-full max-w-sm mx-4 bg-xsm-dark-gray border-xsm-medium-gray relative animate-scaleIn",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-400 hover:text-white z-10",children:r.jsx(Ee,{className:"w-4 h-4"})}),r.jsxs("div",{className:"p-2",children:[r.jsx("h2",{className:"text-base font-bold text-xsm-yellow mb-2 text-center",children:s?"Sign in to your account":"Create your account"}),c&&r.jsx(St,{variant:"destructive",className:"mb-2",children:r.jsx(Ct,{className:"text-xs",children:c})}),r.jsxs("form",{onSubmit:s?M:L,className:"space-y-1.5",noValidate:!0,children:[!s&&r.jsx(r.Fragment,{children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-xs font-medium text-white mb-0.5",children:"Username"}),r.jsx(rt,{id:"username",name:"username",type:"text",required:!0,value:h,onChange:z=>f(z.target.value),placeholder:"Choose a username",disabled:w,className:"bg-xsm-black h-8 text-sm"})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-white mb-0.5",children:"Email address"}),r.jsx(rt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:z=>a(z.target.value),placeholder:"Enter your email",disabled:w,className:"bg-xsm-black h-8 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-white mb-0.5",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(rt,{id:"password",name:"password",type:k?"text":"password",autoComplete:s?"current-password":"new-password",required:!0,value:i,onChange:z=>l(z.target.value),placeholder:s?"Enter your password":"Create a password",disabled:w,className:"bg-xsm-black pr-10 h-8 text-sm"}),r.jsx("button",{type:"button",onClick:()=>N(!k),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:w,children:k?r.jsx(mo,{className:"h-3 w-3"}):r.jsx(_t,{className:"h-3 w-3"})})]})]}),!s&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-medium text-white mb-0.5",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(rt,{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",required:!0,value:d,onChange:z=>m(z.target.value),placeholder:"Confirm your password",disabled:w,className:"bg-xsm-black pr-10 h-8 text-sm"}),r.jsx("button",{type:"button",onClick:()=>E(!b),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:w,children:b?r.jsx(mo,{className:"h-3 w-3"}):r.jsx(_t,{className:"h-3 w-3"})})]})]}),!s&&r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("input",{type:"checkbox",id:"agreeToTerms",checked:O,onChange:z=>V(z.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-xsm-yellow focus:ring-xsm-yellow",disabled:w,required:!0}),r.jsxs("label",{htmlFor:"agreeToTerms",className:"text-sm text-white",children:["I agree to the"," ",r.jsx("button",{type:"button",onClick:()=>{t&&(t("terms"),e())},className:"text-xsm-yellow hover:text-yellow-500 underline",children:"Terms and Conditions"})]})]}),s&&r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",disabled:w,children:"Forgot your password?"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Yu,{ref:$,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:T,theme:"dark"})}),r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:w||!_,children:w?s?"Signing in...":"Creating account...":s?"Sign in":"Sign up"}),c&&c.includes("verify your email")&&r.jsx("div",{children:r.jsx($e,{type:"button",variant:"outline",className:"w-full border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>g(!0),disabled:w,children:"Verify Email Now"})}),r.jsxs("div",{className:"relative my-2",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(zu,{onSuccess:B,onError:()=>{p("Google sign-in was cancelled or failed"),W({variant:"destructive",title:"Error",description:"Google sign-in was cancelled or failed"})},useOneTap:!1,theme:"filled_black",size:"large",text:s?"signin_with":"signup_with",shape:"rectangular",width:"100%"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:[s?"Don't have an account?":"Already have an account?"," ",r.jsx("button",{onClick:()=>n(!s),className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:w,children:s?"Sign up":"Sign in"})]})})]})]})})};var qu="Avatar",[ik,M3]=xn(qu),[lk,cy]=ik(qu),dy=u.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[o,a]=u.useState("idle");return r.jsx(lk,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:r.jsx(ne.span,{...n,ref:t})})});dy.displayName=qu;var uy="AvatarImage",my=u.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...a}=e,i=cy(uy,s),l=ck(n,a.referrerPolicy),d=Ue(m=>{o(m),i.onImageLoadingStatusChange(m)});return De(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?r.jsx(ne.img,{...a,ref:t,src:n}):null});my.displayName=uy;var hy="AvatarFallback",fy=u.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...o}=e,a=cy(hy,s),[i,l]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),i&&a.imageLoadingStatus!=="loaded"?r.jsx(ne.span,{...o,ref:t}):null});fy.displayName=hy;function ck(e,t){const[s,n]=u.useState("idle");return De(()=>{if(!e){n("error");return}let o=!0;const a=new window.Image,i=l=>()=>{o&&n(l)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),s}var xy=dy,py=my,gy=fy;const yy=u.forwardRef(({className:e,...t},s)=>r.jsx(xy,{ref:s,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yy.displayName=xy.displayName;const vy=u.forwardRef(({className:e,...t},s)=>r.jsx(py,{ref:s,className:oe("aspect-square h-full w-full",e),...t}));vy.displayName=py.displayName;const wy=u.forwardRef(({className:e,...t},s)=>r.jsx(gy,{ref:s,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wy.displayName=gy.displayName;var dk=u.createContext(void 0);function Xu(e){const t=u.useContext(dk);return e||t||"ltr"}var Vl=0;function by(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ef()),document.body.insertAdjacentElement("beforeend",e[1]??ef()),Vl++,()=>{Vl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vl--}},[])}function ef(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wl="focusScope.autoFocusOnMount",Hl="focusScope.autoFocusOnUnmount",tf={bubbles:!1,cancelable:!0},uk="FocusScope",Qu=u.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,d]=u.useState(null),m=Ue(o),h=Ue(a),f=u.useRef(null),c=me(t,x=>d(x)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let x=function(v){if(p.paused||!l)return;const C=v.target;l.contains(C)?f.current=C:Nr(f.current,{select:!0})},j=function(v){if(p.paused||!l)return;const C=v.relatedTarget;C!==null&&(l.contains(C)||Nr(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const S of v)S.removedNodes.length>0&&Nr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),y.disconnect()}}},[n,l,p.paused]),u.useEffect(()=>{if(l){sf.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(Wl,tf);l.addEventListener(Wl,m),l.dispatchEvent(g),g.defaultPrevented||(mk(gk(jy(l)),{select:!0}),document.activeElement===x&&Nr(l))}return()=>{l.removeEventListener(Wl,m),setTimeout(()=>{const g=new CustomEvent(Hl,tf);l.addEventListener(Hl,h),l.dispatchEvent(g),g.defaultPrevented||Nr(x??document.body,{select:!0}),l.removeEventListener(Hl,h),sf.remove(p)},0)}}},[l,m,h,p]);const w=u.useCallback(x=>{if(!s&&!n||p.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(j&&g){const y=x.currentTarget,[v,C]=hk(y);v&&C?!x.shiftKey&&g===C?(x.preventDefault(),s&&Nr(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),s&&Nr(C,{select:!0})):g===y&&x.preventDefault()}},[s,n,p.paused]);return r.jsx(ne.div,{tabIndex:-1,...i,ref:c,onKeyDown:w})});Qu.displayName=uk;function mk(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Nr(n,{select:t}),document.activeElement!==s)return}function hk(e){const t=jy(e),s=rf(t,e),n=rf(t.reverse(),e);return[s,n]}function jy(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function rf(e,t){for(const s of e)if(!fk(s,{upTo:t}))return s}function fk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xk(e){return e instanceof HTMLInputElement&&"select"in e}function Nr(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&xk(e)&&t&&e.select()}}var sf=pk();function pk(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=nf(e,t),e.unshift(t)},remove(t){var s;e=nf(e,t),(s=e[0])==null||s.resume()}}}function nf(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function gk(e){return e.filter(t=>t.tagName!=="A")}function yk(e,t=[]){let s=[];function n(a,i){const l=u.createContext(i),d=s.length;s=[...s,i];function m(f){const{scope:c,children:p,...w}=f,x=(c==null?void 0:c[e][d])||l,j=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:j,children:p})}function h(f,c){const p=(c==null?void 0:c[e][d])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return m.displayName=a+"Provider",[m,h]}const o=()=>{const a=s.map(i=>u.createContext(i));return function(l){const d=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[n,vk(o,...t)]}function vk(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=n.reduce((l,{useScope:d,scopeName:m})=>{const f=d(a)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Gl="rovingFocusGroup.onEntryFocus",wk={bubbles:!1,cancelable:!0},Ji="RovingFocusGroup",[cd,Ny,bk]=Ti(Ji),[jk,ky]=yk(Ji,[bk]),[Nk,kk]=jk(Ji),Sy=u.forwardRef((e,t)=>r.jsx(cd.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(cd.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Sk,{...e,ref:t})})}));Sy.displayName=Ji;var Sk=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,c=u.useRef(null),p=me(t,c),w=Xu(a),[x=null,j]=uo({prop:i,defaultProp:l,onChange:d}),[g,y]=u.useState(!1),v=Ue(m),C=Ny(s),S=u.useRef(!1),[k,N]=u.useState(0);return u.useEffect(()=>{const b=c.current;if(b)return b.addEventListener(Gl,v),()=>b.removeEventListener(Gl,v)},[v]),r.jsx(Nk,{scope:s,orientation:n,dir:w,loop:o,currentTabStopId:x,onItemFocus:u.useCallback(b=>j(b),[j]),onItemShiftTab:u.useCallback(()=>y(!0),[]),onFocusableItemAdd:u.useCallback(()=>N(b=>b+1),[]),onFocusableItemRemove:u.useCallback(()=>N(b=>b-1),[]),children:r.jsx(ne.div,{tabIndex:g||k===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{S.current=!0}),onFocus:J(e.onFocus,b=>{const E=!S.current;if(b.target===b.currentTarget&&E&&!g){const _=new CustomEvent(Gl,wk);if(b.currentTarget.dispatchEvent(_),!_.defaultPrevented){const D=C().filter(H=>H.focusable),O=D.find(H=>H.active),V=D.find(H=>H.id===x),W=[O,V,...D].filter(Boolean).map(H=>H.ref.current);Ty(W,h)}}S.current=!1}),onBlur:J(e.onBlur,()=>y(!1))})})}),Cy="RovingFocusGroupItem",Ey=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:o=!1,tabStopId:a,...i}=e,l=cn(),d=a||l,m=kk(Cy,s),h=m.currentTabStopId===d,f=Ny(s),{onFocusableItemAdd:c,onFocusableItemRemove:p}=m;return u.useEffect(()=>{if(n)return c(),()=>p()},[n,c,p]),r.jsx(cd.ItemSlot,{scope:s,id:d,focusable:n,active:o,children:r.jsx(ne.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...i,ref:t,onMouseDown:J(e.onMouseDown,w=>{n?m.onItemFocus(d):w.preventDefault()}),onFocus:J(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:J(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=Tk(w,m.orientation,m.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const y=g.indexOf(w.currentTarget);g=m.loop?Pk(g,y+1):g.slice(y+1)}setTimeout(()=>Ty(g))}})})})});Ey.displayName=Cy;var Ck={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ek(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Tk(e,t,s){const n=Ek(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Ck[n]}function Ty(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function Pk(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var _k=Sy,Ak=Ey,Rk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ss=new WeakMap,ra=new WeakMap,sa={},Yl=0,Py=function(e){return e&&(e.host||Py(e.parentNode))},Mk=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=Py(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},Ik=function(e,t,s,n){var o=Mk(t,Array.isArray(e)?e:[e]);sa[s]||(sa[s]=new WeakMap);var a=sa[s],i=[],l=new Set,d=new Set(o),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};o.forEach(m);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(c){if(l.has(c))h(c);else try{var p=c.getAttribute(n),w=p!==null&&p!=="false",x=(Ss.get(c)||0)+1,j=(a.get(c)||0)+1;Ss.set(c,x),a.set(c,j),i.push(c),x===1&&w&&ra.set(c,!0),j===1&&c.setAttribute(s,"true"),w||c.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",c,g)}})};return h(t),l.clear(),Yl++,function(){i.forEach(function(f){var c=Ss.get(f)-1,p=a.get(f)-1;Ss.set(f,c),a.set(f,p),c||(ra.has(f)||f.removeAttribute(n),ra.delete(f)),p||f.removeAttribute(s)}),Yl--,Yl||(Ss=new WeakMap,Ss=new WeakMap,ra=new WeakMap,sa={})}},_y=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Rk(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),Ik(n,o,s,"aria-hidden")):function(){return null}},Xt=function(){return Xt=Object.assign||function(t){for(var s,n=1,o=arguments.length;n<o;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Xt.apply(this,arguments)};function Ay(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s}function Dk(e,t,s){if(s||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ca="right-scroll-bar-position",Ea="width-before-scroll-bar",Lk="with-scroll-bars-hidden",Ok="--removed-body-scroll-bar-size";function Kl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $k(e,t){var s=u.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var o=s.value;o!==n&&(s.value=n,s.callback(n,o))}}}})[0];return s.callback=t,s.facade}var Fk=typeof window<"u"?u.useLayoutEffect:u.useEffect,of=new WeakMap;function zk(e,t){var s=$k(null,function(n){return e.forEach(function(o){return Kl(o,n)})});return Fk(function(){var n=of.get(s);if(n){var o=new Set(n),a=new Set(e),i=s.current;o.forEach(function(l){a.has(l)||Kl(l,null)}),a.forEach(function(l){o.has(l)||Kl(l,i)})}of.set(s,e)},[e]),s}function Uk(e){return e}function Bk(e,t){t===void 0&&(t=Uk);var s=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var i=t(a,n);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;s.length;){var i=s;s=[],i.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){n=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(a),i=s}var d=function(){var h=i;i=[],h.forEach(a)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){i.push(h),m()},filter:function(h){return i=i.filter(h),s}}}};return o}function Vk(e){e===void 0&&(e={});var t=Bk(null);return t.options=Xt({async:!0,ssr:!1},e),t}var Ry=function(e){var t=e.sideCar,s=Ay(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,Xt({},s))};Ry.isSideCarExport=!0;function Wk(e,t){return e.useMedium(t),Ry}var My=Vk(),ql=function(){},Zi=u.forwardRef(function(e,t){var s=u.useRef(null),n=u.useState({onScrollCapture:ql,onWheelCapture:ql,onTouchMoveCapture:ql}),o=n[0],a=n[1],i=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,c=e.sideCar,p=e.noIsolation,w=e.inert,x=e.allowPinchZoom,j=e.as,g=j===void 0?"div":j,y=e.gapMode,v=Ay(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=c,S=zk([s,t]),k=Xt(Xt({},v),o);return u.createElement(u.Fragment,null,h&&u.createElement(C,{sideCar:My,removeScrollBar:m,shards:f,noIsolation:p,inert:w,setCallbacks:a,allowPinchZoom:!!x,lockRef:s,gapMode:y}),i?u.cloneElement(u.Children.only(l),Xt(Xt({},k),{ref:S})):u.createElement(g,Xt({},k,{className:d,ref:S}),l))});Zi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zi.classNames={fullWidth:Ea,zeroRight:Ca};var Hk=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gk(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Hk();return t&&e.setAttribute("nonce",t),e}function Yk(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kk(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qk=function(){var e=0,t=null;return{add:function(s){e==0&&(t=Gk())&&(Yk(t,s),Kk(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xk=function(){var e=qk();return function(t,s){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Iy=function(){var e=Xk(),t=function(s){var n=s.styles,o=s.dynamic;return e(n,o),null};return t},Qk={left:0,top:0,right:0,gap:0},Xl=function(e){return parseInt(e||"",10)||0},Jk=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Xl(s),Xl(n),Xl(o)]},Zk=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Qk;var t=Jk(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},eS=Iy(),Xs="data-scroll-locked",tS=function(e,t,s,n){var o=e.left,a=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(Lk,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ca,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ea,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ca," .").concat(Ca,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ea," .").concat(Ea,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xs,`] {
    `).concat(Ok,": ").concat(l,`px;
  }
`)},af=function(){var e=parseInt(document.body.getAttribute(Xs)||"0",10);return isFinite(e)?e:0},rS=function(){u.useEffect(function(){return document.body.setAttribute(Xs,(af()+1).toString()),function(){var e=af()-1;e<=0?document.body.removeAttribute(Xs):document.body.setAttribute(Xs,e.toString())}},[])},sS=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;rS();var a=u.useMemo(function(){return Zk(o)},[o]);return u.createElement(eS,{styles:tS(a,!t,o,s?"":"!important")})},dd=!1;if(typeof window<"u")try{var na=Object.defineProperty({},"passive",{get:function(){return dd=!0,!0}});window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{dd=!1}var Cs=dd?{passive:!1}:!1,nS=function(e){return e.tagName==="TEXTAREA"},Dy=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!nS(e)&&s[t]==="visible")},oS=function(e){return Dy(e,"overflowY")},aS=function(e){return Dy(e,"overflowX")},lf=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Ly(e,n);if(o){var a=Oy(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},iS=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},lS=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},Ly=function(e,t){return e==="v"?oS(t):aS(t)},Oy=function(e,t){return e==="v"?iS(t):lS(t)},cS=function(e,t){return e==="h"&&t==="rtl"?-1:1},dS=function(e,t,s,n,o){var a=cS(e,window.getComputedStyle(t).direction),i=a*n,l=s.target,d=t.contains(l),m=!1,h=i>0,f=0,c=0;do{var p=Oy(e,l),w=p[0],x=p[1],j=p[2],g=x-j-a*w;(w||g)&&Ly(e,l)&&(f+=g,c+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!o)||!h&&(Math.abs(c)<1||!o))&&(m=!0),m},oa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cf=function(e){return[e.deltaX,e.deltaY]},df=function(e){return e&&"current"in e?e.current:e},uS=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hS=0,Es=[];function fS(e){var t=u.useRef([]),s=u.useRef([0,0]),n=u.useRef(),o=u.useState(hS++)[0],a=u.useState(Iy)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Dk([e.lockRef.current],(e.shards||[]).map(df),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=oa(x),y=s.current,v="deltaX"in x?x.deltaX:y[0]-g[0],C="deltaY"in x?x.deltaY:y[1]-g[1],S,k=x.target,N=Math.abs(v)>Math.abs(C)?"h":"v";if("touches"in x&&N==="h"&&k.type==="range")return!1;var b=lf(N,k);if(!b)return!0;if(b?S=N:(S=N==="v"?"h":"v",b=lf(N,k)),!b)return!1;if(!n.current&&"changedTouches"in x&&(v||C)&&(n.current=S),!S)return!0;var E=n.current||S;return dS(E,j,x,E==="h"?v:C,!0)},[]),d=u.useCallback(function(x){var j=x;if(!(!Es.length||Es[Es.length-1]!==a)){var g="deltaY"in j?cf(j):oa(j),y=t.current.filter(function(S){return S.name===j.type&&(S.target===j.target||j.target===S.shadowParent)&&uS(S.delta,g)})[0];if(y&&y.should){j.cancelable&&j.preventDefault();return}if(!y){var v=(i.current.shards||[]).map(df).filter(Boolean).filter(function(S){return S.contains(j.target)}),C=v.length>0?l(j,v[0]):!i.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),m=u.useCallback(function(x,j,g,y){var v={name:x,delta:j,target:g,should:y,shadowParent:xS(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(C){return C!==v})},1)},[]),h=u.useCallback(function(x){s.current=oa(x),n.current=void 0},[]),f=u.useCallback(function(x){m(x.type,cf(x),x.target,l(x,e.lockRef.current))},[]),c=u.useCallback(function(x){m(x.type,oa(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Es.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:c}),document.addEventListener("wheel",d,Cs),document.addEventListener("touchmove",d,Cs),document.addEventListener("touchstart",h,Cs),function(){Es=Es.filter(function(x){return x!==a}),document.removeEventListener("wheel",d,Cs),document.removeEventListener("touchmove",d,Cs),document.removeEventListener("touchstart",h,Cs)}},[]);var p=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(a,{styles:mS(o)}):null,p?u.createElement(sS,{gapMode:e.gapMode}):null)}function xS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pS=Wk(My,fS);var Ju=u.forwardRef(function(e,t){return u.createElement(Zi,Xt({},e,{ref:t,sideCar:pS}))});Ju.classNames=Zi.classNames;var ud=["Enter"," "],gS=["ArrowDown","PageUp","Home"],$y=["ArrowUp","PageDown","End"],yS=[...gS,...$y],vS={ltr:[...ud,"ArrowRight"],rtl:[...ud,"ArrowLeft"]},wS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},To="Menu",[yo,bS,jS]=Ti(To),[vs,Fy]=xn(To,[jS,vn,ky]),el=vn(),zy=ky(),[NS,ws]=vs(To),[kS,Po]=vs(To),Uy=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:o,onOpenChange:a,modal:i=!0}=e,l=el(t),[d,m]=u.useState(null),h=u.useRef(!1),f=Ue(a),c=Xu(o);return u.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Hg,{...l,children:r.jsx(NS,{scope:t,open:s,onOpenChange:f,content:d,onContentChange:m,children:r.jsx(kS,{scope:t,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:c,modal:i,children:n})})})};Uy.displayName=To;var SS="MenuAnchor",Zu=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,o=el(s);return r.jsx(Lu,{...o,...n,ref:t})});Zu.displayName=SS;var em="MenuPortal",[CS,By]=vs(em,{forceMount:void 0}),Vy=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:o}=e,a=ws(em,t);return r.jsx(CS,{scope:t,forceMount:s,children:r.jsx(gs,{present:s||a.open,children:r.jsx(Pi,{asChild:!0,container:o,children:n})})})};Vy.displayName=em;var Et="MenuContent",[ES,tm]=vs(Et),Wy=u.forwardRef((e,t)=>{const s=By(Et,e.__scopeMenu),{forceMount:n=s.forceMount,...o}=e,a=ws(Et,e.__scopeMenu),i=Po(Et,e.__scopeMenu);return r.jsx(yo.Provider,{scope:e.__scopeMenu,children:r.jsx(gs,{present:n||a.open,children:r.jsx(yo.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(TS,{...o,ref:t}):r.jsx(PS,{...o,ref:t})})})})}),TS=u.forwardRef((e,t)=>{const s=ws(Et,e.__scopeMenu),n=u.useRef(null),o=me(t,n);return u.useEffect(()=>{const a=n.current;if(a)return _y(a)},[]),r.jsx(rm,{...e,ref:o,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:J(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),PS=u.forwardRef((e,t)=>{const s=ws(Et,e.__scopeMenu);return r.jsx(rm,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),rm=u.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:c,onDismiss:p,disableOutsideScroll:w,...x}=e,j=ws(Et,s),g=Po(Et,s),y=el(s),v=zy(s),C=bS(s),[S,k]=u.useState(null),N=u.useRef(null),b=me(t,N,j.onContentChange),E=u.useRef(0),_=u.useRef(""),D=u.useRef(0),O=u.useRef(null),V=u.useRef("right"),$=u.useRef(0),W=w?Ju:u.Fragment,H=w?{as:ls,allowPinchZoom:!0}:void 0,F=A=>{var I,X;const M=_.current+A,L=C().filter(Q=>!Q.disabled),B=document.activeElement,P=(I=L.find(Q=>Q.ref.current===B))==null?void 0:I.textValue,z=L.map(Q=>Q.textValue),U=US(z,M,P),R=(X=L.find(Q=>Q.textValue===U))==null?void 0:X.ref.current;(function Q(te){_.current=te,window.clearTimeout(E.current),te!==""&&(E.current=window.setTimeout(()=>Q(""),1e3))})(M),R&&setTimeout(()=>R.focus())};u.useEffect(()=>()=>window.clearTimeout(E.current),[]),by();const T=u.useCallback(A=>{var L,B;return V.current===((L=O.current)==null?void 0:L.side)&&VS(A,(B=O.current)==null?void 0:B.area)},[]);return r.jsx(ES,{scope:s,searchRef:_,onItemEnter:u.useCallback(A=>{T(A)&&A.preventDefault()},[T]),onItemLeave:u.useCallback(A=>{var M;T(A)||((M=N.current)==null||M.focus(),k(null))},[T]),onTriggerLeave:u.useCallback(A=>{T(A)&&A.preventDefault()},[T]),pointerGraceTimerRef:D,onPointerGraceIntentChange:u.useCallback(A=>{O.current=A},[]),children:r.jsx(W,{...H,children:r.jsx(Qu,{asChild:!0,trapped:o,onMountAutoFocus:J(a,A=>{var M;A.preventDefault(),(M=N.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(So,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:c,onDismiss:p,children:r.jsx(_k,{asChild:!0,...v,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:J(d,A=>{g.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(Ou,{role:"menu","aria-orientation":"vertical","data-state":av(j.open),"data-radix-menu-content":"",dir:g.dir,...y,...x,ref:b,style:{outline:"none",...x.style},onKeyDown:J(x.onKeyDown,A=>{const L=A.target.closest("[data-radix-menu-content]")===A.currentTarget,B=A.ctrlKey||A.altKey||A.metaKey,P=A.key.length===1;L&&(A.key==="Tab"&&A.preventDefault(),!B&&P&&F(A.key));const z=N.current;if(A.target!==z||!yS.includes(A.key))return;A.preventDefault();const R=C().filter(I=>!I.disabled).map(I=>I.ref.current);$y.includes(A.key)&&R.reverse(),FS(R)}),onBlur:J(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(E.current),_.current="")}),onPointerMove:J(e.onPointerMove,vo(A=>{const M=A.target,L=$.current!==A.clientX;if(A.currentTarget.contains(M)&&L){const B=A.clientX>$.current?"right":"left";V.current=B,$.current=A.clientX}}))})})})})})})});Wy.displayName=Et;var _S="MenuGroup",sm=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(ne.div,{role:"group",...n,ref:t})});sm.displayName=_S;var AS="MenuLabel",Hy=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(ne.div,{...n,ref:t})});Hy.displayName=AS;var ii="MenuItem",uf="menu.itemSelect",tl=u.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...o}=e,a=u.useRef(null),i=Po(ii,e.__scopeMenu),l=tm(ii,e.__scopeMenu),d=me(t,a),m=u.useRef(!1),h=()=>{const f=a.current;if(!s&&f){const c=new CustomEvent(uf,{bubbles:!0,cancelable:!0});f.addEventListener(uf,p=>n==null?void 0:n(p),{once:!0}),mu(f,c),c.defaultPrevented?m.current=!1:i.onClose()}};return r.jsx(Gy,{...o,ref:d,disabled:s,onClick:J(e.onClick,h),onPointerDown:f=>{var c;(c=e.onPointerDown)==null||c.call(e,f),m.current=!0},onPointerUp:J(e.onPointerUp,f=>{var c;m.current||(c=f.currentTarget)==null||c.click()}),onKeyDown:J(e.onKeyDown,f=>{const c=l.searchRef.current!=="";s||c&&f.key===" "||ud.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});tl.displayName=ii;var Gy=u.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:o,...a}=e,i=tm(ii,s),l=zy(s),d=u.useRef(null),m=me(t,d),[h,f]=u.useState(!1),[c,p]=u.useState("");return u.useEffect(()=>{const w=d.current;w&&p((w.textContent??"").trim())},[a.children]),r.jsx(yo.ItemSlot,{scope:s,disabled:n,textValue:o??c,children:r.jsx(Ak,{asChild:!0,...l,focusable:!n,children:r.jsx(ne.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:m,onPointerMove:J(e.onPointerMove,vo(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(e.onPointerLeave,vo(w=>i.onItemLeave(w))),onFocus:J(e.onFocus,()=>f(!0)),onBlur:J(e.onBlur,()=>f(!1))})})})}),RS="MenuCheckboxItem",Yy=u.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...o}=e;return r.jsx(Jy,{scope:e.__scopeMenu,checked:s,children:r.jsx(tl,{role:"menuitemcheckbox","aria-checked":li(s)?"mixed":s,...o,ref:t,"data-state":om(s),onSelect:J(o.onSelect,()=>n==null?void 0:n(li(s)?!0:!s),{checkForDefaultPrevented:!1})})})});Yy.displayName=RS;var Ky="MenuRadioGroup",[MS,IS]=vs(Ky,{value:void 0,onValueChange:()=>{}}),qy=u.forwardRef((e,t)=>{const{value:s,onValueChange:n,...o}=e,a=Ue(n);return r.jsx(MS,{scope:e.__scopeMenu,value:s,onValueChange:a,children:r.jsx(sm,{...o,ref:t})})});qy.displayName=Ky;var Xy="MenuRadioItem",Qy=u.forwardRef((e,t)=>{const{value:s,...n}=e,o=IS(Xy,e.__scopeMenu),a=s===o.value;return r.jsx(Jy,{scope:e.__scopeMenu,checked:a,children:r.jsx(tl,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":om(a),onSelect:J(n.onSelect,()=>{var i;return(i=o.onValueChange)==null?void 0:i.call(o,s)},{checkForDefaultPrevented:!1})})})});Qy.displayName=Xy;var nm="MenuItemIndicator",[Jy,DS]=vs(nm,{checked:!1}),Zy=u.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...o}=e,a=DS(nm,s);return r.jsx(gs,{present:n||li(a.checked)||a.checked===!0,children:r.jsx(ne.span,{...o,ref:t,"data-state":om(a.checked)})})});Zy.displayName=nm;var LS="MenuSeparator",ev=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ev.displayName=LS;var OS="MenuArrow",tv=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,o=el(s);return r.jsx($u,{...o,...n,ref:t})});tv.displayName=OS;var $S="MenuSub",[I3,rv]=vs($S),Dn="MenuSubTrigger",sv=u.forwardRef((e,t)=>{const s=ws(Dn,e.__scopeMenu),n=Po(Dn,e.__scopeMenu),o=rv(Dn,e.__scopeMenu),a=tm(Dn,e.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=a,m={__scopeMenu:e.__scopeMenu},h=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),d(null)}},[l,d]),r.jsx(Zu,{asChild:!0,...m,children:r.jsx(Gy,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":o.contentId,"data-state":av(s.open),...e,ref:Ei(t,o.onTriggerChange),onClick:f=>{var c;(c=e.onClick)==null||c.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:J(e.onPointerMove,vo(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:J(e.onPointerLeave,vo(f=>{var p,w;h();const c=(p=s.content)==null?void 0:p.getBoundingClientRect();if(c){const x=(w=s.content)==null?void 0:w.dataset.side,j=x==="right",g=j?-5:5,y=c[j?"left":"right"],v=c[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:y,y:c.top},{x:v,y:c.top},{x:v,y:c.bottom},{x:y,y:c.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:J(e.onKeyDown,f=>{var p;const c=a.searchRef.current!=="";e.disabled||c&&f.key===" "||vS[n.dir].includes(f.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),f.preventDefault())})})})});sv.displayName=Dn;var nv="MenuSubContent",ov=u.forwardRef((e,t)=>{const s=By(Et,e.__scopeMenu),{forceMount:n=s.forceMount,...o}=e,a=ws(Et,e.__scopeMenu),i=Po(Et,e.__scopeMenu),l=rv(nv,e.__scopeMenu),d=u.useRef(null),m=me(t,d);return r.jsx(yo.Provider,{scope:e.__scopeMenu,children:r.jsx(gs,{present:n||a.open,children:r.jsx(yo.Slot,{scope:e.__scopeMenu,children:r.jsx(rm,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=d.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:J(e.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:J(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:J(e.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),c=wS[i.dir].includes(h.key);f&&c&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});ov.displayName=nv;function av(e){return e?"open":"closed"}function li(e){return e==="indeterminate"}function om(e){return li(e)?"indeterminate":e?"checked":"unchecked"}function FS(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function zS(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function US(e,t,s){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let i=zS(e,Math.max(a,0));o.length===1&&(i=i.filter(m=>m!==s));const d=i.find(m=>m.toLowerCase().startsWith(o.toLowerCase()));return d!==s?d:void 0}function BS(e,t){const{x:s,y:n}=e;let o=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,d=t[a].y,m=t[i].x,h=t[i].y;d>n!=h>n&&s<(m-l)*(n-d)/(h-d)+l&&(o=!o)}return o}function VS(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return BS(s,t)}function vo(e){return t=>t.pointerType==="mouse"?e(t):void 0}var WS=Uy,HS=Zu,GS=Vy,YS=Wy,KS=sm,qS=Hy,XS=tl,QS=Yy,JS=qy,ZS=Qy,eC=Zy,tC=ev,rC=tv,sC=sv,nC=ov,am="DropdownMenu",[oC,D3]=xn(am,[Fy]),Qe=Fy(),[aC,iv]=oC(am),lv=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:o,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,d=Qe(t),m=u.useRef(null),[h=!1,f]=uo({prop:o,defaultProp:a,onChange:i});return r.jsx(aC,{scope:t,triggerId:cn(),triggerRef:m,contentId:cn(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(c=>!c),[f]),modal:l,children:r.jsx(WS,{...d,open:h,onOpenChange:f,dir:n,modal:l,children:s})})};lv.displayName=am;var cv="DropdownMenuTrigger",dv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...o}=e,a=iv(cv,s),i=Qe(s);return r.jsx(HS,{asChild:!0,...i,children:r.jsx(ne.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Ei(t,a.triggerRef),onPointerDown:J(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:J(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});dv.displayName=cv;var iC="DropdownMenuPortal",uv=e=>{const{__scopeDropdownMenu:t,...s}=e,n=Qe(t);return r.jsx(GS,{...n,...s})};uv.displayName=iC;var mv="DropdownMenuContent",hv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=iv(mv,s),a=Qe(s),i=u.useRef(!1);return r.jsx(YS,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:J(e.onCloseAutoFocus,l=>{var d;i.current||(d=o.triggerRef.current)==null||d.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:J(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!o.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hv.displayName=mv;var lC="DropdownMenuGroup",cC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(KS,{...o,...n,ref:t})});cC.displayName=lC;var dC="DropdownMenuLabel",fv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(qS,{...o,...n,ref:t})});fv.displayName=dC;var uC="DropdownMenuItem",xv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(XS,{...o,...n,ref:t})});xv.displayName=uC;var mC="DropdownMenuCheckboxItem",pv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(QS,{...o,...n,ref:t})});pv.displayName=mC;var hC="DropdownMenuRadioGroup",fC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(JS,{...o,...n,ref:t})});fC.displayName=hC;var xC="DropdownMenuRadioItem",gv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(ZS,{...o,...n,ref:t})});gv.displayName=xC;var pC="DropdownMenuItemIndicator",yv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(eC,{...o,...n,ref:t})});yv.displayName=pC;var gC="DropdownMenuSeparator",vv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(tC,{...o,...n,ref:t})});vv.displayName=gC;var yC="DropdownMenuArrow",vC=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(rC,{...o,...n,ref:t})});vC.displayName=yC;var wC="DropdownMenuSubTrigger",wv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(sC,{...o,...n,ref:t})});wv.displayName=wC;var bC="DropdownMenuSubContent",bv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,o=Qe(s);return r.jsx(nC,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bv.displayName=bC;var jC=lv,NC=dv,kC=uv,jv=hv,Nv=fv,kv=xv,Sv=pv,Cv=gv,Ev=yv,Tv=vv,Pv=wv,_v=bv;const im=jC,lm=NC,SC=u.forwardRef(({className:e,inset:t,children:s,...n},o)=>r.jsxs(Pv,{ref:o,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(r1,{className:"ml-auto h-4 w-4"})]}));SC.displayName=Pv.displayName;const CC=u.forwardRef(({className:e,...t},s)=>r.jsx(_v,{ref:s,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));CC.displayName=_v.displayName;const rl=u.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(kC,{children:r.jsx(jv,{ref:n,sideOffset:t,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));rl.displayName=jv.displayName;const Qt=u.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(kv,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));Qt.displayName=kv.displayName;const EC=u.forwardRef(({className:e,children:t,checked:s,...n},o)=>r.jsxs(Sv,{ref:o,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Ev,{children:r.jsx(cs,{className:"h-4 w-4"})})}),t]}));EC.displayName=Sv.displayName;const TC=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Cv,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Ev,{children:r.jsx(a1,{className:"h-2 w-2 fill-current"})})}),t]}));TC.displayName=Cv.displayName;const PC=u.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(Nv,{ref:n,className:oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));PC.displayName=Nv.displayName;const Av=u.forwardRef(({className:e,...t},s)=>r.jsx(Tv,{ref:s,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));Av.displayName=Tv.displayName;const _C=({currentPage:e,setCurrentPage:t})=>{const[s,n]=u.useState(!1),[o,a]=u.useState(!1),[i,l]=u.useState(!1),{isLoggedIn:d,setIsLoggedIn:m,user:h}=Xe(),f=x=>{t(x),window.scrollTo({top:0,behavior:"smooth"})};u.useEffect(()=>{(async()=>{if(d&&h){if(h.isAdmin===!0){console.log(" User is admin (isAdmin flag set to true)"),l(!0);return}if(h.email||h.username){const j=await C4(h.email,h.username);l(j)}else l(!1)}else l(!1)})()},[d,h==null?void 0:h.email,h==null?void 0:h.username,h==null?void 0:h.isAdmin]);const c=()=>{tN(),m(!1),f("home")},w=(()=>{const x=[];return x.push({id:"sell",label:"Begin Selling",icon:o1}),d&&i&&x.push({id:"admin-dashboard",label:"Admin Dashboard",icon:cg}),x})();return r.jsxs(r.Fragment,{children:[o&&r.jsx(ly,{onClose:()=>a(!1),onNavigate:x=>{t(x),window.scrollTo({top:0,behavior:"smooth"})}}),r.jsxs("nav",{className:"bg-gradient-to-r from-xsm-black via-xsm-dark-gray to-xsm-black border-b border-xsm-medium-gray sticky top-0 z-50 relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/10 via-transparent to-transparent opacity-80",style:{left:"50%",transform:"translateX(-50%)",width:"50%"}}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[r.jsxs("div",{className:"flex justify-between items-center h-[60px] md:h-[72px]",children:[r.jsx("div",{className:"flex items-center",children:w.map(x=>r.jsxs("button",{onClick:()=>{d?f(x.id):a(!0)},className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${e===x.id?"text-xsm-yellow bg-xsm-medium-gray":"text-white hover:text-xsm-yellow"}`,children:[x.icon&&r.jsx(x.icon,{className:"w-4 h-4"}),r.jsx("span",{children:x.label})]},x.id))}),r.jsxs("div",{className:"flex-shrink-0 cursor-pointer absolute left-1/2 transform -translate-x-1/2 z-10 group",onClick:()=>f("home"),children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-radial from-xsm-yellow/30 via-xsm-medium-gray/30 to-transparent rounded-full blur-lg opacity-80 group-hover:opacity-100 transition-all duration-300 group-hover:from-xsm-yellow/50"}),r.jsx("div",{className:"absolute -inset-2 bg-gradient-radial from-xsm-yellow/15 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 animate-pulse"}),r.jsx("div",{className:"absolute -inset-6 bg-gradient-radial from-xsm-yellow/5 via-transparent to-transparent rounded-full animate-pulse opacity-70"}),r.jsx("img",{src:"/images/logo.png",alt:"XSM Market Logo",className:"h-10 md:h-[48px] object-contain relative z-10 drop-shadow-[0_0_4px_rgba(255,208,0,0.5)]"})]}),r.jsx("div",{className:"hidden md:flex items-center space-x-4",children:d?r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-white text-sm hidden md:block",children:["Hi, ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:(h==null?void 0:h.username)||"User"})]}),r.jsxs(im,{children:[r.jsx(lm,{asChild:!0,children:r.jsx("button",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow rounded-full overflow-hidden",children:h!=null&&h.profilePicture?r.jsx("img",{src:h.profilePicture,alt:h.username,className:"w-full h-full object-cover"}):r.jsx(jt,{className:"w-5 h-5 text-black m-1.5"})})})}),r.jsxs(rl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Qt,{onClick:()=>f("profile"),className:"cursor-pointer",children:[r.jsx(jt,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(Qt,{onClick:()=>f("my-deals"),className:"cursor-pointer",children:[r.jsx(lr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"My Deals"})]}),r.jsxs(Qt,{onClick:()=>f("seller-deals"),className:"cursor-pointer",children:[r.jsx(lr,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Seller Deals"})]}),r.jsxs(Qt,{onClick:c,className:"cursor-pointer",children:[r.jsx(Mh,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Logout"})]})]})]})]}):r.jsxs("button",{onClick:()=>a(!0),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(jt,{className:"w-4 h-4"}),r.jsx("span",{children:"Login"})]})}),r.jsx("div",{className:"md:hidden",children:r.jsx("button",{onClick:()=>n(!s),className:"text-white hover:text-xsm-yellow p-2",children:s?r.jsx(Ee,{className:"w-6 h-6"}):r.jsx(f1,{className:"w-6 h-6"})})})]}),r.jsx("div",{className:"md:hidden pb-4 pt-2"})]}),s&&r.jsx("div",{className:"md:hidden bg-xsm-dark-gray border-t border-xsm-medium-gray",children:r.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center px-3 py-2 space-x-2",children:[r.jsxs(yy,{className:"w-8 h-8 border-2 border-xsm-medium-gray",children:[r.jsx(vy,{src:(h==null?void 0:h.profilePicture)||"/placeholder.svg",alt:(h==null?void 0:h.username)||"User"}),r.jsx(wy,{className:"bg-xsm-medium-gray text-white",children:r.jsx(jt,{className:"w-4 h-4"})})]}),r.jsxs("span",{className:"text-white",children:["Hi, ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:(h==null?void 0:h.username)||"User"})]})]}),w.map(x=>r.jsxs("button",{onClick:()=>{d?f(x.id):a(!0),n(!1)},className:`flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${e===x.id?"text-xsm-yellow bg-xsm-medium-gray":"text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray"}`,children:[x.icon&&r.jsx(x.icon,{className:"w-5 h-5"}),r.jsx("span",{children:x.label})]},x.id)),r.jsxs("button",{onClick:()=>{f("profile"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(jt,{className:"w-5 h-5"}),r.jsx("span",{children:"Profile"})]}),r.jsxs("button",{onClick:()=>{f("my-deals"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(lr,{className:"w-5 h-5"}),r.jsx("span",{children:"My Deals"})]}),r.jsxs("button",{onClick:()=>{f("seller-deals"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(lr,{className:"w-5 h-5"}),r.jsx("span",{children:"Seller Deals"})]}),r.jsxs("button",{onClick:()=>{c(),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(Mh,{className:"w-5 h-5"}),r.jsx("span",{children:"Logout"})]})]}):r.jsxs(r.Fragment,{children:[w.map(x=>r.jsxs("button",{onClick:()=>{a(!0),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[x.icon&&r.jsx(x.icon,{className:"w-5 h-5"}),r.jsx("span",{children:x.label})]},x.id)),r.jsxs("button",{onClick:()=>{f("login"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium bg-xsm-yellow hover:bg-yellow-500 text-black",children:[r.jsx(jt,{className:"w-5 h-5"}),r.jsx("span",{children:"Login"})]})]})})})]})]})},AC=()=>"https://xsmmarket.com/api",RC=()=>AC().replace("/api",""),MC=RC(),Rv=({isOpen:e,onClose:t,channelPrice:s,channelTitle:n,sellerId:o,onNavigateToChat:a})=>{const{user:i,isLoggedIn:l}=Xe(),[d,m]=u.useState("safest"),[h,f]=u.useState([]),[c,p]=u.useState(""),[w,x]=u.useState("payment-selection"),[j,g]=u.useState(!1),[y,v]=u.useState(!1),C=[{id:"bank-transfer",name:"Bank Transfer",icon:"",category:"bank"},{id:"paypal",name:"PayPal",icon:"",category:"digital"},{id:"bitcoin",name:"Bitcoin",icon:"",category:"crypto"},{id:"venmo",name:"Venmo",icon:"",category:"digital"},{id:"zelle",name:"Zelle",icon:"",category:"digital"},{id:"cashapp",name:"Cash App",icon:"",category:"digital"},{id:"transferwise",name:"TransferWise",icon:"",category:"bank"},{id:"google-pay",name:"Google Pay",icon:"",category:"digital"},{id:"payoneer",name:"Payoneer",icon:"",category:"digital"},{id:"western-union",name:"Western Union",icon:"",category:"bank"},{id:"moneygram",name:"MoneyGram",icon:"",category:"bank"},{id:"other",name:"Other",icon:"",category:"other"}],S=4.8,k=3,N=Math.max(s*S/100,k),b=V=>{f($=>$.includes(V)?$.filter(W=>W!==V):[...$,V])},E=()=>{if(h.length===0){alert("Please select at least one payment method");return}x("email-confirmation")},_=()=>{if(!c.trim()){alert("Please enter your email address");return}x("terms-conditions")},D=async()=>{if(!j){alert("Please agree to the terms and conditions");return}if(!l||!i){alert("Please log in to create a deal");return}try{v(!0);const V=`XSM${Date.now()}${Math.floor(Math.random()*1e3)}`,$={seller_id:o,channel_id:n.toLowerCase().replace(/\s+/g,"-"),channel_title:n,channel_price:s,escrow_fee:N,transaction_type:d,buyer_email:c.trim(),transaction_id:V,payment_methods:h.map(T=>{const A=C.find(M=>M.id===T);return{id:A==null?void 0:A.id,name:A==null?void 0:A.name,category:A==null?void 0:A.category}}).filter(T=>T.id)},W=localStorage.getItem("token"),H=await fetch(`${MC}/api/deals?action=create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify($)}),F=await H.json();if(H.ok)alert(` Deal Created Successfully!

Transaction ID: ${V}
Channel: ${n}
Amount: $${s}
Escrow Fee: $${N.toFixed(2)}
Email: ${c}

Your deal has been saved to the database and the seller has been notified. 
They will review your selected payment methods and respond accordingly.

Deal Status: Waiting for seller review`),O(),t();else throw new Error(F.message||"Failed to create deal")}catch(V){console.error("Error creating deal:",V),alert("Failed to create deal. Please try again.")}finally{v(!1)}},O=()=>{x("payment-selection"),f([]),p(""),m("safest"),g(!1),v(!1)};return e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-xsm-gray",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create a Deal"}),r.jsx("button",{onClick:()=>{O(),t()},className:"text-white hover:text-xsm-yellow transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[w==="payment-selection"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[r.jsx("button",{onClick:()=>m("safest"),className:`px-6 py-3 rounded-full font-semibold transition-all ${d==="safest"?"bg-white text-black":"bg-transparent border border-white text-white hover:bg-white hover:text-black"}`,children:"Safest transaction"}),r.jsx("button",{onClick:()=>m("fastest"),className:`px-6 py-3 rounded-full font-semibold transition-all ${d==="fastest"?"bg-white text-black":"bg-transparent border border-white text-white hover:bg-white hover:text-black"}`,children:"Fastest transaction"})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Select payment methods you can use to pay the seller. The more options you choose, the greater the chance that one of them will suit the seller and he will agree to the deal."}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:C.map(V=>r.jsxs("button",{onClick:()=>b(V.id),className:`p-4 rounded-lg border-2 transition-all flex flex-col items-center space-y-2 ${h.includes(V.id)?"border-xsm-yellow bg-xsm-yellow/10 text-xsm-yellow":"border-gray-600 text-white hover:border-xsm-yellow hover:text-xsm-yellow"}`,children:[r.jsx("span",{className:"text-2xl",children:V.icon}),r.jsx("span",{className:"text-sm font-medium text-center",children:V.name})]},V.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Transaction steps when using the escrow service:"}),r.jsx("div",{className:"bg-xsm-gray rounded-lg p-6",children:r.jsxs("ol",{className:"space-y-3 text-white",children:[r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"1."}),r.jsxs("span",{children:["The buyer pays a ",S,"% ($",k," minimum) service fee."]})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"2."}),r.jsx("span",{children:"The seller designates the escrow agent as manager."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"3."}),r.jsx("span",{children:"After 7 days, the seller assigns primary ownership rights to the escrow agent (7 days is the minimum amount of time required in order to assign a new primary owner in the control panel.)"})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"4."}),r.jsx("span",{children:"The escrow agent verifies everything, removes the other managers, and notifies the buyer to pay the seller."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"5."}),r.jsx("span",{children:"The buyer pays the seller."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"6."}),r.jsx("span",{children:"After the seller's confirmation, the escrow agent assigns ownership rights to the buyer."})]})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"bg-orange-500/10 border border-orange-500 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-300 text-sm",children:"In order to guarantee maximum security during the transaction, all messages must be sent through the website using the chat system where the transaction is completed, so that in case of any issues, the arbitration service can verify everything."})})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:E,disabled:h.length===0,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]})]}),w==="email-confirmation"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Deal Summary"}),r.jsxs("div",{className:"bg-xsm-gray rounded-lg p-6 space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Channel:"}),r.jsx("span",{className:"text-xsm-yellow font-semibold",children:n})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Price:"}),r.jsxs("span",{className:"text-xsm-yellow font-semibold",children:["$",s]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-white",children:["Escrow Fee (",S,"%):"]}),r.jsxs("span",{className:"text-xsm-yellow font-semibold",children:["$",N.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Transaction Type:"}),r.jsxs("span",{className:"text-xsm-yellow font-semibold capitalize",children:[d," transaction"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white",children:"Selected Payment Methods:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(V=>{const $=C.find(W=>W.id===V);return r.jsxs("span",{className:"bg-xsm-yellow text-black px-3 py-1 rounded-full text-sm font-medium",children:[$==null?void 0:$.icon," ",$==null?void 0:$.name]},V)})})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Email address associated with the account which should be designated as the owner"}),r.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:"On this website no emails or passwords are traded. The account will be transferred to the email address you provide below. This ensures secure account ownership transfer."}),r.jsx("input",{type:"email",value:c,onChange:V=>p(V.target.value),placeholder:"Enter your email",className:"w-full p-4 bg-xsm-gray border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-xsm-yellow focus:outline-none"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>x("payment-selection"),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back"}),r.jsx("button",{onClick:_,disabled:!c.trim(),className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Continue"})]})]}),w==="terms-conditions"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Terms & Conditions Agreement"}),r.jsx("div",{className:"bg-xsm-gray rounded-lg p-6 max-h-96 overflow-y-auto",children:r.jsxs("div",{className:"space-y-4 text-white text-sm",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"1. Escrow Service Agreement"}),r.jsx("p",{children:"By proceeding with this transaction, you agree to use our secure escrow service. All transactions must follow the established process for buyer and seller protection."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"2. Communication Policy"}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"IMPORTANT:"})," All communication regarding this transaction MUST occur through our platform's chat system. Communication outside the website and conducting deals without escrow agent is FORBIDDEN for your own safety. Any external communication may void transaction protection."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"3. Transaction Process"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsxs("li",{children:["Buyer pays ",S,"% escrow fee ($",N.toFixed(2),")"]}),r.jsx("li",{children:"Seller designates escrow agent as account manager"}),r.jsx("li",{children:"After 7 days, seller transfers primary ownership to escrow agent"}),r.jsx("li",{children:"Escrow agent verifies account and notifies buyer"}),r.jsx("li",{children:"Buyer pays seller through agreed payment method"}),r.jsx("li",{children:"After seller confirmation, account is transferred to buyer"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"4. Refund Policy"}),r.jsx("p",{children:"7-day money-back guarantee applies if seller fails to deliver as described. Escrow fee is non-refundable unless transaction is cancelled by seller."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"5. Account Transfer"}),r.jsxs("p",{children:["The account will be transferred to the email address: ",r.jsx("strong",{className:"text-xsm-yellow",children:c}),". Ensure this email is accessible and secure."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"6. Dispute Resolution"}),r.jsx("p",{children:"Any disputes will be resolved through our arbitration service. All chat communications will be reviewed for fair resolution."})]}),r.jsx("div",{className:"bg-orange-500/10 border border-orange-500 rounded-lg p-4 mt-6",children:r.jsxs("p",{className:"text-orange-300 font-medium",children:[" ",r.jsx("strong",{children:"Security Notice:"})," Never share your account credentials outside our platform. Our escrow service handles all transfers securely."]})})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:j,onChange:V=>g(V.target.checked),className:"mt-1 w-5 h-5 text-xsm-yellow bg-xsm-gray border-gray-600 rounded focus:ring-xsm-yellow focus:ring-2"}),r.jsx("span",{className:"text-white text-sm",children:"I have read and agree to the terms and conditions above. I understand that all communication must happen through the platform chat for transaction security."})]})}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-xsm-yellow font-semibold mb-3",children:"Transaction Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Channel:"}),r.jsx("p",{className:"text-white font-medium",children:n})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Price:"}),r.jsxs("p",{className:"text-white font-medium",children:["$",s]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Escrow Fee:"}),r.jsxs("p",{className:"text-white font-medium",children:["$",N.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Transfer Email:"}),r.jsx("p",{className:"text-white font-medium break-all",children:c})]})]})]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>x("email-confirmation"),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back"}),r.jsx("button",{onClick:D,disabled:!j||y,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center space-x-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"w-5 h-5"}),r.jsx("span",{children:"I Agree - Create Deal"})]})})]})]})]})]})}):null},IC=()=>"https://xsmmarket.com/api",mf=IC(),hf=({platform:e})=>{const t=()=>{switch(e){case"youtube":return"text-red-600";case"tiktok":return"text-black";case"facebook":return"text-blue-600";case"instagram":return"text-pink-600";case"twitter":return"text-blue-400";default:return"text-gray-400"}};switch(e){case"youtube":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})});case"tiktok":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64c.298 0 .593.057.87.168V9.43a6.33 6.33 0 0 0-1-.08A6.34 6.34 0 0 0 3 15.69a6.34 6.34 0 0 0 10.86 4.49 6.47 6.47 0 0 0 1.83-4.49V7.85a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-.87.72z"})});case"facebook":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"instagram":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})});case"twitter":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})});default:return null}},DC=({channel:e,isOpen:t,onClose:s,onNavigateToChat:n})=>{const{user:o,isLoggedIn:a}=Xe(),[i,l]=u.useState(!1),[d,m]=u.useState(!1);if(!t||!e)return null;const h=j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(1)}K`:j.toString(),f=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),c=e.price*.075,p=()=>{if(!a){alert("Please log in to start a deal");return}l(!0)},w=()=>{l(!1)},x=async()=>{if(!a||!o){alert("Please log in to contact the seller");return}if(String(o.id)===String(e.seller.id)){alert("You can't contact yourself");return}try{m(!0);const j=localStorage.getItem("token"),g=await fetch(`${mf}/chat/check-existing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({sellerId:e.seller.id,adId:e.id})});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);if((await g.json()).exists){s(),n&&n();return}const v=await fetch(`${mf}/chat/ad-inquiry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({adId:e.id,sellerId:e.seller.id,message:`Hi, I'm interested in your channel: ${e.name}`,sellerName:e.seller.name})});if(!v.ok){const S=await v.text();throw console.error("Chat creation failed:",S),new Error(`HTTP error! status: ${v.status}`)}const C=await v.json();s(),n&&n()}catch(j){console.error("Error creating chat:",j),alert("Failed to create chat")}finally{m(!1)}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:j=>{j.target===j.currentTarget&&s()},children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-xsm-dark-gray border-b border-xsm-medium-gray p-6 flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Channel Details"}),r.jsx("button",{onClick:s,className:"text-white hover:text-xsm-yellow transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-32 h-32 bg-white rounded-full mx-auto mb-4 flex items-center justify-center p-6",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(hf,{platform:e.platform})})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e.name}),r.jsxs("a",{href:e.channelUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 mb-4 text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:[r.jsx(hf,{platform:e.platform}),r.jsx("span",{className:"underline",children:e.channelUrl})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.premium&&r.jsx("span",{className:"xsm-badge-premium",children:"PREMIUM"}),e.verified&&r.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[r.jsx(mt,{className:"w-4 h-4 mr-1"}),"VERIFIED"]}),r.jsx("span",{className:"bg-xsm-yellow text-xsm-black px-3 py-1 rounded-full text-sm font-bold",children:e.category})]})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(ln,{className:"w-8 h-8 text-xsm-yellow mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-white",children:h(e.subscribers)}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:"Subscribers"})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Channel Status"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white",children:"Monetization Status:"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${e.monetized?"bg-green-500 text-white":"bg-gray-500 text-gray-200"}`,children:e.monetized?"Monetized":"Not Monetized"})]})})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Revenue Sources"}),r.jsx("ul",{className:"space-y-2",children:e.earningMethods?e.earningMethods.map((j,g)=>r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx(tt,{className:"w-4 h-4 text-xsm-yellow mr-2"}),j]},g)):r.jsx("li",{className:"text-xsm-light-gray italic",children:"No revenue sources listed"})})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Growth & Promotion"}),r.jsx("ul",{className:"space-y-2",children:e.promotionStrategies?e.promotionStrategies.map((j,g)=>r.jsxs("li",{className:"flex items-start text-white",children:[r.jsx("span",{className:"text-xsm-yellow mr-2",children:""}),j]},g)):r.jsx("li",{className:"text-xsm-light-gray italic",children:"No promotion strategies listed"})})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Description"}),r.jsx("p",{className:"text-white leading-relaxed",children:e.description})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:f(e.price)}),r.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-4",children:[e.premium&&r.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black px-4 py-1 rounded-full text-sm font-bold",children:"Premium Listing"}),e.verified&&r.jsx("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-bold",children:"Verified Channel"})]})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 mb-6",children:[r.jsx("h5",{className:"text-xsm-yellow font-semibold mb-3",children:"Secure Purchase Process:"}),r.jsxs("ol",{className:"text-sm text-white space-y-3",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"1"}),r.jsxs("span",{children:["Pay 7.5% admin fee (",f(c),")"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"2"}),r.jsx("span",{children:"Seller transfers channel to admin"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"3"}),r.jsx("span",{children:"Admin verifies and transfers to you"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"4"}),r.jsx("span",{children:"Complete payment to seller"})]})]})]}),r.jsxs("button",{onClick:p,className:"w-full xsm-button text-lg py-4 flex items-center justify-center space-x-2",children:[r.jsx(Ri,{className:"w-5 h-5"}),r.jsx("span",{children:"Start Purchase Process"})]}),r.jsx("div",{className:"text-center mt-4 text-sm text-xsm-light-gray",children:"Secure payment with buyer protection"})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Seller Information"}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"text-white font-semibold text-lg",children:e.seller.name}),e.seller.rating>0&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ug,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-white font-medium",children:e.seller.rating})]})]}),r.jsxs("div",{className:"text-xsm-light-gray",children:[e.seller.sales," successful sales"]})]}),r.jsxs("button",{onClick:x,disabled:d,className:"w-full xsm-button-secondary flex items-center justify-center space-x-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(cr,{className:"w-5 h-5"}),r.jsx("span",{children:d?"Connecting...":"Contact Seller"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("h5",{className:"text-xsm-yellow font-semibold mb-4 flex items-center",children:[r.jsx(mt,{className:"w-5 h-5 mr-2"}),"Security Features"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Escrow-style transaction protection"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Admin-facilitated channel transfer"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"7-day money-back guarantee"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Verified seller ratings"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Secure payment processing"]})]})]})]})]})})]})}),i&&r.jsx(Rv,{isOpen:i,onClose:w,channelPrice:e.price,channelTitle:e.name,sellerId:e.seller.id.toString(),onNavigateToChat:n})]})},cm=async(e={})=>{try{const t=new URLSearchParams;Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&e[n]!==""&&t.append(n,e[n])});const s=await fetch(`${ie}/ads?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch ads: ${s.statusText}`);return await s.json()}catch(t){throw console.error("Get all ads error:",t),t}},LC=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${ie}/ads`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to create ad: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Create ad error:",t),t}},OC=async(e,t)=>{try{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`${ie}/ads/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)});if(!n.ok){const o=await n.json();throw new Error(o.message||`Failed to update ad: ${n.statusText}`)}return await n.json()}catch(s){throw console.error("Update ad error:",s),s}},$C=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${ie}/ads/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to delete ad: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Delete ad error:",t),t}},FC=async(e={})=>{var t,s;try{const n=localStorage.getItem("token");if(!n)throw new Error("Authentication required");const o=localStorage.getItem("userData");let a=null;if(console.log(" getUserAdsAlternative: localStorage userData:",o),o)try{const h=JSON.parse(o);a=h.id,console.log(" getUserAdsAlternative: Parsed user data:",h),console.log(" getUserAdsAlternative: User ID from localStorage:",a)}catch{console.log("Failed to parse user data from localStorage")}if(!a){const h=await fetch(`${ie}/user/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Failed to get user profile");const f=await h.json();a=((t=f.user)==null?void 0:t.id)||f.id}if(!a)throw new Error("Could not determine user ID");console.log(" getUserAdsAlternative: User ID determined:",a);const i=await fetch(`${ie}/ads`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch ads");const l=await i.json();console.log(" All ads received:",l),console.log(" All ads count:",((s=l.ads)==null?void 0:s.length)||0);const d=l.ads.filter(h=>{var c,p;const f=((c=h.seller)==null?void 0:c.id)==a;return console.log(` Ad ${h.id}: seller.id=${(p=h.seller)==null?void 0:p.id}, expected userId=${a}, match=${f}`),f});console.log(" Filtered user ads:",d),console.log(" User ads count:",d.length);let m=d;return e.status&&(m=d.filter(h=>h.status===e.status)),{ads:m,pagination:{currentPage:1,totalPages:1,totalItems:m.length,itemsPerPage:m.length}}}catch(n){throw console.error("Get user ads alternative error:",n),n}},zC=({onShowMore:e,onNavigateToChat:t})=>{const[s,n]=u.useState([]),[o,a]=u.useState(!0),[i,l]=u.useState(null),[d,m]=u.useState(!1),[h,f]=u.useState(null),{user:c,isLoggedIn:p}=Xe(),[w,x]=u.useState({platform:"all",category:"all",sortBy:"createdAt",sortOrder:"DESC"});u.useEffect(()=>{(async()=>{try{console.log(" AdList: Fetching ads..."),a(!0),l(null);const k=await cm(w);if(console.log(" AdList: Response received:",k),k&&k.ads){const N=k.ads.map(b=>{var E,_,D,O,V,$;return{...b,id:Number(b.id),seller:{id:Number(((E=b.seller)==null?void 0:E.id)||((_=b.User)==null?void 0:_.id)||0),username:((D=b.seller)==null?void 0:D.username)||((O=b.User)==null?void 0:O.username)||"Anonymous",profilePicture:((V=b.seller)==null?void 0:V.profilePicture)||(($=b.User)==null?void 0:$.profilePicture)||""}}});console.log(" AdList: Formatted ads:",N.length),n(N)}else console.warn(" AdList: No ads in response"),n([])}catch(k){console.error(" AdList: Error fetching ads:",k),l(k.message||"Failed to fetch ads"),n([])}finally{a(!1)}})()},[w]);const j=S=>S>=1e6?(S/1e6).toFixed(1)+"M":S>=1e3?(S/1e3).toFixed(1)+"K":S.toString(),g=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),y=(S,k)=>{if(k.stopPropagation(),!p){alert("Please log in to start a deal");return}f(S),m(!0)},v=()=>{m(!1),f(null)},C=S=>{const k={youtube:"text-red-500",facebook:"text-blue-500",instagram:"text-pink-500",twitter:"text-blue-400",tiktok:"text-black"};return r.jsx("span",{className:`text-sm font-semibold ${k[S]||"text-white"}`,children:S.toUpperCase()})};return o?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((S,k)=>r.jsxs("div",{className:"xsm-card animate-pulse",children:[r.jsx("div",{className:"h-48 bg-xsm-medium-gray rounded mb-4"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded mb-2"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded w-3/4"})]},k))}):i?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Error loading ads"}),r.jsx("p",{className:"text-xsm-light-gray",children:i})]}):s.length===0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No ads found"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Be the first to create a listing!"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(S=>r.jsxs("div",{className:"xsm-card group transition-all duration-300 cursor-pointer",onClick:()=>e(S),children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-xsm-medium-gray to-xsm-dark-gray rounded-lg mb-4 overflow-hidden group/image",children:[r.jsx("div",{className:"w-full h-full overflow-hidden",children:r.jsx("img",{src:S.primary_image||(S.screenshots&&S.screenshots.length>0?S.screenshots[0].url||S.screenshots[0]:null)||S.thumbnail||"/placeholder.svg",alt:S.title,className:"w-full h-full object-cover transition-all duration-500 ease-in-out",style:{objectPosition:"center"},onError:k=>{const N=k.target;N.onerror=null,N.src="/placeholder.svg"}})}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover/image:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute top-2 left-2",children:C(S.platform)}),r.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[S.verified&&r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold",children:" VERIFIED"}),S.premium&&r.jsx("span",{className:"xsm-badge-premium",children:"PREMIUM"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("h3",{className:"text-white font-semibold text-lg line-clamp-2 group-hover:text-xsm-yellow transition-colors flex-1",children:S.title}),r.jsx("div",{className:"text-xsm-yellow font-bold whitespace-nowrap text-lg",children:g(S.price)})]}),r.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Category:"}),r.jsx("span",{className:"text-xsm-light-gray",children:S.category})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Subscribers:"}),r.jsx("span",{className:"text-white",children:j(S.subscribers)})]}),S.monthlyIncome>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(tt,{className:"w-4 h-4 text-green-400"}),r.jsxs("span",{className:"text-green-400",children:[g(S.monthlyIncome),"/mo"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-xsm-medium-gray/30",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-6 h-6 bg-xsm-yellow rounded-full flex items-center justify-center",children:S.seller.profilePicture?r.jsx("img",{src:S.seller.profilePicture,alt:S.seller.username,className:"w-full h-full rounded-full object-cover"}):r.jsx("span",{className:"text-xsm-black text-xs font-bold",children:S.seller.username.charAt(0).toUpperCase()})}),r.jsx("span",{className:"text-xsm-light-gray text-sm",children:S.seller.username})]}),S.rating>0&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ug,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-white text-sm",children:S.rating})]})]}),r.jsx("div",{className:"mt-4 space-y-2",children:r.jsx("button",{onClick:k=>y(S,k),className:"w-full xsm-button bg-xsm-yellow hover:bg-yellow-400 text-black font-medium",children:"Make Purchase"})})]})]},S.id))}),d&&h&&r.jsx(Rv,{isOpen:d,onClose:v,channelPrice:h.price,channelTitle:h.title,sellerId:h.seller.id.toString(),onNavigateToChat:()=>t&&t("")})]})},UC=({setCurrentPage:e})=>{const[t,s]=u.useState(!1),[n,o]=u.useState([]),[a,i]=u.useState([]),[l,d]=u.useState(null),[m,h]=u.useState(!1),{isLoggedIn:f}=Xe(),{toast:c}=gt();u.useState("newest");const[p,w]=u.useState(""),[x,j]=u.useState("YouTube"),[g,y]=u.useState(!1),[v,C]=u.useState({min:"",max:""}),[S,k]=u.useState({min:"",max:""}),[N,b]=u.useState({min:"",max:""}),[E,_]=u.useState(!1);if(console.log(" Home component rendering, isLoggedIn:",f),!e)return r.jsx("div",{className:"text-white p-4",children:"Error: Missing setCurrentPage prop"});const[D,O]=u.useState(!1),[V,$]=u.useState([]),[W,H]=u.useState([]),[F,T]=u.useState(!1);u.useEffect(()=>{const R=()=>{window.scrollY>300?T(!0):T(!1)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]);const A=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT"],M=["Non Monitied","Premium","Monetized","New"];u.useEffect(()=>{(async()=>{try{console.log(" Fetching ads...");const I=await cm();if(console.log(" Ads response:",I),I&&I.ads){const X=I.ads.map(Q=>{var te,K,G;return{id:Q.id.toString(),name:Q.title,category:Q.category||"General",subscribers:Q.subscribers||0,price:Q.price||0,monthlyIncome:Q.monthlyIncome||0,description:Q.description||"",verified:((te=Q.seller)==null?void 0:te.isVerified)||!1,premium:Q.isMonetized||!1,rating:4.5,views:Q.views||Math.floor(Math.random()*1e6)+1e5,thumbnail:Q.primary_image||(Q.screenshots&&Q.screenshots.length>0?Q.screenshots[0].url||Q.screenshots[0]:null)||Q.thumbnail||`https://placehold.co/600x400/333/yellow?text=${Q.platform||"Channel"}`,primary_image:Q.primary_image||null,additional_images:Q.additional_images||[],screenshots:Q.screenshots||[],seller:{id:((K=Q.seller)==null?void 0:K.id)||0,name:((G=Q.seller)==null?void 0:G.username)||"Anonymous",rating:4.5,sales:Math.floor(Math.random()*20)+1}}});console.log(" Transformed ads:",X.length),o(X),i(X)}else console.warn(" No ads found, using empty arrays"),o([]),i([])}catch(I){console.error(" Failed to fetch ads:",I),c({title:"Error",description:"Failed to load channels. Please try again later.",variant:"destructive"}),o([]),i([])}})()},[c]);const L=R=>{$(I=>I.includes(R)?I.filter(X=>X!==R):[...I,R])},B=R=>{H(I=>I.includes(R)?I.filter(X=>X!==R):[...I,R])},P=()=>{w(""),j("All Platforms"),y(!1),C({min:"",max:""}),k({min:"",max:""}),b({min:"",max:""}),$([]),H([]),O(!1),_(!1)},z=R=>{var X,Q,te,K,G,he;if(!f){c({title:"Login Required",description:"Please log in to view channel details",className:"bg-amber-500 text-white"}),s(!0);return}const I={id:((X=R.id)==null?void 0:X.toString())||R.id,name:R.title||R.name,category:R.category,subscribers:R.subscribers||0,price:R.price,monthlyIncome:R.monthlyIncome,description:R.description||"",verified:R.verified||!1,premium:R.premium||!1,rating:R.rating||0,views:R.views||R.totalViews||0,thumbnail:R.thumbnail||"",seller:{id:((Q=R.seller)==null?void 0:Q.id)||0,name:((te=R.seller)==null?void 0:te.username)||((K=R.seller)==null?void 0:K.name)||"Unknown",rating:((G=R.seller)==null?void 0:G.rating)||0,sales:((he=R.seller)==null?void 0:he.sales)||0}};d(I),h(!0)};u.useEffect(()=>{let R=[...n];if(p.trim()){const I=p.toLowerCase();R=R.filter(X=>X.name.toLowerCase().includes(I)||X.category.toLowerCase().includes(I)||X.description.toLowerCase().includes(I))}V.length>0&&(R=R.filter(I=>V.includes(I.category))),W.length>0&&(R=R.filter(I=>W.some(X=>X==="Non Monitied"?I.verified:X==="Premium"?I.premium:X==="Monetized"?I.monthlyIncome&&I.monthlyIncome>0:X==="New"))),g&&(R=R.filter(I=>I.monthlyIncome&&I.monthlyIncome>0)),(v.min||v.max)&&(R=R.filter(I=>{const X=v.min?parseInt(v.min):0,Q=v.max?parseInt(v.max):1/0;return I.subscribers>=X&&I.subscribers<=Q})),(S.min||S.max)&&(R=R.filter(I=>{const X=S.min?parseInt(S.min):0,Q=S.max?parseInt(S.max):1/0;return I.price>=X&&I.price<=Q})),(N.min||N.max)&&(R=R.filter(I=>{if(!I.monthlyIncome)return!1;const X=N.min?parseInt(N.min):0,Q=N.max?parseInt(N.max):1/0;return I.monthlyIncome>=X&&I.monthlyIncome<=Q})),i(R)},[p,x,g,v,S,N,V,W,n]);const U=[{id:"all",name:"All Platforms",logo:null},{id:"youtube",name:"YouTube",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})},{id:"tiktok",name:"TikTok",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})},{id:"twitter",name:"Twitter",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{id:"instagram",name:"Instagram",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})},{id:"facebook",name:"Facebook",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})},{id:"telegram",name:"Telegram",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}];return r.jsxs(r.Fragment,{children:[t&&r.jsx(ly,{onClose:()=>s(!1),onNavigate:R=>{e(R),window.scrollTo({top:0,behavior:"smooth"})}}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray",children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-10",children:[r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-6 mb-8 shadow-lg border border-xsm-medium-gray/30 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/10 via-xsm-dark-gray/80 to-xsm-dark-gray pointer-events-none"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:D?r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>O(!1),title:"Hide Search",children:r.jsx(an,{className:"w-6 h-6"})}),r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>_(!E),title:"Advanced Filters",children:r.jsx(g1,{className:"w-6 h-6"})})]}):r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>O(!0),title:"Show Search",children:r.jsx(an,{className:"w-6 h-6"})})}),D&&r.jsx("button",{onClick:P,className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear All Filters"})]}),D&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-5 py-2",children:[r.jsx("span",{className:"text-sm text-white mr-2 font-medium",children:"Quick Filter:"}),U.filter(R=>R.id!=="all"&&R.id!=="telegram").map(R=>r.jsx("button",{onClick:()=>j(R.name),className:`w-12 h-12 rounded-full flex items-center justify-center transition-all border-2 shadow-lg ${x===R.name?"bg-xsm-yellow text-black border-xsm-yellow ring-2 ring-xsm-yellow ring-offset-2 ring-offset-xsm-dark-gray":"bg-xsm-black text-xsm-yellow border-xsm-yellow/50 hover:bg-xsm-yellow/10 hover:border-xsm-yellow"}`,title:R.name,children:R.logo&&u.cloneElement(R.logo,{className:"w-6 h-6"})},R.id)),r.jsx("button",{onClick:()=>j("All Platforms"),className:`text-xs py-2 px-4 rounded-full border-2 shadow-md transition-all ${x==="All Platforms"?"bg-xsm-yellow text-black border-xsm-yellow font-bold":"bg-xsm-black text-white border-xsm-yellow/50 hover:bg-xsm-yellow/10 hover:border-xsm-yellow hover:text-xsm-yellow"}`,children:"All Platforms"})]}),r.jsx("div",{className:"grid grid-cols-1 items-end",children:r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Search by name or category"}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",placeholder:"Search channels...",value:p,onChange:R=>w(R.target.value),className:"xsm-input w-full"})})]})})]}),(D||E)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xsm-light-gray text-sm mb-1",children:"Subscribers"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",placeholder:"Min",className:"xsm-input",value:v.min,onChange:R=>C(I=>({...I,min:R.target.value}))}),r.jsx("input",{type:"number",placeholder:"Max",className:"xsm-input",value:v.max,onChange:R=>C(I=>({...I,max:R.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xsm-light-gray text-sm mb-1",children:"Price ($)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",placeholder:"Min",className:"xsm-input",value:S.min,onChange:R=>k(I=>({...I,min:R.target.value}))}),r.jsx("input",{type:"number",placeholder:"Max",className:"xsm-input",value:S.max,onChange:R=>k(I=>({...I,max:R.target.value}))})]})]})]}),E&&r.jsx("div",{className:"mt-6 pt-6 border-t border-xsm-medium-gray/30",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-medium",children:"Categories"}),V.length>0&&r.jsx("button",{onClick:()=>$([]),className:"text-xs text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:A.map(R=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:V.includes(R),onChange:()=>L(R),className:"hidden"}),r.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${V.includes(R)?"bg-xsm-yellow border-xsm-yellow":"border-xsm-light-gray"}`,children:V.includes(R)&&r.jsx(cs,{className:"w-3 h-3 text-xsm-black"})}),r.jsx("span",{className:"text-white text-sm",children:R})]},R))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-medium",children:"Channel Type"}),W.length>0&&r.jsx("button",{onClick:()=>H([]),className:"text-xs text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(R=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:W.includes(R),onChange:()=>B(R),className:"hidden"}),r.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${W.includes(R)?"bg-xsm-yellow border-xsm-yellow":"border-xsm-light-gray"}`,children:W.includes(R)&&r.jsx(cs,{className:"w-3 h-3 text-xsm-black"})}),r.jsx("span",{className:"text-white text-sm",children:R})]},R))})]})]})})]})]}),r.jsx("div",{className:"w-full",children:r.jsx(zC,{onShowMore:z,onNavigateToChat:()=>e&&e("chat")})})]}),r.jsx(DC,{channel:l,isOpen:m,onClose:()=>h(!1),onNavigateToChat:()=>e&&e("chat")}),F&&r.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 left-8 bg-xsm-yellow text-black rounded-full p-3 shadow-lg hover:bg-yellow-500 transition-colors z-50 animate-fade-in","aria-label":"Back to top",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]}),r.jsx("footer",{className:"bg-gradient-to-r from-xsm-black via-xsm-dark-gray to-xsm-black py-16 pb-8 mt-auto border-t border-xsm-medium-gray/30 relative w-full",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"space-y-8 mb-12",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/20 via-transparent to-transparent opacity-75 blur-xl"}),r.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white relative z-10 tracking-tight",children:"XSM-Market is a versatile platform for secure social media account transactions"})]}),r.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-xsm-yellow/5 to-transparent"}),r.jsx("p",{className:"text-base md:text-lg text-xsm-light-gray py-4 px-6 relative z-10",children:"XSM-Market is your trusted platform for securely making deals between sellers and buyers of all kinds of social media accounts."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-xsm-black/50 p-6 rounded-lg border border-xsm-medium-gray/30",children:[r.jsx("h3",{className:"text-xl font-medium text-xsm-yellow mb-3",children:"For Buyers"}),r.jsx("p",{className:"text-white",children:"We guarantee the transfer of your new channel to you or your money back. Our escrow service ensures your investment is protected."})]}),r.jsxs("div",{className:"bg-xsm-black/50 p-6 rounded-lg border border-xsm-medium-gray/30",children:[r.jsx("h3",{className:"text-xl font-medium text-xsm-yellow mb-3",children:"For Sellers"}),r.jsx("p",{className:"text-white",children:"You can be sure that you either get your agreed upon payment, or your channel will be returned to you. Our platform ensures secure transactions."})]})]})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm mt-12",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(mt,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Secure Escrow"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(ho,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Verified Growth"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(ju,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Instant Transfers"})]})]})]})})})]})]})},Mv=async e=>{try{const t=await fetch(`${ie}/social-media/extract-profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to extract profile data")}return await t.json()}catch(t){throw console.error("Extract profile data error:",t),t}},Iv=e=>e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("instagram.com")?"instagram":e.includes("tiktok.com")?"tiktok":e.includes("twitter.com")||e.includes("x.com")?"twitter":e.includes("facebook.com")?"facebook":null,md=e=>e>=1e9?`${(e/1e9).toFixed(1)}B`:e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),BC=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),Dv=async e=>{const t=new FormData;e.forEach((o,a)=>{t.append("screenshots[]",o)});const s=BC(),n={};s&&(n.Authorization=`Bearer ${s}`),console.log(" Uploading screenshots...",{fileCount:e.length,files:e.map(o=>({name:o.name,size:o.size,type:o.type})),hasToken:!!s});try{let o=await fetch("/api/ads/upload/screenshots",{method:"POST",headers:n,body:t});if(!o.ok&&o.status===404&&(console.log(" Proxy failed, trying direct backend..."),o=await fetch(`${ie}/ads/upload/screenshots`,{method:"POST",headers:n,body:t})),console.log(" Upload response status:",o.status),!o.ok){const i=await o.text();throw console.error(" Upload failed:",i),new Error(`Failed to upload screenshots: ${o.status} ${o.statusText}`)}const a=await o.json();return console.log(" Upload successful:",a),a}catch(o){throw console.error(" Upload error:",o),o}},VC=({setCurrentPage:e})=>{const t=["Unique content","Rewritten","Not unique content","Mixed"],s=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT"],[n,o]=u.useState({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,contentCategory:"",subscribers:"",profilePicture:""}),[a,i]=u.useState(!1),[l,d]=u.useState(!1),[m,h]=u.useState(null),[f,c]=u.useState(!1),[p,w]=u.useState(!1),{toast:x}=gt(),[j,g]=u.useState([]),[y,v]=u.useState([]),[C,S]=u.useState(!1),k=u.useRef(null),N=u.useRef(null),b=F=>{const{name:T,value:A,type:M}=F.target;o(L=>({...L,[T]:M==="checkbox"?F.target.checked:A}))},E=F=>{const T=F.target.files;if(T){const A=Array.from(T);_(A)}},_=F=>{const T=F.filter(M=>M.type.startsWith("image/"));T.length!==F.length&&x({variant:"destructive",title:"Invalid files",description:"Only image files are allowed."}),g(T);const A=T.map(M=>URL.createObjectURL(M));v(A)},D=F=>{F.preventDefault(),S(!0)},O=F=>{F.preventDefault(),S(!1)},V=F=>{F.preventDefault(),S(!1);const T=Array.from(F.dataTransfer.files);_(T)},$=F=>{URL.revokeObjectURL(y[F]);const T=j.filter((M,L)=>L!==F),A=y.filter((M,L)=>L!==F);g(T),v(A)};u.useEffect(()=>()=>{y.forEach(F=>URL.revokeObjectURL(F))},[y]);const W=async()=>{if(!n.channelUrl.trim()){x({variant:"destructive",title:"Missing URL",description:"Please enter a social media URL first"});return}d(!0);try{const T=(await Mv(n.channelUrl)).data;h(T),o(A=>({...A,title:T.title||A.title,platform:T.platform||Iv(n.channelUrl)||A.platform,subscribers:T.followers||T.subscribers||A.subscribers,profilePicture:T.profilePicture||A.profilePicture})),x({title:"Profile Data Extracted Successfully! ",description:`Title: ${T.title}
Platform: ${T.platform}
Followers: ${md(T.followers||T.subscribers||0)}`})}catch(F){console.error("Profile extraction error:",F),x({variant:"destructive",title:"Extraction Failed",description:`Failed to extract profile data: ${F.message}. Please fill in the information manually.`})}finally{d(!1)}},H=async()=>{i(!0);try{let F="youtube";n.channelUrl.includes("facebook.com")||n.channelUrl.includes("fb.com")?F="facebook":n.channelUrl.includes("instagram.com")?F="instagram":n.channelUrl.includes("twitter.com")||n.channelUrl.includes("x.com")?F="twitter":n.channelUrl.includes("tiktok.com")&&(F="tiktok");let T=[],A="";if(j.length>0)try{console.log(" Attempting to upload screenshots...");const B=await Dv(j);B.screenshots&&(T=B.screenshots,T.length>0&&(A=T[0].data),console.log(" Screenshots uploaded successfully:",T))}catch(B){console.error(" Error uploading screenshots:",B),x({variant:"destructive",title:"Upload Error",description:`Failed to upload screenshots: ${B.message}. Creating ad without screenshots.`}),T=[]}const M={title:n.title||`${F.charAt(0).toUpperCase()+F.slice(1)} Channel`,channelUrl:n.channelUrl,platform:F,category:n.category,contentType:n.contentType&&n.contentType.trim()!==""?n.contentType:null,contentCategory:n.contentCategory&&n.contentCategory.trim()!==""?n.contentCategory:null,description:n.description||"",price:parseFloat(n.price)||0,subscribers:n.subscribers?parseInt(n.subscribers):0,isMonetized:!!n.isMonetized,incomeDetails:n.incomeDetails||"",promotionDetails:n.promotionDetails||"",thumbnail:n.profilePicture||"",primary_image:A,additional_images:T.slice(1),screenshots:T,tags:[]};console.log("Submitting ad data:",M);const L=await LC(M);console.log("Ad creation result:",L),x({title:"Listing Created Successfully! ",description:"Your listing is now live on the marketplace! Redirecting to homepage..."}),o({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,contentCategory:"",subscribers:"",profilePicture:""}),y.forEach(B=>URL.revokeObjectURL(B)),g([]),v([]),setTimeout(()=>{e&&e("home")},1500)}catch(F){x({variant:"destructive",title:"Failed to Create Listing",description:F.message||"Something went wrong. Please try again."})}finally{i(!1)}};return u.useEffect(()=>{const F=T=>{k.current&&!k.current.contains(T.target)&&c(!1),N.current&&!N.current.contains(T.target)&&w(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"CREATE NEW LISTING"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"title",value:n.title,onChange:b,className:"xsm-input w-full",placeholder:"Listing title (e.g., 'Premium Gaming YouTube Channel')"})}),n.profilePicture&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Profile Picture (Auto-extracted)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:n.profilePicture,alt:"Profile",className:"w-16 h-16 rounded-full object-cover",onError:F=>{const T=F.target;T.style.display="none"}}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:"Profile picture automatically extracted from your social media URL"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Social Media URL",r.jsx("span",{className:"text-sm text-xsm-light-gray ml-2",children:"(Instagram, YouTube, TikTok, Twitter, Facebook)"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",name:"channelUrl",value:n.channelUrl,onChange:b,className:"xsm-input flex-1",placeholder:"Paste your Instagram, YouTube, TikTok, Twitter, or Facebook URL here"}),r.jsx("button",{type:"button",onClick:W,disabled:l||!n.channelUrl.trim(),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 whitespace-nowrap ${l||!n.channelUrl.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-xsm-yellow text-black hover:bg-yellow-400"}`,children:l?r.jsxs(r.Fragment,{children:[r.jsx(Ys,{className:"w-4 h-4 animate-spin"}),"Extracting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4"}),"Auto-Fill"]})})]}),m&&r.jsx("div",{className:"mt-3 p-3 bg-green-900/30 border border-green-500/50 rounded-lg",children:r.jsxs("p",{className:"text-green-400 text-sm",children:[" Extracted: ",r.jsx("strong",{children:m.title}),(m.followers||m.subscribers)&&r.jsxs("span",{children:["  ",md(m.followers||m.subscribers)," followers"]})]})})]}),r.jsxs("div",{className:"relative",ref:N,children:[r.jsxs("div",{onClick:()=>w(!p),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${n.category?"text-white":"text-xsm-medium-gray"}`,children:n.category||"-- Select topic --"}),r.jsx(nn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),p&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(F=>r.jsx("div",{onClick:()=>{o(T=>({...T,category:F})),w(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${n.category===F?"bg-blue-500 text-white":"text-white"}`,children:F},F))})})]}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"price",value:n.price,onChange:b,className:"xsm-input w-full",placeholder:"Enter price ($)"})}),r.jsx("div",{children:r.jsx("input",{type:"number",name:"subscribers",value:n.subscribers,onChange:b,className:"xsm-input w-full",placeholder:"Number of subscribers/followers (optional)"})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-3 text-white",children:"Channel Status:"}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"monetizationStatus",className:"sr-only",checked:!n.isMonetized,onChange:()=>o(F=>({...F,isMonetized:!1}))}),r.jsxs("div",{className:`flex items-center ${n.isMonetized?"text-white":"text-xsm-yellow"}`,children:[r.jsx("div",{className:`w-4 h-4 mr-2 rounded-full border ${n.isMonetized?"border-white":"bg-xsm-yellow border-xsm-yellow"} flex items-center justify-center`,children:!n.isMonetized&&r.jsx("div",{className:"w-2 h-2 bg-xsm-black rounded-full"})}),"Non Monetized"]})]}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"monetizationStatus",className:"sr-only",checked:n.isMonetized,onChange:()=>o(F=>({...F,isMonetized:!0}))}),r.jsxs("div",{className:`flex items-center ${n.isMonetized?"text-xsm-yellow":"text-white"}`,children:[r.jsx("div",{className:`w-4 h-4 mr-2 rounded-full border ${n.isMonetized?"bg-xsm-yellow border-xsm-yellow":"border-white"} flex items-center justify-center`,children:n.isMonetized&&r.jsx("div",{className:"w-2 h-2 bg-xsm-black rounded-full"})}),"Monetized"]})]})]})]})}),r.jsxs("div",{className:"pt-6",children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:"Optional fields"}),r.jsx("div",{className:"mb-6",children:r.jsx("textarea",{name:"description",value:n.description,onChange:b,className:"xsm-input w-full resize-none",rows:4,placeholder:"Listing description (posting contacts is prohibited)"})}),r.jsxs("div",{className:"mb-6 relative",ref:k,children:[r.jsxs("div",{onClick:()=>c(!f),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${n.contentType?"text-white":"text-xsm-medium-gray"}`,children:n.contentType||"-- Specify the primary content published --"}),r.jsx(nn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),f&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:t.map(F=>r.jsx("div",{onClick:()=>{o(T=>({...T,contentType:F})),c(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${n.contentType===F?"bg-blue-500 text-white":"text-white"}`,children:F},F))})})]}),r.jsx("div",{className:"mb-6",children:r.jsx("input",{type:"text",name:"contentCategory",value:n.contentCategory,onChange:b,className:"xsm-input w-full",placeholder:"Content category (e.g., Tech Tutorials, Gaming Reviews)"})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("textarea",{name:"incomeDetails",value:n.incomeDetails,onChange:b,className:"xsm-input w-full resize-none mb-4",rows:4,placeholder:"Ways of Earning"}),r.jsx("textarea",{name:"promotionDetails",value:n.promotionDetails,onChange:b,className:"xsm-input w-full resize-none",rows:4,placeholder:"Ways of Promotion"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-base font-medium mb-2",children:"Attach screenshots (proof of income, etc.):"}),r.jsxs("div",{className:`border border-dashed rounded p-6 text-center transition-colors ${C?"border-xsm-yellow bg-yellow-50":"border-xsm-medium-gray hover:border-xsm-yellow"}`,onDragOver:D,onDragLeave:O,onDrop:V,children:[r.jsx(bu,{className:`mx-auto mb-2 ${C?"text-xsm-yellow":"text-xsm-medium-gray"}`,size:24}),r.jsx("p",{className:`mb-2 ${C?"text-xsm-yellow":"text-xsm-medium-gray"}`,children:C?"Drop files here":"Drop files here or click to upload"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden",id:"file-upload"}),r.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:r.jsx("span",{className:"text-xsm-yellow underline hover:text-yellow-600",children:"Browse files"})}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Max 5 images, 10MB each"})]}),j.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[j.length," image",j.length!==1?"s":""," selected"]}),r.jsx("button",{onClick:()=>{y.forEach(F=>URL.revokeObjectURL(F)),g([]),v([])},className:"text-sm text-red-600 hover:text-red-800 underline",type:"button",children:"Clear all"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:y.map((F,T)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-square",children:r.jsx("img",{src:F,alt:`Preview ${T+1}`,className:"w-full h-full object-cover rounded-lg border border-gray-200 shadow-sm"})}),r.jsx("button",{onClick:()=>$(T),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-600 shadow-lg",type:"button",title:"Remove image",children:r.jsx(Ee,{size:14})}),r.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent text-white text-xs p-2 rounded-b-lg",children:[r.jsx("div",{className:"truncate",children:j[T].name}),r.jsxs("div",{className:"text-gray-300",children:[(j[T].size/1024/1024).toFixed(1)," MB"]})]})]},T))})]})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx("button",{onClick:H,disabled:a,className:`bg-xsm-yellow text-black py-3 rounded-md font-medium hover:bg-yellow-400 transition-colors w-full ${a?"opacity-50 cursor-not-allowed":""}`,children:a?"Creating Listing...":"Create Listing"})})]})]})})})},WC=()=>"https://xsmmarket.com/api",HC=()=>"https://xsmmarket.com",Lv={BASE_URL:HC(),WS_URL:"http://localhost:3001",CHAT_UPLOAD_URL:`${WC()}/chat`,FILE_SERVER_URL:"https://xsmmarket.com"},GC=e=>e.startsWith("http")?e:`${Lv.FILE_SERVER_URL}${e}`,sr=e=>e?e.startsWith("http")?e:e.startsWith("/uploads/")?`${Lv.FILE_SERVER_URL}/api${e}`:GC(e):null,YC=`
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #ffd000 #1A1A1A;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #1A1A1A;
    border-radius: 6px;
    border: 1px solid #333333;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ffd000 0%, #ffaa00 100%);
    border-radius: 6px;
    border: 2px solid #1A1A1A;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ffdd33 0%, #ffbb33 100%);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:active {
    background: linear-gradient(180deg, #e6b800 0%, #cc9900 100%);
  }
  
  .conversation-scrollbar::-webkit-scrollbar {
    width: 12px;
  }
  
  .conversation-scrollbar::-webkit-scrollbar-track {
    background: #000000;
    border-radius: 6px;
    border: 1px solid #333333;
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ffd000 0%, #ffaa00 100%);
    border-radius: 6px;
    border: 2px solid #000000;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ffdd33 0%, #ffbb33 100%);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb:active {
    background: linear-gradient(180deg, #e6b800 0%, #cc9900 100%);
  }
  
  .messages-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #333333 0%, #555555 100%);
    border: 2px solid #1A1A1A;
  }
  
  .messages-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #666666 0%, #777777 100%);
  }
`,KC=()=>{const{user:e,isLoggedIn:t}=Xe(),[s,n]=u.useState(null),[o,a]=u.useState([]),[i,l]=u.useState(""),[d,m]=u.useState([]),[h,f]=u.useState([]),[c,p]=u.useState(""),[w,x]=u.useState(!0),j=u.useRef(null),g=u.useRef(null),[y,v]=u.useState(null),[C,S]=u.useState(null),k=u.useRef(null),[N,b]=u.useState(!1),E=u.useRef(null),[_,D]=u.useState(!1);u.useEffect(()=>{if(t&&e&&s){const P=setInterval(()=>{O()},2e3);return S(P),()=>{P&&clearInterval(P)}}},[t,e,s,y]);const O=async()=>{if(!(!s||!e))try{const P=localStorage.getItem("token"),z=await fetch(`${ie}/chat/chats/${s.id}/messages?since=${y||0}`,{headers:{Authorization:`Bearer ${P}`}});if(z.ok){const U=await z.json();if(U.length>0){a(I=>{const X=new Set(I.map(te=>te.id)),Q=U.filter(te=>!X.has(te.id));return[...I,...Q]});const R=U[U.length-1];v(R.id),T(R)}}}catch(P){console.error("Error checking for new messages:",P)}};u.useEffect(()=>{t&&e&&V()},[t,e]),u.useEffect(()=>{setTimeout(A,100)},[o]),u.useEffect(()=>{if(!c.trim())f(d);else{const P=d.filter(z=>{var X;const U=B(z).toLowerCase(),R=((X=z.lastMessage)==null?void 0:X.toLowerCase())||"",I=c.toLowerCase();return U.includes(I)||R.includes(I)});f(P)}},[d,c]),u.useEffect(()=>{s&&($(s.id),v(null))},[s]),u.useEffect(()=>{if(t&&e){const P=setInterval(()=>{V()},1e4);return()=>clearInterval(P)}},[t,e]);const V=async()=>{try{x(!0);const P=localStorage.getItem("token"),U=await(await fetch(`${ie}/chat/chats`,{headers:{Authorization:`Bearer ${P}`}})).json();m(U),f(U)}catch(P){console.error("Error fetching chats:",P)}finally{x(!1)}},$=async P=>{try{const z=localStorage.getItem("token"),R=await(await fetch(`${ie}/chat/chats/${P}/messages`,{headers:{Authorization:`Bearer ${z}`}})).json();if(a(R),R.length>0){const I=R[R.length-1];v(I.id)}await fetch(`${ie}/chat/chats/${P}/read`,{method:"PUT",headers:{Authorization:`Bearer ${z}`}})}catch(z){console.error("Error fetching messages:",z)}},W=async()=>{if(!(!i.trim()||!s||!e))try{const P=localStorage.getItem("token"),z=await fetch(`${ie}/chat/chats/${s.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({content:i.trim(),messageType:"text"})});if(z.ok){const U=await z.json();a(R=>[...R,U]),v(U.id),T(U),l(""),setTimeout(()=>O(),500)}}catch(P){console.error("Error sending message:",P)}},H=async P=>{if(!(!s||!e||!P)){if(P.size>10*1024*1024){alert("Image file size must be less than 10MB");return}b(!0);try{const z=localStorage.getItem("token"),U=new FormData;U.append("file",P),U.append("messageType","image"),console.log("Uploading image:",P.name,"Size:",P.size);const R=await fetch(`${ie}/chat/chats/${s.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${z}`},body:U});if(R.ok){const I=await R.json();console.log("Image upload successful:",I),a(X=>[...X,I]),v(I.id),T(I),setTimeout(()=>O(),500)}else{const I=await R.json();throw console.error("Image upload failed:",I),new Error(I.message||"Failed to upload image")}}catch(z){console.error("Error sending image:",z),alert(`Failed to send image: ${z instanceof Error?z.message:"Unknown error"}`)}finally{b(!1)}}},F=async P=>{if(!(!s||!e||!P)){if(P.size>50*1024*1024){alert("Video file size must be less than 50MB");return}D(!0);try{const z=localStorage.getItem("token"),U=new FormData;U.append("file",P),U.append("messageType","video"),console.log("Uploading video:",P.name,"Size:",P.size);const R=await fetch(`${ie}/chat/chats/${s.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${z}`},body:U});if(R.ok){const I=await R.json();console.log("Video upload successful:",I),a(X=>[...X,I]),v(I.id),T(I),setTimeout(()=>O(),500)}else{const I=await R.json();throw console.error("Video upload failed:",I),new Error(I.message||"Failed to upload video")}}catch(z){console.error("Error sending video:",z),alert(`Failed to send video: ${z instanceof Error?z.message:"Unknown error"}`)}finally{D(!1)}}},T=P=>{let z=P.content;P.messageType==="image"?z=" Sent an image":P.messageType==="video"&&(z=" Sent a video"),m(U=>U.map(R=>R.id===P.chatId?{...R,lastMessage:z,lastMessageTime:P.createdAt}:R).sort((R,I)=>new Date(I.lastMessageTime||0).getTime()-new Date(R.lastMessageTime||0).getTime()))},A=()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},M=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),L=P=>{const z=new Date(P),R=new Date().getTime()-z.getTime(),I=Math.floor(R/(1e3*60)),X=Math.floor(R/(1e3*60*60));return I<60?`${I}m ago`:X<24?`${X}h ago`:z.toLocaleDateString()},B=P=>{if(P.type==="ad_inquiry"){if(P.otherParticipants.length>0)return P.otherParticipants[0].username;if(P.ad)return`Inquiry: ${P.ad.title}`}return P.otherParticipants.length>0?P.otherParticipants[0].username:P.name?P.name:"Unknown"};return t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:YC}}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Secure Chat"}),r.jsx("p",{className:"text-xl text-white",children:"Communicate safely with buyers and sellers through our secure messaging system"})]}),r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg overflow-hidden",style:{height:"600px"},children:r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-80 bg-xsm-black border-r border-xsm-medium-gray",children:[r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray",children:r.jsxs("h3",{className:"text-lg font-semibold text-xsm-yellow flex items-center",children:[r.jsx(cr,{className:"w-5 h-5 mr-2"}),"Conversations"]})}),r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray",children:r.jsx("input",{type:"text",value:c,onChange:P=>p(P.target.value),placeholder:"Search conversations...",className:"w-full px-4 py-2 bg-xsm-dark-gray text-white rounded-lg border border-xsm-medium-gray focus:outline-none focus:border-xsm-yellow"})}),r.jsx("div",{className:"overflow-y-auto custom-scrollbar conversation-scrollbar",style:{height:"calc(100% - 113px)"},children:w?r.jsx("div",{className:"p-4 text-center text-white",children:"Loading chats..."}):h.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx(cr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No conversations yet"}),r.jsx("p",{className:"text-sm",children:"Start chatting by contacting a seller!"})]}):h.map(P=>r.jsxs("div",{onClick:()=>n(P),className:`p-4 border-b border-xsm-medium-gray cursor-pointer hover:bg-xsm-dark-gray transition-colors ${(s==null?void 0:s.id)===P.id?"bg-xsm-medium-gray":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-xsm-yellow rounded-full flex items-center justify-center text-xsm-black font-bold text-sm mr-3",children:B(P).charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium text-sm",children:B(P)}),P.ad&&r.jsxs("p",{className:"text-xs text-xsm-yellow",children:[P.ad.title," - $",P.ad.price]})]})]}),P.lastMessageTime&&r.jsx("span",{className:"text-xs text-gray-400",children:L(P.lastMessageTime)})]}),r.jsx("p",{className:"text-sm text-gray-300 truncate",children:P.lastMessage||"No messages yet"})]},P.id))})]}),r.jsx("div",{className:"flex-1 flex flex-col",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray bg-xsm-black flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-xsm-yellow rounded-full flex items-center justify-center text-xsm-black font-bold",children:B(s).charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:B(s)}),s.ad&&r.jsxs("p",{className:"text-sm text-xsm-yellow",children:[s.ad.title," - $",s.ad.price]})]})]})}),r.jsxs("div",{ref:g,className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar messages-scrollbar",children:[o.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(cr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No messages yet. Start the conversation!"})]}):o.map(P=>{var z;return r.jsx("div",{className:`flex ${P.senderId===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${P.senderId===(e==null?void 0:e.id)?"bg-xsm-yellow text-xsm-black":"bg-xsm-medium-gray text-white"}`,children:[P.senderId!==(e==null?void 0:e.id)&&r.jsx("p",{className:"text-xs font-medium mb-1 opacity-75",children:(z=P.sender)==null?void 0:z.username}),P.messageType==="image"&&(P.mediaUrl||P.content)?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:sr(P.mediaUrl||P.content)||P.mediaUrl||P.content,alt:"Sent image",className:"rounded-lg max-w-[200px] max-h-[200px] mb-2 border border-xsm-yellow cursor-pointer",style:{objectFit:"cover"},onClick:()=>window.open(sr(P.mediaUrl||P.content)||P.mediaUrl||P.content,"_blank"),onError:U=>{console.error("Image failed to load:",{originalContent:P.content,mediaUrl:P.mediaUrl,resolvedUrl:sr(P.mediaUrl||P.content)||P.mediaUrl||P.content});const R=U.target;R.style.display="none";const I=R.nextElementSibling;I&&(I.style.display="flex")}}),r.jsx("div",{className:"absolute inset-0 bg-gray-700 rounded-lg flex items-center justify-center text-white text-sm",style:{display:"none"},children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{children:"Image unavailable"}),r.jsx("button",{onClick:()=>{const U=sr(P.content)||P.content;window.open(U,"_blank")},className:"mt-2 px-3 py-1 bg-xsm-yellow text-black rounded text-xs hover:bg-yellow-500",children:"Try Opening"})]})})]}):P.messageType==="video"&&(P.mediaUrl||P.content)?r.jsxs("div",{className:"relative rounded-lg overflow-hidden max-w-[250px] max-h-[200px] mb-2 border border-xsm-yellow bg-black",children:[r.jsxs("video",{src:sr(P.content)||P.content,className:"w-full h-full object-cover",controls:!0,preload:"metadata",crossOrigin:"anonymous",style:{maxHeight:"200px"},onError:U=>{console.error("Video failed to load:",{originalContent:P.content,mediaUrl:P.mediaUrl,resolvedUrl:sr(P.mediaUrl||P.content)||P.mediaUrl||P.content,error:U});const R=U.target;R.style.display="none";const I=R.nextElementSibling;I&&(I.style.display="flex")},onLoadStart:()=>{console.log("Video load started:",sr(P.mediaUrl||P.content)||P.mediaUrl||P.content)},children:[r.jsx("source",{src:sr(P.mediaUrl||P.content)||P.mediaUrl||P.content,type:"video/mp4"}),"Your browser does not support the video tag."]}),r.jsx("div",{className:"absolute inset-0 bg-gray-700 flex items-center justify-center text-white text-sm",style:{display:"none"},children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"text-2xl mb-2",children:""}),r.jsx("div",{children:"Video file"}),r.jsx("div",{className:"text-xs mt-1 break-all px-2 max-w-[200px]",children:P.content.split("/").pop()}),r.jsx("button",{onClick:()=>{const U=sr(P.content)||P.content;console.log("Attempting to open video:",U),window.open(U,"_blank")},className:"mt-2 px-3 py-1 bg-xsm-yellow text-black rounded text-xs hover:bg-yellow-500",children:"Open Video"})]})})]}):r.jsx("p",{className:"text-sm",children:P.content}),r.jsx("p",{className:`text-xs mt-1 ${P.senderId===(e==null?void 0:e.id)?"text-xsm-dark-gray":"text-gray-400"}`,children:M(P.createdAt)})]})},P.id)}),r.jsx("div",{ref:j})]}),r.jsx("div",{className:"p-4 border-t border-xsm-medium-gray bg-xsm-black",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>{var P;return(P=k.current)==null?void 0:P.click()},className:`p-2 text-gray-400 hover:text-xsm-yellow rounded-lg border border-xsm-yellow bg-xsm-dark-gray ${N?"opacity-50 cursor-not-allowed":""}`,title:"Attach Image",disabled:N||_,children:N?r.jsx("div",{className:"w-5 h-5 border-2 border-xsm-yellow border-t-transparent rounded-full animate-spin"}):r.jsx(u1,{className:"w-5 h-5"})}),r.jsx("input",{ref:k,type:"file",accept:"image/*",style:{display:"none"},onChange:P=>{P.target.files&&P.target.files[0]&&(H(P.target.files[0]),P.target.value="")}}),r.jsx("button",{type:"button",onClick:()=>{var P;return(P=E.current)==null?void 0:P.click()},className:`p-2 text-gray-400 hover:text-xsm-yellow rounded-lg border border-xsm-yellow bg-xsm-dark-gray ${_?"opacity-50 cursor-not-allowed":""}`,title:"Attach Video",disabled:_||N,children:_?r.jsx("div",{className:"w-5 h-5 border-2 border-xsm-yellow border-t-transparent rounded-full animate-spin"}):r.jsx(y1,{className:"w-5 h-5"})}),r.jsx("input",{ref:E,type:"file",accept:"video/*",style:{display:"none"},onChange:P=>{P.target.files&&P.target.files[0]&&(F(P.target.files[0]),P.target.value="")}}),r.jsx("input",{type:"text",value:i,onChange:P=>l(P.target.value),onKeyPress:P=>P.key==="Enter"&&W(),placeholder:"Type your message...",className:"flex-1 px-4 py-2 bg-xsm-dark-gray text-white rounded-lg border border-xsm-medium-gray focus:outline-none focus:border-xsm-yellow"}),r.jsx("button",{onClick:W,disabled:!i.trim(),className:"px-4 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(wu,{className:"w-5 h-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(cr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"Select a conversation to start messaging"})]})})})]})}),r.jsxs("div",{className:"mt-6 bg-xsm-black/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-xsm-yellow mb-2",children:[r.jsx(mt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Security Notice"})]}),r.jsx("p",{className:"text-white text-sm",children:"All conversations are monitored for security. Never share personal financial information, passwords, or complete transactions outside our secure payment system."})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Please Login"}),r.jsx("p",{className:"text-xl text-white",children:"You need to login to access the chat system."})]})})},qC=({ad:e,isOpen:t,onClose:s,onUpdate:n})=>{const o=["Unique content","Rewritten","Not unique content","Mixed"],a=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT"],[i,l]=u.useState({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,contentCategory:"",subscribers:"",monthlyIncome:"",thumbnail:""}),[d,m]=u.useState(!1),[h,f]=u.useState(!1),[c,p]=u.useState(null),[w,x]=u.useState(!1),[j,g]=u.useState(!1),{toast:y}=gt(),[v,C]=u.useState([]),[S,k]=u.useState([]),[N,b]=u.useState(!1),E=u.useRef(null),_=u.useRef(null);u.useEffect(()=>{var M,L,B;if(e&&t&&(l({title:e.title||"",channelUrl:e.channelUrl||"",platform:e.platform||"",price:((M=e.price)==null?void 0:M.toString())||"",category:e.category||"",contentType:e.contentType||"",description:e.description||"",incomeDetails:e.incomeDetails||"",promotionDetails:e.promotionDetails||"",isMonetized:e.isMonetized||!1,contentCategory:e.contentCategory||"",subscribers:((L=e.subscribers)==null?void 0:L.toString())||"",monthlyIncome:((B=e.monthlyIncome)==null?void 0:B.toString())||"",thumbnail:e.thumbnail||""}),e.screenshots&&e.screenshots.length>0)){const P=e.screenshots.map(z=>typeof z=="string"?z:z.data||z.url).filter(Boolean);k(P)}},[e,t]),u.useEffect(()=>{const M=L=>{E.current&&!E.current.contains(L.target)&&x(!1),_.current&&!_.current.contains(L.target)&&g(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const D=M=>{const{name:L,value:B,type:P}=M.target;l(z=>({...z,[L]:P==="checkbox"?M.target.checked:B}))},O=M=>{const L=M.target.files;if(L){const B=Array.from(L);V(B)}},V=M=>{const L=M.filter(P=>P.type.startsWith("image/"));L.length!==M.length&&y({variant:"destructive",title:"Invalid files",description:"Only image files are allowed."}),C(L);const B=L.map(P=>URL.createObjectURL(P));k(P=>[...P,...B])},$=M=>{M.preventDefault(),b(!0)},W=M=>{M.preventDefault(),b(!1)},H=M=>{M.preventDefault(),b(!1);const L=Array.from(M.dataTransfer.files);V(L)},F=M=>{k(L=>L.filter((B,P)=>P!==M)),C(L=>L.filter((B,P)=>P!==M))},T=async()=>{if(!i.channelUrl.trim()){y({variant:"destructive",title:"URL Required",description:"Please enter a social media URL first."});return}f(!0),p(null);try{const M=Iv(i.channelUrl);if(!M)throw new Error("Unsupported platform. Please use Instagram, YouTube, TikTok, Twitter, or Facebook URLs.");const L=await Mv(i.channelUrl);L&&(p(L),l(B=>{var P,z;return{...B,title:L.title||B.title,platform:M,subscribers:((P=L.followers)==null?void 0:P.toString())||((z=L.subscribers)==null?void 0:z.toString())||B.subscribers,thumbnail:L.profilePicture||B.thumbnail}}),y({title:"Profile Extracted! ",description:`Successfully extracted data from ${M.charAt(0).toUpperCase()+M.slice(1)}`}))}catch(M){console.error("Profile extraction failed:",M),y({variant:"destructive",title:"Extraction Failed",description:M.message||"Failed to extract profile data. Please fill manually."})}finally{f(!1)}},A=async M=>{if(M.preventDefault(),!i.title.trim()||!i.channelUrl.trim()||!i.platform||!i.category||!i.price){y({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields (title, URL, platform, category, price)."});return}if(parseFloat(i.price)<=0){y({variant:"destructive",title:"Invalid Price",description:"Price must be greater than 0."});return}m(!0);try{let L=[],B=null;if(v.length>0)try{console.log(" Uploading new screenshots..."),L=(await Dv(v)).screenshots||[],L.length>0&&(B=L[0].data),console.log(" Screenshots uploaded successfully:",L)}catch(U){console.error(" Error uploading screenshots:",U),y({variant:"destructive",title:"Upload Warning",description:`Failed to upload new screenshots: ${U.message}. Updating listing without new screenshots.`}),L=[]}const P={title:i.title.trim(),channelUrl:i.channelUrl.trim(),platform:i.platform,category:i.category,contentType:i.contentType&&i.contentType.trim()!==""?i.contentType:null,contentCategory:i.contentCategory&&i.contentCategory.trim()!==""?i.contentCategory:null,description:i.description.trim(),price:parseFloat(i.price),subscribers:i.subscribers?parseInt(i.subscribers):0,monthlyIncome:i.monthlyIncome?parseFloat(i.monthlyIncome):0,isMonetized:!!i.isMonetized,incomeDetails:i.incomeDetails.trim(),promotionDetails:i.promotionDetails.trim(),thumbnail:i.thumbnail||"",...L.length>0&&{screenshots:L,primary_image:B}};console.log("Updating ad with data:",P);const z=await OC(e.id,P);console.log("Ad update result:",z),y({title:"Listing Updated Successfully! ",description:"Your listing has been updated and is live on the marketplace."}),z.ad&&n(z.ad),s()}catch(L){console.error(" Error updating ad:",L),y({variant:"destructive",title:"Update Failed",description:L.message||"Failed to update listing. Please try again."})}finally{m(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-xsm-medium-gray/20",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Edit Listing"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:i.title,onChange:D,className:"xsm-input w-full",placeholder:"Enter listing title",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Social Media URL ",r.jsx("span",{className:"text-red-400",children:"*"}),r.jsx("span",{className:"text-sm text-xsm-light-gray ml-2",children:"(Instagram, YouTube, TikTok, Twitter, Facebook)"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",name:"channelUrl",value:i.channelUrl,onChange:D,className:"xsm-input flex-1",placeholder:"Paste your social media URL here",required:!0}),r.jsx("button",{type:"button",onClick:T,disabled:h||!i.channelUrl.trim(),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 whitespace-nowrap ${h||!i.channelUrl.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-xsm-yellow text-black hover:bg-yellow-400"}`,children:h?r.jsxs(r.Fragment,{children:[r.jsx(Ys,{className:"w-4 h-4 animate-spin"}),"Extracting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(an,{className:"w-4 h-4"}),"Auto-Fill"]})})]}),c&&r.jsx("div",{className:"mt-3 p-3 bg-green-900/30 border border-green-500/50 rounded-lg",children:r.jsxs("p",{className:"text-green-400 text-sm",children:[" Extracted: ",r.jsx("strong",{children:c.title}),(c.followers||c.subscribers)&&r.jsxs("span",{children:["  ",md(c.followers||c.subscribers)," followers"]})]})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Platform ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("select",{name:"platform",value:i.platform,onChange:D,className:"xsm-input w-full",required:!0,children:[r.jsx("option",{value:"",children:"Select Platform"}),r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"instagram",children:"Instagram"}),r.jsx("option",{value:"tiktok",children:"TikTok"}),r.jsx("option",{value:"facebook",children:"Facebook"}),r.jsx("option",{value:"twitter",children:"Twitter"})]})]}),r.jsxs("div",{className:"relative",ref:_,children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Category ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("div",{onClick:()=>g(!j),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${i.category?"text-white":"text-xsm-medium-gray"}`,children:i.category||"-- Select category --"}),r.jsx(nn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),j&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:a.map(M=>r.jsx("div",{onClick:()=>{l(L=>({...L,category:M})),g(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${i.category===M?"bg-blue-500 text-white":"text-white"}`,children:M},M))})})]}),r.jsxs("div",{className:"relative",ref:E,children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Content Type"}),r.jsxs("div",{onClick:()=>x(!w),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${i.contentType?"text-white":"text-xsm-medium-gray"}`,children:i.contentType||"-- Select content type --"}),r.jsx(nn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),w&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:o.map(M=>r.jsx("div",{onClick:()=>{l(L=>({...L,contentType:M})),x(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${i.contentType===M?"bg-blue-500 text-white":"text-white"}`,children:M},M))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Price ($) ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",name:"price",value:i.price,onChange:D,className:"xsm-input w-full",placeholder:"Enter price",min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Subscribers/Followers"}),r.jsx("input",{type:"number",name:"subscribers",value:i.subscribers,onChange:D,className:"xsm-input w-full",placeholder:"Enter subscriber count",min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Monthly Income ($)"}),r.jsx("input",{type:"number",name:"monthlyIncome",value:i.monthlyIncome,onChange:D,className:"xsm-input w-full",placeholder:"Enter monthly income",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Monetization Status"}),r.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[r.jsx("input",{type:"checkbox",name:"isMonetized",checked:i.isMonetized,onChange:D,className:"w-4 h-4 text-xsm-yellow bg-xsm-dark-gray border-xsm-medium-gray rounded focus:ring-xsm-yellow focus:ring-2"}),r.jsx("span",{className:"text-white",children:"This channel is monetized"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:D,className:"xsm-input w-full min-h-[120px] resize-y",placeholder:"Describe your channel, content type, audience, and what makes it valuable...",rows:4})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Income Details"}),r.jsx("textarea",{name:"incomeDetails",value:i.incomeDetails,onChange:D,className:"xsm-input w-full min-h-[80px] resize-y",placeholder:"Detail your revenue sources (AdSense, sponsorships, affiliate marketing, etc.)",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Promotion Details"}),r.jsx("textarea",{name:"promotionDetails",value:i.promotionDetails,onChange:D,className:"xsm-input w-full min-h-[80px] resize-y",placeholder:"How do you promote your content? (social media, SEO, collaborations, etc.)",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Screenshots (Optional)"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${N?"border-xsm-yellow bg-xsm-yellow/10":"border-xsm-medium-gray/50 hover:border-xsm-medium-gray"}`,onDragOver:$,onDragLeave:W,onDrop:H,children:[r.jsx(bu,{className:"w-8 h-8 text-xsm-medium-gray mx-auto mb-3"}),r.jsx("p",{className:"text-xsm-medium-gray mb-2",children:"Drag and drop images here, or click to select"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O,className:"hidden",id:"screenshot-upload"}),r.jsx("label",{htmlFor:"screenshot-upload",className:"bg-xsm-yellow text-black px-4 py-2 rounded-lg font-medium cursor-pointer hover:bg-yellow-400 transition-colors inline-block",children:"Choose Files"})]}),S.length>0&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-white mb-3",children:"Preview:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map((M,L)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:M,alt:`Preview ${L+1}`,className:"w-full h-32 object-cover rounded-lg border border-xsm-medium-gray/30"}),r.jsx("button",{type:"button",onClick:()=>F(L),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ee,{className:"w-3 h-3"})})]},L))})]})]}),r.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-xsm-medium-gray/20",children:[r.jsx("button",{type:"submit",disabled:d,className:`xsm-button flex items-center gap-2 flex-1 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?r.jsxs(r.Fragment,{children:[r.jsx(yu,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Kc,{className:"w-4 h-4"}),"Update Listing"]})}),r.jsxs("button",{type:"button",onClick:s,disabled:d,className:"xsm-button-secondary flex items-center gap-2",children:[r.jsx(Ee,{className:"w-4 h-4"}),"Cancel"]})]})]})]})}):null},XC=({onEditAd:e})=>{const[t,s]=u.useState([]),[n,o]=u.useState(!0),[a,i]=u.useState(null),[l,d]=u.useState(null),[m,h]=u.useState(!1),{user:f}=Xe();u.useEffect(()=>{c()},[f]);const c=async()=>{var N;try{if(o(!0),i(null),!(f!=null&&f.id))throw new Error("User not logged in");console.log(" Fetching ads for user:",f.id,f.username);const b=await FC({});console.log(" User ads response:",b),console.log(" Ads array:",b.ads),console.log(" Ads count:",((N=b.ads)==null?void 0:N.length)||0),s(b.ads||[]),i(null)}catch(b){console.error("Failed to fetch user ads:",b),i(b.message||"Failed to fetch your ads"),s([])}finally{o(!1)}},p=N=>{d(N),h(!0)},w=()=>{h(!1),d(null)},x=N=>{s(b=>b.map(E=>E.id===N.id?{...E,...N}:E))},j=async N=>{if(window.confirm("Are you sure you want to delete this listing?"))try{await $C(N),await c()}catch(b){alert(b.message||"Failed to delete ad")}},g=async(N,b)=>{const E=new Date(b),D=Math.floor((new Date().getTime()-E.getTime())/(1e3*60*60*24));if(D<4){alert(`You can pull up this listing in ${4-D} more day(s). Listings can only be pulled up every 4 days.`);return}if(window.confirm("Pull up this listing to show at the top of market listings?"))try{alert("Pull up functionality will be implemented soon!")}catch(O){alert(O.message||"Failed to pull up listing")}},y=async N=>{alert("Pin listing feature coming soon!")},v=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(N),C=N=>N>=1e6?(N/1e6).toFixed(1)+"M":N>=1e3?(N/1e3).toFixed(1)+"K":N.toString(),S=N=>{switch(N){case"active":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"sold":return"bg-blue-500/20 text-blue-400";case"suspended":return"bg-red-500/20 text-red-400";case"rejected":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}},k=N=>{const b={youtube:"text-red-500",facebook:"text-blue-500",instagram:"text-pink-500",twitter:"text-blue-400",tiktok:"text-black"};return r.jsx("span",{className:`text-sm font-semibold ${b[N]||"text-white"}`,children:N.toUpperCase()})};return n?r.jsx("div",{className:"space-y-4",children:[...Array(3)].map((N,b)=>r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 animate-pulse",children:[r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded mb-2"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded w-3/4"})]},b))}):a?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ys,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-white font-semibold mb-2",children:"Error loading your ads"}),r.jsx("p",{className:"text-xsm-light-gray",children:a}),r.jsx("button",{onClick:c,className:"mt-4 xsm-button-secondary",children:"Try Again"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow",children:"My Listings"}),r.jsxs("span",{className:"text-sm text-xsm-light-gray bg-xsm-black/50 px-3 py-1 rounded-lg",children:[t.length," ",t.length===1?"listing":"listings"]})]}),t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No ads found"}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:"You haven't created any listings yet."}),r.jsxs("div",{className:"text-sm text-blue-400 mt-4",children:[r.jsxs("p",{children:["Debug: User ID = ",f==null?void 0:f.id]}),r.jsxs("p",{children:["Debug: User logged in = ",f?"Yes":"No"]}),r.jsxs("p",{children:["Debug: Ads count = ",t.length]}),r.jsxs("p",{children:["Debug: Error = ",a||"None"]})]})]}):r.jsx("div",{className:"space-y-4",children:t.map(N=>{var b,E;return r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-6 border border-xsm-medium-gray/20",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:((b=N.seller)==null?void 0:b.profilePicture)||(f==null?void 0:f.profilePicture)||"/default-avatar.png",alt:"Profile",className:"w-12 h-12 rounded-full object-cover border-2 border-xsm-yellow/30"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h4",{className:"text-white font-semibold text-lg truncate",children:N.title}),k(N.platform),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(N.status)}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]}),r.jsxs("div",{className:"text-sm text-xsm-light-gray",children:["@",((E=N.seller)==null?void 0:E.username)||(f==null?void 0:f.username)]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-xsm-dark-gray/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(_t,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-xs text-xsm-light-gray",children:"Subscribers"})]}),r.jsx("div",{className:"text-white font-semibold",children:C(N.subscribers)})]}),r.jsxs("div",{className:"bg-xsm-dark-gray/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(tt,{className:"w-4 h-4 text-xsm-yellow"}),r.jsx("span",{className:"text-xs text-xsm-light-gray",children:"Price"})]}),r.jsx("div",{className:"text-xsm-yellow font-semibold",children:v(N.price)})]}),r.jsxs("div",{className:"bg-xsm-dark-gray/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ho,{className:"w-4 h-4 text-green-400"}),r.jsx("span",{className:"text-xs text-xsm-light-gray",children:"Monthly Income"})]}),r.jsx("div",{className:"text-green-400 font-semibold",children:N.monthlyIncome>0?v(N.monthlyIncome):"N/A"})]}),r.jsxs("div",{className:"bg-xsm-dark-gray/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[N.isMonetized?r.jsx(le,{className:"w-4 h-4 text-green-400"}):r.jsx(gu,{className:"w-4 h-4 text-red-400"}),r.jsx("span",{className:"text-xs text-xsm-light-gray",children:"Monetized"})]}),r.jsx("div",{className:`font-semibold ${N.isMonetized?"text-green-400":"text-red-400"}`,children:N.isMonetized?"Yes":"No"})]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-xsm-light-gray mb-4",children:[r.jsx("span",{children:N.category}),r.jsxs("span",{children:["Created: ",new Date(N.createdAt).toLocaleDateString()]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(_t,{className:"w-3 h-3"}),N.views," views"]})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsxs("button",{onClick:()=>p(N),className:"xsm-button-secondary flex items-center gap-2",children:[r.jsx(dg,{className:"w-4 h-4"}),"Edit"]}),r.jsxs("button",{onClick:()=>j(N.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(ja,{className:"w-4 h-4"}),"Delete"]}),r.jsxs("button",{onClick:()=>g(N.id,N.createdAt),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[r.jsx(ho,{className:"w-4 h-4"}),"Pull Up"]}),r.jsxs("button",{onClick:()=>y(N.id),className:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors opacity-50 cursor-not-allowed",disabled:!0,children:[r.jsx(lg,{className:"w-4 h-4"}),"Pin (Soon)"]})]})]},N.id)})}),l&&r.jsx(qC,{ad:l,isOpen:m,onClose:w,onUpdate:x})]})},QC=({isOpen:e,onClose:t,onSuccess:s,currentEmail:n,newEmail:o,verificationToken:a})=>{const[i,l]=u.useState("current_email"),[d,m]=u.useState(""),[h,f]=u.useState(!1),[c,p]=u.useState(""),[w,x]=u.useState(a),{showSuccess:j,showError:g}=Eu(),y=async()=>{if(!d||d.length!==6){p("Please enter a valid 6-digit verification code");return}try{f(!0),p("");const b=await aN(w,d);j("Current email verified!","Now check your new email for the final verification code"),l("new_email"),m(""),x(b.verificationToken)}catch(b){const E=b instanceof Error?b.message:"Verification failed";g("Verification failed",E),p(E)}finally{f(!1)}},v=async()=>{if(!d||d.length!==6){p("Please enter a valid 6-digit verification code");return}try{f(!0),p("");const b=await iN(w,d);j("Email changed successfully!",`Your email has been changed to ${b.newEmail}`),s(b.newEmail),t()}catch(b){const E=b instanceof Error?b.message:"Verification failed";g("Verification failed",E),p(E)}finally{f(!1)}},C=()=>{i==="current_email"?y():v()},S=()=>{l("current_email"),m(""),p(""),x(a),t()};if(!e)return null;const k=i==="current_email",N=k?n:o;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:"Email Verification"}),r.jsx("button",{onClick:S,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${k?"bg-xsm-yellow text-xsm-black":"bg-green-500 text-white"}`,children:k?"1":""}),r.jsx(Zj,{className:"w-4 h-4 text-gray-400"}),r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i==="new_email"?"bg-xsm-yellow text-xsm-black":"bg-gray-600 text-gray-400"}`,children:"2"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center ${k?"bg-blue-500/10":"bg-green-500/10"}`,children:r.jsx(on,{className:`w-6 h-6 ${k?"text-blue-400":"text-green-400"}`})}),r.jsx("h4",{className:"text-white font-medium mb-2",children:k?"Verify Current Email (Step 1 of 2)":"Verify New Email (Step 2 of 2)"}),r.jsx("p",{className:"text-gray-400 text-xs mb-2",children:k?"We sent a verification code to your current email:":"We sent a verification code to your new email:"}),r.jsx("p",{className:"text-xsm-yellow font-medium text-sm",children:N}),k&&r.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"After verifying this, you'll get another code at your new email."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Verification Code"}),r.jsx("input",{type:"text",value:d,onChange:b=>{const E=b.target.value.replace(/\D/g,"").slice(0,6);m(E),p("")},className:"xsm-input w-full text-center text-lg tracking-widest py-2",placeholder:"000000",maxLength:6,autoComplete:"one-time-code"})]}),c&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:r.jsx("p",{className:"text-red-400 text-sm",children:c})}),r.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-amber-400 text-xs",children:" This verification code expires in 15 minutes."})}),!k&&r.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-green-400 text-xs",children:" Current email verified! Complete this final step to change your email."})})]}),r.jsxs("div",{className:"flex space-x-2 mt-4",children:[r.jsx("button",{onClick:S,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Cancel"}),r.jsx("button",{onClick:C,disabled:!d||d.length!==6||h,className:"flex-1 px-3 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-xsm-black border-t-transparent"}),r.jsx("span",{children:"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"w-4 h-4"}),r.jsx("span",{children:k?"Verify Current":"Complete Change"})]})})]})]})})},JC=({isOpen:e,onClose:t,onSuccess:s,email:n,verificationToken:o,isGoogleUser:a})=>{const[i,l]=u.useState(""),[d,m]=u.useState(!1),[h,f]=u.useState(""),{showSuccess:c,showError:p}=Eu(),w=async()=>{if(!i||i.length!==6){f("Please enter a valid 6-digit verification code");return}try{m(!0),f("");const x=await cN(o,i);c(a?"Password set successfully!":"Password changed successfully!",a?"You can now login using both Google and email/password.":"Your password has been updated successfully."),s(x.message,x.isGoogleUser),t()}catch(x){const j=x instanceof Error?x.message:"Verification failed";p("Verification failed",j),f(j)}finally{m(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:a?"Verify Password Setup":"Verify Password Change"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`${a?"bg-green-500/10":"bg-yellow-500/10"} rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center`,children:r.jsx(vu,{className:`w-6 h-6 ${a?"text-green-400":"text-yellow-400"}`})}),r.jsx("p",{className:"text-white mb-2 text-sm",children:a?"We've sent a verification code to confirm your password setup:":"We've sent a verification code to confirm your password change:"}),r.jsx("p",{className:"text-xsm-yellow font-medium",children:n}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Please check your email and enter the 6-digit code below."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Verification Code"}),r.jsx("input",{type:"text",value:i,onChange:x=>{const j=x.target.value.replace(/\D/g,"").slice(0,6);l(j),f("")},className:"xsm-input w-full text-center text-lg tracking-widest py-2",placeholder:"000000",maxLength:6,autoComplete:"one-time-code"})]}),h&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:r.jsx("p",{className:"text-red-400 text-sm",children:h})}),r.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-amber-400 text-xs",children:" This verification code expires in 15 minutes."})}),a&&r.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-2",children:[r.jsx("p",{className:"text-green-400 text-xs font-semibold mb-1",children:" Setting Up Password"}),r.jsx("p",{className:"text-green-300 text-xs",children:"This will add password login as an alternative to Google sign-in."})]})]}),r.jsxs("div",{className:"flex space-x-2 mt-4",children:[r.jsx("button",{onClick:t,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Cancel"}),r.jsx("button",{onClick:w,disabled:!i||i.length!==6||d,className:"flex-1 px-3 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-xsm-black border-t-transparent"}),r.jsx("span",{children:"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(cs,{className:"w-4 h-4"}),r.jsx("span",{children:a?"Set Password":"Change Password"})]})})]})]})}):null},ZC=({onCooldownEnd:e,onCooldownStatusChange:t,className:s=""})=>{const[n,o]=u.useState(null),[a,i]=u.useState(!0),[l,d]=u.useState(null),[m,h]=u.useState(null),f=p=>{const w=new Date,j=new Date(p).getTime()-w.getTime();if(j<=0){h(null),e&&e(),t&&t(!1);return}const g=Math.floor(j/(1e3*60*60*24)),y=Math.floor(j%(1e3*60*60*24)/(1e3*60*60)),v=Math.floor(j%(1e3*60*60)/(1e3*60)),C=Math.floor(j%(1e3*60)/1e3);h({days:g,hours:y,minutes:v,seconds:C})},c=async()=>{try{i(!0),d(null);const p=await dN();o(p),t&&t(p.cooldownActive),p.cooldownActive&&p.nextAllowedDate&&f(p.nextAllowedDate)}catch(p){console.error("Failed to fetch cooldown status:",p),d(p instanceof Error?p.message:"Failed to fetch cooldown status")}finally{i(!1)}};return u.useEffect(()=>{c()},[]),u.useEffect(()=>{if(!(n!=null&&n.cooldownActive)||!n.nextAllowedDate)return;const p=setInterval(()=>{f(n.nextAllowedDate)},1e3);return()=>clearInterval(p)},[n,e]),u.useEffect(()=>{const p=setInterval(()=>{c()},6e4);return()=>clearInterval(p)},[]),a?r.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Checking email change availability..."})]}):l?r.jsxs("div",{className:`p-3 bg-red-50 border border-red-200 rounded-lg ${s}`,children:[r.jsxs("p",{className:"text-sm text-red-600",children:[" ",l]}),r.jsx("button",{onClick:c,className:"mt-2 text-xs text-red-700 hover:text-red-800 underline",children:"Retry"})]}):n!=null&&n.cooldownActive?r.jsx("div",{className:`p-4 bg-amber-50 border border-amber-200 rounded-lg ${s}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-amber-800 mb-1",children:"Email Change on Cooldown"}),r.jsx("p",{className:"text-sm text-amber-700 mb-3",children:"For security reasons, you can only change your email address once every 15 days."}),m&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-amber-600",children:"Time remaining:"}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.days}),r.jsx("div",{className:"text-xs text-amber-600",children:"Days"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.hours}),r.jsx("div",{className:"text-xs text-amber-600",children:"Hours"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.minutes}),r.jsx("div",{className:"text-xs text-amber-600",children:"Minutes"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.seconds}),r.jsx("div",{className:"text-xs text-amber-600",children:"Seconds"})]})]})]}),n.lastEmailChange&&r.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:["Last email change: ",new Date(n.lastEmailChange).toLocaleDateString()]})]})]})}):null},eE=({onCooldownEnd:e,onCooldownStatusChange:t,className:s=""})=>{const[n,o]=u.useState(null),[a,i]=u.useState(!0),[l,d]=u.useState(null),[m,h]=u.useState(null),f=p=>{const w=new Date,j=new Date(p).getTime()-w.getTime();if(j<=0){h(null),e&&e(),t&&t(!1);return}const g=Math.floor(j/(1e3*60*60)),y=Math.floor(j%(1e3*60*60)/(1e3*60)),v=Math.floor(j%(1e3*60)/1e3);h({hours:g,minutes:y,seconds:v})},c=async()=>{try{i(!0),d(null);const p=await uN();o(p),t&&t(p.cooldownActive),p.cooldownActive&&p.nextAllowedDate&&f(p.nextAllowedDate)}catch(p){console.error("Failed to fetch password cooldown status:",p),d(p instanceof Error?p.message:"Failed to fetch cooldown status")}finally{i(!1)}};return u.useEffect(()=>{c()},[]),u.useEffect(()=>{if(!(n!=null&&n.cooldownActive)||!n.nextAllowedDate)return;const p=setInterval(()=>{f(n.nextAllowedDate)},1e3);return()=>clearInterval(p)},[n,e]),u.useEffect(()=>{const p=setInterval(()=>{c()},6e4);return()=>clearInterval(p)},[]),a?r.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Checking password change availability..."})]}):l?r.jsxs("div",{className:`p-3 bg-red-50 border border-red-200 rounded-lg ${s}`,children:[r.jsxs("p",{className:"text-sm text-red-600",children:[" ",l]}),r.jsx("button",{onClick:c,className:"mt-2 text-xs text-red-700 hover:text-red-800 underline",children:"Retry"})]}):n!=null&&n.cooldownActive?r.jsx("div",{className:`p-4 bg-purple-50 border border-purple-200 rounded-lg ${s}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-purple-800 mb-1",children:"Password Change on Cooldown"}),r.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"For security reasons, you can only change your password once every 48 hours."}),m&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-purple-600",children:"Time remaining:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.hours}),r.jsx("div",{className:"text-xs text-purple-600",children:"Hours"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.minutes}),r.jsx("div",{className:"text-xs text-purple-600",children:"Minutes"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.seconds}),r.jsx("div",{className:"text-xs text-purple-600",children:"Seconds"})]})]})]}),n.lastPasswordChange&&r.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Last password change: ",new Date(n.lastPasswordChange).toLocaleDateString()," ",new Date(n.lastPasswordChange).toLocaleTimeString()]})]})]})}):null},tE=()=>"https://xsmmarket.com/api",rE=({setCurrentPage:e})=>{var te;const{user:t,isLoggedIn:s,setUser:n,setIsLoggedIn:o}=Xe(),{showSuccess:a,showError:i,showInfo:l,showWarning:d}=Eu();console.log(" Profile component state:",{user:t,isLoggedIn:s,token:localStorage.getItem("token")?"exists":"missing",userData:localStorage.getItem("userData")});const[h,f]=u.useState(!1),[c,p]=u.useState(!1),[w,x]=u.useState(!1),[j,g]=u.useState("username"),[y,v]=u.useState({username:"",email:""}),[C,S]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,N]=u.useState(!1),[b,E]=u.useState(""),[_,D]=u.useState(""),[O,V]=u.useState(!1),[$,W]=u.useState(!1),[H,F]=u.useState(""),[T,A]=u.useState(""),[M,L]=u.useState(!1),[B,P]=u.useState(!1);u.useState(!1);const[z,U]=u.useState({username:"",email:"",profilePicture:"",description:""});u.useState([{id:"1",name:"TechReview Pro",category:"Tech",subscribers:15e4,price:15e3,status:"Active",views:245,inquiries:8},{id:"2",name:"Gaming World HD",category:"Gaming",subscribers:89e3,price:8500,status:"Pending Review",views:123,inquiries:3}]);const[R,I]=u.useState({username:(t==null?void 0:t.username)||"ChannelTrader2024",email:(t==null?void 0:t.email)||"user@example.com",joinDate:(t==null?void 0:t.joinDate)||"2025-01-15",profilePicture:(t==null?void 0:t.profilePicture)||"",description:(t==null?void 0:t.description)||""});if(u.useEffect(()=>{t&&(console.log(" User data in Profile component:",{user:t,authProvider:t==null?void 0:t.authProvider,keys:Object.keys(t),description:t.description}),I(K=>({...K,username:t.username,email:t.email,profilePicture:t.profilePicture||"",description:t.description||"",joinDate:(t==null?void 0:t.joinDate)||K.joinDate})),console.log(" Updated profile state with description:",t.description))},[t]),u.useEffect(()=>{s||e("login")},[s,e]),u.useEffect(()=>{(async()=>{if(s&&t)try{console.log(" Fetching fresh profile data...");const G=await nN();console.log(" Fresh profile data:",G),n({...G,id:String(G.id)}),I({username:G.username,email:G.email,profilePicture:G.profilePicture||"",description:G.description||"",joinDate:(G==null?void 0:G.joinDate)||"2025-01-15"}),console.log(" Profile state updated with fresh data:",{description:G.description,username:G.username})}catch(G){console.error(" Failed to fetch fresh profile data:",G)}})()},[s]),s&&!t){if(localStorage.getItem("token")){console.log(" Creating default user data since token exists but no user data found");const G={id:"temp-user-id",username:"User",email:"user@example.com",profilePicture:""};return localStorage.setItem("userData",JSON.stringify(G)),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow",children:"My Profile"})}),r.jsx("p",{className:"text-xl text-white",children:"Profile loaded with default data (please refresh to see your actual data)"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"xsm-card text-center mb-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center overflow-hidden",children:r.jsx("div",{className:"w-full h-full bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(jt,{className:"w-12 h-12 text-xsm-black"})})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:G.username}),r.jsxs("p",{className:"text-xsm-light-gray mb-1",children:["@",G.username]}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:G.email}),r.jsx("div",{className:"text-xs text-yellow-400 bg-yellow-500/10 rounded-full px-3 py-1 inline-block",children:" Default profile data - please login again for actual data"})]})}),r.jsx("div",{className:"lg:col-span-2 space-y-8",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-6",children:"Profile Status"}),r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-4",children:[r.jsx("p",{className:"text-white mb-4",children:"You are logged in, but we couldn't load your profile data. This might happen if:"}),r.jsxs("ul",{className:"text-xsm-light-gray list-disc pl-6 space-y-2",children:[r.jsx("li",{children:"You refreshed the page after logging in"}),r.jsx("li",{children:"Your session data was cleared"}),r.jsx("li",{children:"There was a temporary connection issue"})]}),r.jsxs("div",{className:"mt-4 space-x-4",children:[r.jsx("button",{onClick:()=>e("login"),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-4 py-2 rounded-lg font-semibold transition-colors",children:"Login Again"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Refresh Page"})]})]})]})})]})]})})}return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-xsm-yellow border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white text-xl",children:"Loading profile..."})]})})}if(!s)return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Log In"}),r.jsx("p",{className:"text-xsm-light-gray mb-6",children:"You need to be logged in to view your profile."}),r.jsx("button",{onClick:()=>e("login"),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-6 py-3 rounded-lg font-semibold transition-colors",children:"Go to Login"})]})});const X=async K=>{var he;const G=(he=K.target.files)==null?void 0:he[0];if(G){if(G.size>5*1024*1024){i("File too large","File size must be less than 5MB");return}if(!G.type.startsWith("image/")){i("Invalid file type","Please select an image file");return}const Te=new FileReader;Te.onload=async at=>{var Wt;const Re=(Wt=at.target)==null?void 0:Wt.result;try{console.log(" Updating profile picture...");const At=await zl({profilePicture:Re});console.log(" Profile picture updated successfully:",At),n({...At,id:String(At.id)}),I(Se=>({...Se,profilePicture:At.profilePicture||""})),U(Se=>({...Se,profilePicture:At.profilePicture||""})),a("Profile picture updated","Your profile picture has been updated successfully!")}catch(At){console.error(" Failed to update profile picture:",At),i("Update failed","Failed to update profile picture. Please try again.")}},Te.readAsDataURL(G)}},Q=async()=>{if(t){p(!0);try{const K={};if(z.username!==t.username&&(K.username=z.username),z.description!==R.description&&(K.description=z.description),Object.keys(K).length>0){console.log(" Updating profile with data:",K);const G=await zl(K);console.log(" Profile updated successfully:",G),n({...G,id:String(G.id)}),I(he=>({...he,username:G.username,description:G.description||""})),U(he=>({...he,username:G.username,description:G.description||""})),a("Profile updated","Your profile has been updated successfully!")}else l("No changes","No changes were made to save.");f(!1)}catch(K){console.error(" Failed to update profile:",K);let G="Failed to update profile. Please try again.";K instanceof Error&&(K.message.includes("Username is already taken")?G="Username is already taken. Please choose a different one.":K.message.includes("Username must be between")?G="Username must be between 3 and 50 characters.":K.message.includes("Username can only contain")?G="Username can only contain letters, numbers, and underscores.":G=K.message),i("Update failed",G)}finally{p(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:[r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"xsm-card text-center mb-6",children:[r.jsxs("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-green-400 animate-pulse"}),r.jsx("div",{className:"w-[90px] h-[90px] rounded-full overflow-hidden relative",children:(h?z.profilePicture:R.profilePicture)?r.jsx("img",{src:h?z.profilePicture:R.profilePicture,alt:R.username,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(jt,{className:"w-12 h-12 text-xsm-black"})})}),r.jsxs("div",{className:"absolute bottom-0 right-0 bg-xsm-yellow hover:bg-yellow-500 rounded-full p-1.5 cursor-pointer transition-colors group",children:[r.jsx(t1,{className:"w-4 h-4 text-xsm-black"}),r.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"Change profile picture"})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:R.username}),r.jsxs("p",{className:"text-xsm-light-gray mb-1",children:["@",R.username]}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:R.email}),r.jsxs("div",{className:"text-xs text-green-400 flex items-center justify-center gap-1 mb-4",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Active now"})]}),t&&r.jsx("div",{className:"text-xs text-green-400 bg-green-500/10 rounded-full px-3 py-1 inline-block",children:" Showing your real account data"})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow",children:"Profile Information"}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:()=>{l("Feature coming soon","Pin Your Listing feature will be available soon!")},className:"xsm-button-secondary flex items-center space-x-2 text-sm",children:[r.jsx(lg,{className:"w-4 h-4"}),r.jsx("span",{children:"Pin Your Listing"})]}),r.jsxs("button",{onClick:()=>{l("Feature coming soon","Get Membership feature will be available soon!")},className:"xsm-button-secondary flex items-center space-x-2 text-sm",children:[r.jsx(l1,{className:"w-4 h-4"}),r.jsx("span",{children:"Get Membership"})]}),r.jsxs("button",{onClick:()=>{x(!0),g("username"),v({username:R.username,email:R.email}),S({currentPassword:"",newPassword:"",confirmPassword:""})},className:"xsm-button-secondary flex items-center space-x-2 text-sm",children:[r.jsx(cg,{className:"w-4 h-4"}),r.jsx("span",{children:"Settings"})]})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("label",{className:"block text-white font-medium text-lg",children:"Profile Bio / Description"}),h?r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:Q,disabled:c,className:`xsm-button flex items-center space-x-2 text-sm ${c?"opacity-50 cursor-not-allowed":""}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Kc,{className:"w-4 h-4"}),r.jsx("span",{children:"Save"})]})}),r.jsxs("button",{onClick:()=>{f(!1),U({username:R.username,email:R.email,profilePicture:R.profilePicture,description:R.description})},disabled:c,className:"xsm-button-secondary flex items-center space-x-2 text-sm",children:[r.jsx(Ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]}):r.jsxs("button",{onClick:()=>{f(!0),U({username:R.username,email:R.email,profilePicture:R.profilePicture,description:R.description})},className:"xsm-button-secondary flex items-center space-x-2 text-sm",children:[r.jsx(dg,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),r.jsx("textarea",{value:h?z.description:R.description,onChange:K=>U({...z,description:K.target.value}),disabled:!h,className:`xsm-input w-full min-h-[120px] resize-y ${h?"":"opacity-60"}`,placeholder:"Tell others about yourself...",maxLength:500}),h&&r.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[((te=z.description)==null?void 0:te.length)||0,"/500 characters"]})]})})]}),r.jsx("div",{className:"xsm-card",children:r.jsx(XC,{})})]})]})}),w&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:"Settings"}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex space-x-1 mb-4 bg-xsm-black/50 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>{g("username"),v({...y,username:R.username})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${j==="username"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Username"}),r.jsx("button",{onClick:()=>{g("email"),v({...y,email:R.email})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${j==="email"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Email"}),r.jsx("button",{onClick:()=>{g("password"),S({currentPassword:"",newPassword:"",confirmPassword:""})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${j==="password"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Password"})]}),r.jsxs("div",{className:"min-h-[180px]",children:[j==="username"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Current Username"}),r.jsx("input",{type:"text",value:R.username,disabled:!0,className:"xsm-input w-full opacity-60 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"New Username"}),r.jsx("input",{type:"text",value:y.username,onChange:K=>v({...y,username:K.target.value}),className:"xsm-input w-full",placeholder:"Enter new username (3-50 chars, letters, numbers, underscores only)"})]}),r.jsx("div",{className:"text-sm text-gray-400",children:"Username must be 3-50 characters long and can only contain letters, numbers, and underscores."})]}),j==="email"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(ZC,{onCooldownEnd:()=>V(!1),onCooldownStatusChange:V,className:"mb-2"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Current Email"}),r.jsx("input",{type:"email",value:R.email,disabled:!0,className:"xsm-input w-full opacity-60 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"New Email"}),r.jsx("input",{type:"email",value:y.email,onChange:K=>v({...y,email:K.target.value}),disabled:O,className:`xsm-input w-full text-sm ${O?"opacity-50 cursor-not-allowed":""}`,placeholder:O?"Email change is on cooldown":"Enter new email address"})]}),r.jsx("div",{className:"text-sm text-gray-400",children:O?"You must wait 15 days between email changes for security reasons.":"You will need to verify your new email address before the change takes effect."})]}),j==="password"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(eE,{onCooldownEnd:()=>P(!1),onCooldownStatusChange:P,className:"mb-2"}),(t==null?void 0:t.authProvider)==="google"&&r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 mb-3",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-1 text-sm",children:"Google Account"}),r.jsx("p",{className:"text-white text-xs mb-1",children:"You signed in with Google. You can set a password to enable email/password login as an alternative to Google sign-in."}),r.jsx("p",{className:"text-xsm-light-gray text-xs",children:"Setting a password won't affect your Google sign-in - you'll be able to use both methods."})]}),(t==null?void 0:t.authProvider)!=="google"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Current Password"}),r.jsx("input",{type:"password",value:C.currentPassword,onChange:K=>S({...C,currentPassword:K.target.value}),disabled:B,className:`xsm-input w-full text-sm ${B?"opacity-50 cursor-not-allowed":""}`,placeholder:B?"Password change is on cooldown":"Enter current password",autoComplete:"current-password"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:((t==null?void 0:t.authProvider)==="google","New Password")}),r.jsx("input",{type:"password",value:C.newPassword,onChange:K=>S({...C,newPassword:K.target.value}),disabled:B,className:`xsm-input w-full ${B?"opacity-50 cursor-not-allowed":""}`,placeholder:B?"Password change is on cooldown":(t==null?void 0:t.authProvider)==="google"?"Enter a password (min 6 characters)":"Enter new password",autoComplete:"new-password"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Confirm Password"}),r.jsx("input",{type:"password",value:C.confirmPassword,onChange:K=>S({...C,confirmPassword:K.target.value}),disabled:B,className:`xsm-input w-full ${B?"opacity-50 cursor-not-allowed":""}`,placeholder:B?"Password change is on cooldown":"Confirm new password",autoComplete:"new-password"})]}),r.jsx("div",{className:"text-sm text-gray-400",children:B?"You must wait 48 hours between password changes for security reasons.":"Password must be at least 6 characters long."})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:async()=>{try{if(p(!0),j==="username"){if(y.username===R.username){l("No changes","Username is the same as current. No changes to save.");return}if(y.username.length<3||y.username.length>50){i("Invalid username","Username must be between 3 and 50 characters.");return}if(!/^[a-zA-Z0-9_]+$/.test(y.username)){i("Invalid characters","Username can only contain letters, numbers, and underscores.");return}const K=await zl({username:y.username});I(G=>({...G,username:K.username})),n({...K,id:String(K.id)}),a("Username updated","Your username has been updated successfully!")}else if(j==="email"){if(O){d("Email change on cooldown","Please wait for the cooldown period to end before changing your email again.");return}if(y.email===R.email){l("No changes","Email is the same as current. No changes to save.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)){i("Invalid email","Please enter a valid email address.");return}const K=await oN(y.email);D(K.pendingEmail),E(K.verificationToken||"temp-token"),N(!0),x(!1),a("Verification email sent","Please check your current email address for the verification code.")}else if(j==="password"){if(B){d("Password change on cooldown","Please wait for the cooldown period to end before changing your password again.");return}if(C.newPassword!==C.confirmPassword){i("Password mismatch","New passwords do not match!");return}if(!C.newPassword){i("Missing password","Please enter a new password!");return}if(C.newPassword.length<6){i("Password too short","New password must be at least 6 characters long!");return}const K=localStorage.getItem("token"),G=await fetch(`${tE()}/user/profile`,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(!G.ok)throw new Error("Failed to fetch user profile");const Te=(await G.json()).user,at=(Te==null?void 0:Te.authProvider)==="google";if(!at&&!C.currentPassword){i("Current password required","Please enter your current password!");return}const Re=await lN(at?"":C.currentPassword,C.newPassword);A(Re.email),F(Re.verificationToken),L(Re.isGoogleUser),W(!0),x(!1),a("Verification email sent","Please check your email for the verification code.")}x(!1)}catch(K){console.error(" Failed to update settings:",K);let G="Failed to update settings. Please try again.";j==="password"&&K instanceof Error?K.message.includes("Current password is incorrect")?G="Current password is incorrect.":K.message.includes("must be at least 6 characters")?G="New password must be at least 6 characters long.":K.message.includes('Google OAuth. Please use "Sign in with Google"')?G='This account was created with Google OAuth. Please use "Sign in with Google" instead. To set a password for email login, leave the current password field empty.':K.message.includes("Google account users don't have a current password")?G="For Google accounts, leave current password empty to set a new password.":G=K.message:K instanceof Error&&(G=K.message),i("Update failed",G)}finally{p(!1)}},disabled:c||j==="email"&&O||j==="password"&&B,className:`xsm-button flex items-center space-x-2 ${c||j==="email"&&O||j==="password"&&B?"opacity-50 cursor-not-allowed":""}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:j==="password"?(t==null?void 0:t.authProvider)==="google"?"Setting Password...":"Changing Password...":"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Kc,{className:"w-4 h-4"}),r.jsx("span",{children:j==="password"?(t==null?void 0:t.authProvider)==="google"?"Set Password":"Change Password":"Save Changes"})]})}),r.jsxs("button",{onClick:()=>x(!1),disabled:c,className:"xsm-button-secondary flex items-center space-x-2",children:[r.jsx(Ee,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]})]})}),r.jsx(QC,{isOpen:k,onClose:()=>N(!1),onSuccess:K=>{I(G=>({...G,email:K})),n(G=>G&&{...G,email:K}),v(G=>({...G,email:K})),D(""),E("")},currentEmail:(t==null?void 0:t.email)||"",newEmail:_,verificationToken:b}),r.jsx(JC,{isOpen:$,onClose:()=>W(!1),onSuccess:()=>{S({currentPassword:"",newPassword:"",confirmPassword:""}),A(""),F("")},email:T,verificationToken:H,isGoogleUser:M})]})},sE=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-xsm-yellow mb-6",children:"About XSM Market"}),r.jsx("p",{className:"text-xl md:text-2xl text-white max-w-4xl mx-auto leading-relaxed",children:"The world's most trusted marketplace for buying and selling YouTube channels. We connect content creators with investors through secure, escrow-protected transactions."})]}),r.jsxs("div",{className:"xsm-card mb-16 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-6",children:"Our Mission"}),r.jsx("p",{className:"text-lg text-white leading-relaxed max-w-4xl mx-auto",children:"To revolutionize the digital asset marketplace by providing a secure, transparent, and efficient platform for YouTube channel trading. We believe in empowering creators to monetize their hard work while helping investors discover profitable opportunities in the creator economy."})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"Why Choose XSM Market?"}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(mt,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Secure Escrow"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Every transaction is protected by our escrow service. Funds are held securely until the channel transfer is complete and verified."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(ln,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Verified Sellers"}),r.jsx("p",{className:"text-xsm-light-gray",children:"All sellers go through our verification process. We validate channel ownership and performance metrics before listings go live."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(ju,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Instant Transfers"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our streamlined process ensures quick channel transfers. Most transactions are completed within 24-48 hours."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(e1,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Premium Support"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our expert team provides 24/7 support throughout the entire transaction process, ensuring smooth deals for both parties."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(ho,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Market Analytics"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Access comprehensive analytics and market insights to make informed decisions about channel valuations and investments."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(vu,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Privacy Protection"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Your personal information and transaction details are protected with enterprise-grade security and encryption."})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"How It Works"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"For Sellers"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"List Your Channel"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Submit your channel details and analytics for review"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Verification Process"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Our team verifies your channel ownership and metrics"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Go Live"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Your channel appears on our marketplace for buyers"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Secure Sale"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Complete the sale through our escrow system"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"For Buyers"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Browse Channels"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Explore verified channels using our advanced filters"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Due Diligence"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Review analytics, contact sellers, and ask questions"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Initiate Purchase"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Pay the escrow fee to start the secure transaction process"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Receive Channel"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Get full ownership once the transfer is verified"})]})]})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"Our Impact"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"$2.5M+"}),r.jsx("div",{className:"text-white font-medium",children:"Total Transactions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"500+"}),r.jsx("div",{className:"text-white font-medium",children:"Channels Sold"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"1,200+"}),r.jsx("div",{className:"text-white font-medium",children:"Happy Users"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"99.8%"}),r.jsx("div",{className:"text-white font-medium",children:"Success Rate"})]})]})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-8",children:"Our Values"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Transparency"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We believe in clear communication and honest dealings. All fees, processes, and policies are transparent."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Security"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Your safety is our priority. We use industry-leading security measures to protect your transactions."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Innovation"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We continuously improve our platform with cutting-edge technology and user feedback."})]})]})]})]})}),nE=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Terms and Conditions"}),r.jsx("p",{className:"text-xl text-white",children:"Please read these terms carefully before using XSM Market"}),r.jsx("div",{className:"text-sm text-xsm-light-gray mt-4",children:"Last updated: June 26, 2025"})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(lr,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Introduction"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:'Welcome to XSM Market ("we," "our," or "us"). These Terms and Conditions ("Terms") govern your use of our website and services for buying and selling YouTube channels.'}),r.jsx("p",{children:"By accessing or using our platform, you agree to be bound by these Terms. If you disagree with any part of these terms, you may not access our service."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Service Description"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"XSM Market is a marketplace platform that facilitates the buying and selling of YouTube channels between users. We provide:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"A platform for listing YouTube channels for sale"}),r.jsx("li",{children:"Escrow services to secure transactions"}),r.jsx("li",{children:"Verification services for channel authenticity"}),r.jsx("li",{children:"Communication tools between buyers and sellers"}),r.jsx("li",{children:"Transaction facilitation and support"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"User Responsibilities"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"For Sellers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"You must own the YouTube channel you're selling"}),r.jsx("li",{children:"Provide accurate and truthful information about your channel"}),r.jsx("li",{children:"Ensure compliance with YouTube's Terms of Service"}),r.jsx("li",{children:"Transfer full ownership rights upon completion of sale"}),r.jsx("li",{children:"Cooperate with our verification process"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"For Buyers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Conduct due diligence before purchasing"}),r.jsx("li",{children:"Pay all required fees and charges"}),r.jsx("li",{children:"Comply with YouTube's Terms of Service post-purchase"}),r.jsx("li",{children:"Use our escrow system for all transactions"}),r.jsx("li",{children:"Report any issues promptly to our support team"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Transaction Process"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Escrow Process"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Buyer pays 7.5% admin fee to initiate transaction"}),r.jsx("li",{children:"Seller transfers channel ownership to XSM Market"}),r.jsx("li",{children:"XSM Market verifies channel transfer and ownership"}),r.jsx("li",{children:"Buyer pays remaining amount to seller"}),r.jsx("li",{children:"XSM Market transfers channel to buyer"}),r.jsx("li",{children:"Transaction is completed and rated"})]})]}),r.jsx("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(zs,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-white font-semibold mb-1",children:"Important:"}),r.jsx("p",{className:"text-xsm-light-gray",children:"All transactions must go through our escrow system. Direct payments between users are prohibited and not protected."})]})]})})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Fees and Payments"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Fee Structure"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Admin fee: 7.5% of transaction value (paid by buyer to initiate)"}),r.jsx("li",{children:"Listing fee: Free for basic listings, premium options available"}),r.jsx("li",{children:"Payment processing fees as applicable"}),r.jsx("li",{children:"All fees are non-refundable unless transaction fails due to our error"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Payment Methods"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We accept major credit cards, PayPal, and bank transfers. All payments are processed securely through encrypted channels."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Prohibited Activities"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Users are strictly prohibited from:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Selling channels you don't own or have rights to"}),r.jsx("li",{children:"Providing false or misleading information"}),r.jsx("li",{children:"Bypassing our escrow system"}),r.jsx("li",{children:"Harassing other users"}),r.jsx("li",{children:"Engaging in fraudulent activities"}),r.jsx("li",{children:"Violating YouTube's Terms of Service"}),r.jsx("li",{children:"Creating multiple accounts to circumvent restrictions"}),r.jsx("li",{children:"Attempting to manipulate ratings or reviews"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(p1,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Dispute Resolution"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"In case of disputes between buyers and sellers, XSM Market will act as a mediator. Our decision in disputes is final and binding."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Dispute Process"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Report the issue through our support system"}),r.jsx("li",{children:"Provide all relevant documentation and evidence"}),r.jsx("li",{children:"Our team will investigate within 48 hours"}),r.jsx("li",{children:"Both parties will be contacted for statements"}),r.jsx("li",{children:"A resolution will be provided within 5 business days"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(mt,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Liability and Warranties"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Disclaimers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:'We provide the platform "as is" without warranties'}),r.jsx("li",{children:"We don't guarantee channel performance post-sale"}),r.jsx("li",{children:"Users are responsible for compliance with YouTube policies"}),r.jsx("li",{children:"We're not liable for indirect or consequential damages"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Limitation of Liability"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our total liability for any claims related to the service shall not exceed the total fees paid by you in the 12 months preceding the claim."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Privacy and Data Protection"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Your privacy is important to us. We collect and use your information as described in our Privacy Policy. By using our service, you consent to the collection and use of your information in accordance with our Privacy Policy."}),r.jsx("p",{className:"text-xsm-light-gray",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Account Termination"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time for violation of these Terms or for any other reason we deem appropriate."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Reasons for Termination"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Violation of Terms and Conditions"}),r.jsx("li",{children:"Fraudulent or illegal activities"}),r.jsx("li",{children:"Repeated policy violations"}),r.jsx("li",{children:"Non-payment of fees"}),r.jsx("li",{children:"Harassment of other users"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Changes to Terms"}),r.jsx("div",{className:"text-white space-y-4",children:r.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of significant changes via email or platform notification. Continued use of the service after changes constitutes acceptance of the new terms."})})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"If you have any questions about these Terms and Conditions, please contact us:"}),r.jsxs("div",{className:"text-xsm-light-gray",children:[r.jsx("p",{children:"Email: legal@xsmmarket.com"}),r.jsx("p",{children:"Phone: +1 (555) 123-4567"}),r.jsx("p",{children:"Address: 123 Digital Ave, Tech City, TC 12345, United States"})]})]})]})]})]})}),oE=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"text-xl text-white",children:"Your privacy is our priority. Learn how we collect, use, and protect your information."}),r.jsx("div",{className:"text-sm text-xsm-light-gray mt-4",children:"Last updated: June 26, 2025"})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(mt,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Introduction"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:'XSM Market ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and services.'}),r.jsx("p",{children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(c1,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Information We Collect"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Personal Information"}),r.jsx("p",{className:"text-xsm-light-gray mb-3",children:"We may collect personally identifiable information that you voluntarily provide to us when you:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Register for an account"}),r.jsx("li",{children:"List a YouTube channel for sale"}),r.jsx("li",{children:"Make a purchase"}),r.jsx("li",{children:"Contact our support team"}),r.jsx("li",{children:"Subscribe to our newsletter"}),r.jsx("li",{children:"Participate in surveys or promotions"})]}),r.jsxs("div",{className:"mt-4 bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-white font-semibold mb-2",children:"This may include:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-xsm-light-gray",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Name and contact information"}),r.jsx("li",{children:"Email address and phone number"}),r.jsx("li",{children:"Billing and payment information"}),r.jsx("li",{children:"Account credentials"})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"YouTube channel information"}),r.jsx("li",{children:"Transaction history"}),r.jsx("li",{children:"Communication records"}),r.jsx("li",{children:"Profile preferences"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Automatically Collected Information"}),r.jsx("p",{className:"text-xsm-light-gray mb-3",children:"When you visit our website, we may automatically collect certain information about your device and usage patterns:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"IP address and location data"}),r.jsx("li",{children:"Browser type and version"}),r.jsx("li",{children:"Operating system information"}),r.jsx("li",{children:"Pages visited and time spent on site"}),r.jsx("li",{children:"Referring website information"}),r.jsx("li",{children:"Cookies and tracking technologies"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(_t,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"How We Use Your Information"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We use the information we collect for the following purposes:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Service Provision"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Create and manage user accounts"}),r.jsx("li",{children:"Process transactions and payments"}),r.jsx("li",{children:"Facilitate channel transfers"}),r.jsx("li",{children:"Provide customer support"}),r.jsx("li",{children:"Verify user identity and prevent fraud"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Platform Improvement"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Analyze usage patterns and trends"}),r.jsx("li",{children:"Improve website functionality"}),r.jsx("li",{children:"Develop new features and services"}),r.jsx("li",{children:"Conduct research and analytics"}),r.jsx("li",{children:"Optimize user experience"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Communication"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Send transaction notifications"}),r.jsx("li",{children:"Provide account updates"}),r.jsx("li",{children:"Share promotional content (with consent)"}),r.jsx("li",{children:"Respond to inquiries and support requests"}),r.jsx("li",{children:"Send security alerts"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Legal Compliance"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Comply with legal obligations"}),r.jsx("li",{children:"Enforce our Terms of Service"}),r.jsx("li",{children:"Investigate suspected violations"}),r.jsx("li",{children:"Cooperate with law enforcement"}),r.jsx("li",{children:"Protect our rights and interests"})]})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(ln,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Information Sharing and Disclosure"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We do not sell, rent, or trade your personal information to third parties. However, we may share your information in the following circumstances:"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Service Providers"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our platform, such as payment processors, hosting providers, and analytics services."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Legal Requirements"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may disclose information when required by law, court order, or government regulation, or when we believe disclosure is necessary to protect our rights or comply with legal obligations."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Business Transfers"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the business transaction."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"User Consent"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may share information with your explicit consent or at your direction, such as when you choose to share information with other users through our platform."})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(vu,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Data Security"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Security Measures Include:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"SSL/TLS encryption for data transmission"}),r.jsx("li",{children:"Encrypted storage of sensitive information"}),r.jsx("li",{children:"Regular security audits and assessments"}),r.jsx("li",{children:"Access controls and authentication systems"})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Employee training on data protection"}),r.jsx("li",{children:"Incident response and breach notification procedures"}),r.jsx("li",{children:"Regular software updates and patches"}),r.jsx("li",{children:"Third-party security certifications"})]})]})]}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ys,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-white font-semibold mb-1",children:"Important Note:"}),r.jsx("p",{className:"text-xsm-light-gray",children:"While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security but are committed to protecting your data using industry best practices."})]})]})})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Your Rights and Choices"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"You have certain rights regarding your personal information:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Access and Portability"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Request access to your personal data"}),r.jsx("li",{children:"Obtain a copy of your information"}),r.jsx("li",{children:"Request data portability"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Correction and Deletion"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Correct inaccurate information"}),r.jsx("li",{children:"Request deletion of your data"}),r.jsx("li",{children:"Withdraw consent for processing"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Communication Preferences"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Opt-out of marketing communications"}),r.jsx("li",{children:"Choose notification preferences"}),r.jsx("li",{children:"Update contact information"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Account Management"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Update account settings"}),r.jsx("li",{children:"Delete your account"}),r.jsx("li",{children:"Control privacy settings"})]})]})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 mt-6",children:[r.jsx("p",{className:"text-sm text-white font-semibold mb-2",children:"To exercise your rights:"}),r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Contact us at privacy@xsmmarket.com or through your account settings. We will respond to your request within 30 days."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Cookies and Tracking Technologies"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We use cookies and similar tracking technologies to enhance your browsing experience and collect information about how you use our website."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Types of Cookies We Use:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Essential Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Required for basic website functionality and security"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Analytics Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Help us understand how visitors interact with our website"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Functional Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Remember your preferences and provide enhanced features"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Marketing Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Used to deliver relevant advertisements (with your consent)"})]})]})]}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"You can control cookie preferences through your browser settings. However, disabling certain cookies may affect website functionality."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Data Retention"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We retain your personal information only as long as necessary to fulfill the purposes outlined in this privacy policy, unless a longer retention period is required by law."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retention Periods:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm ml-4",children:[r.jsx("li",{children:"Account information: Until account deletion or 3 years of inactivity"}),r.jsx("li",{children:"Transaction records: 7 years for legal and tax purposes"}),r.jsx("li",{children:"Communication logs: 2 years from last contact"}),r.jsx("li",{children:"Analytics data: 2 years in anonymized form"}),r.jsx("li",{children:"Legal compliance data: As required by applicable law"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"International Data Transfers"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this privacy policy."}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We comply with applicable data protection laws regarding international transfers, including implementing standard contractual clauses and ensuring adequate levels of protection."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Children's Privacy"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Our service is not directed to children under the age of 13. We do not knowingly collect personal information from children under 13. If we discover that a child under 13 has provided us with personal information, we will delete such information immediately."}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Changes to This Privacy Policy"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We may update this privacy policy from time to time to reflect changes in our practices or for legal, operational, or regulatory reasons. We will notify you of any material changes by:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm ml-4",children:[r.jsx("li",{children:"Posting the updated policy on our website"}),r.jsx("li",{children:"Sending email notifications to registered users"}),r.jsx("li",{children:"Displaying prominent notices on our platform"})]}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Your continued use of our service after the effective date of the revised policy constitutes acceptance of the changes."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"If you have any questions, concerns, or requests regarding this privacy policy or our data practices, please contact us:"}),r.jsx("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:r.jsxs("div",{className:"text-xsm-light-gray space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Email:"})," privacy@xsmmarket.com"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Phone:"})," +1 (555) 123-4567"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Mail:"})," XSM Market Privacy Team",r.jsx("br",{}),"123 Digital Ave",r.jsx("br",{}),"Tech City, TC 12345",r.jsx("br",{}),"United States"]})]})}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We will respond to your inquiry within 30 days and work with you to resolve any privacy-related concerns."})]})]})]})]})}),ff=({setCurrentPage:e})=>{const[t,s]=u.useState(""),[n,o]=u.useState(""),[a,i]=u.useState(""),[l,d]=u.useState(!1),[m,h]=u.useState(!1),[f,c]=u.useState(null),p=u.useRef(null),{toast:w}=gt(),{setIsLoggedIn:x,setUser:j}=Xe(),g=k=>{c(k)},y=()=>{p.current&&p.current.reset(),c(null)},v=async k=>{if(k.preventDefault(),i(""),d(!0),!f){i("Please complete the reCAPTCHA verification"),w({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"}),d(!1);return}console.log(" Starting login process...");try{const N=await jg(t,n,f);if(console.log(" Login response:",N),N.requiresVerification){console.log(" Email verification required, navigating to OTP screen"),localStorage.setItem("pendingVerificationEmail",N.email||t),w({variant:"destructive",title:"Email Verification Required",description:"Please verify your email using the OTP sent to your inbox."}),e("email-verify"),d(!1);return}if(N.authProvider==="google"){console.log(" Google OAuth account detected"),i('This account was created with Google OAuth. Please use "Sign in with Google" instead.'),w({variant:"destructive",title:"Account Created with Google",description:"This account was created with Google OAuth. Please use 'Sign in with Google' instead."}),d(!1);return}if(N.user)console.log(" Login successful, setting auth state..."),x(!0),j(N.user),w({title:"Success!",description:"You have successfully logged in."}),console.log(" Redirecting to home page..."),e("home");else throw new Error("Login succeeded but user data is missing")}catch(N){y(),console.error(" Login error:",N);const b=N instanceof Error?N.message:"Failed to login";b.includes("verify your email")?(localStorage.setItem("pendingVerificationEmail",t),w({variant:"destructive",title:"Email Verification Required",description:"Please verify your email using the OTP sent to your inbox."}),e("email-verify")):(i(b),w({variant:"destructive",title:"Login Failed",description:b}))}finally{d(!1)}},C=async k=>{console.log("Google Sign-In Success:",k),d(!0),i("");try{if(!k.credential)throw new Error("No credential received from Google");const N=await Cu(k.credential);if(N.user)x(!0),j(N.user),w({title:"Success!",description:`Welcome ${N.user.username}! You have successfully signed in with Google.`}),e("home");else throw new Error("Google sign-in succeeded but user data is missing")}catch(N){console.error("Google Sign-In Error:",N),i(N instanceof Error?N.message:"Failed to sign in with Google"),w({variant:"destructive",title:"Error",description:N instanceof Error?N.message:"Failed to sign in with Google"})}finally{d(!1)}},S=()=>{console.error("Google Sign-In Error: Authentication failed or was cancelled"),i("Google sign-in was cancelled or failed"),w({variant:"destructive",title:"Error",description:"Google sign-in was cancelled or failed"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-xsm-black py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs(gr,{className:"w-full max-w-md space-y-8 bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(us,{children:r.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-xsm-yellow",children:"Sign in to your account"})}),r.jsxs(ms,{children:[a&&r.jsx(St,{variant:"destructive",className:"mb-6",children:r.jsx(Ct,{children:a})}),r.jsxs("form",{className:"space-y-6",onSubmit:v,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email address"}),r.jsx(rt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:k=>s(k.target.value),className:"mt-1",placeholder:"Enter your email",disabled:l})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(rt,{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:k=>o(k.target.value),className:"mt-1 pr-10",placeholder:"Enter your password",disabled:l}),r.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:l,children:m?r.jsx(mo,{className:"h-4 w-4"}):r.jsx(_t,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>e("forgot-password"),className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",disabled:l,children:"Forgot your password?"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Yu,{ref:p,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:g,theme:"dark"})}),r.jsx("div",{children:r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:l||!f,children:l?"Signing in...":"Sign in"})}),a&&a.includes("verify your email")&&r.jsx("div",{children:r.jsx($e,{type:"button",variant:"outline",className:"w-full border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>e("email-verify"),disabled:l,children:"Verify Email Now"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(zu,{onSuccess:C,onError:S,useOneTap:!1,theme:"filled_black",size:"large",text:"signin_with",shape:"rectangular",width:"100%"})})]})]}),r.jsx(Uu,{className:"text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>{console.log("Signup button clicked, navigating to signup page"),e("signup")},className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:l,children:"Sign up"})]})})]})})},aE=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),iE=({setCurrentPage:e})=>{const[t,s]=u.useState(""),[n,o]=u.useState(""),[a,i]=u.useState(""),[l,d]=u.useState(""),[m,h]=u.useState(""),[f,c]=u.useState(!1),[p,w]=u.useState(!1),[x,j]=u.useState(""),[g,y]=u.useState(!1),[v,C]=u.useState(!1),[S,k]=u.useState(null),N=u.useRef(null),{toast:b}=gt(),{setIsLoggedIn:E,setUser:_}=Xe(),D=T=>{k(T)},O=()=>{N.current&&N.current.reset(),k(null)},V=async T=>{if(T.preventDefault(),console.log("Signup form submitted"),h(""),!S){h("Please complete the reCAPTCHA verification"),b({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"});return}if(!l||!t||!n||!a){const A="Username, email, password, and confirm password are required";h(A),b({variant:"destructive",title:"Error",description:A});return}if(!aE(t)){const A="Please enter a valid email address";h(A),b({variant:"destructive",title:"Error",description:A});return}if(l.length<3){const A="Username must be at least 3 characters long";h(A),b({variant:"destructive",title:"Error",description:A});return}if(n!==a){h("Passwords don't match"),b({variant:"destructive",title:"Error",description:"Passwords don't match"});return}if(n.length<6){h("Password must be at least 6 characters long"),b({variant:"destructive",title:"Error",description:"Password must be at least 6 characters long"});return}c(!0),console.log("Attempting to register user:",{username:l,email:t});try{console.log("Sending registration request to backend...");const A=await Ng(l,t,n,S);console.log("Registration response:",A),A&&A.requiresVerification?(j(t),w(!0),b({title:"Registration Successful!",description:"Please check your email for verification code."})):A&&A.user?(_(A.user),E(!0),b({title:"Account Created!",description:`Welcome to XSM Market, ${A.user.username}!`}),setTimeout(()=>{e("home")},2e3)):(b({title:"Success with Warning",description:"Account created but user data incomplete. Please try logging in."}),setTimeout(()=>{e("login")},1500))}catch(A){O(),console.error("Registration failed:",A);let M=A instanceof Error?A.message:"Failed to register";M.includes("Email already registered")?M="This email is already registered. Please use a different email or try logging in.":M.includes("Username already taken")?M="This username is already taken. Please choose a different username.":M.includes("Network error")&&(M="Cannot connect to the server. Please ensure the backend server is running."),h(M),b({variant:"destructive",title:"Registration Failed",description:M})}finally{c(!1)}},$=(T,A)=>{_(A),E(!0),b({title:"Welcome to XSM Market!",description:`Your email has been verified successfully. Welcome, ${A.username}!`}),setTimeout(()=>{e("home")},2e3)},W=()=>{w(!1),j("")};if(p)return r.jsx(Ku,{email:x,onVerificationSuccess:$,onBack:W});const H=async T=>{c(!0),h("");try{if(!T.credential)throw new Error("No credential received from Google");const A=await Cu(T.credential);if(A.user)_(A.user),E(!0),b({title:"Welcome!",description:`Welcome ${A.user.username}! Your account has been created with Google.`}),e("home");else throw new Error("Google sign-up succeeded but user data is missing")}catch(A){h(A instanceof Error?A.message:"Failed to sign up with Google"),b({variant:"destructive",title:"Error",description:A instanceof Error?A.message:"Failed to sign up with Google"})}finally{c(!1)}},F=()=>{h("Google sign-up was cancelled or failed"),b({variant:"destructive",title:"Error",description:"Google sign-up was cancelled or failed"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-xsm-black py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs(gr,{className:"w-full max-w-md space-y-8 bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(us,{children:r.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-xsm-yellow",children:"Create your account"})}),r.jsxs(ms,{children:[m&&r.jsx(St,{variant:"destructive",className:"mb-6",children:r.jsx(Ct,{children:m})}),r.jsxs("form",{className:"space-y-6",onSubmit:V,noValidate:!0,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white",children:"Username"}),r.jsx(rt,{id:"username",name:"username",type:"text",required:!0,value:l,onChange:T=>d(T.target.value),className:"mt-1",placeholder:"Choose a username",disabled:f})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email address"}),r.jsx(rt,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:T=>s(T.target.value),className:"mt-1",placeholder:"Enter your email",disabled:f})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(rt,{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:T=>o(T.target.value),className:"mt-1 pr-10",placeholder:"Create a password",disabled:f}),r.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:f,children:g?r.jsx(mo,{className:"h-4 w-4"}):r.jsx(_t,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(rt,{id:"confirmPassword",name:"confirmPassword",type:v?"text":"password",required:!0,value:a,onChange:T=>i(T.target.value),className:"mt-1 pr-10",placeholder:"Confirm your password",disabled:f}),r.jsx("button",{type:"button",onClick:()=>C(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:f,children:v?r.jsx(mo,{className:"h-4 w-4"}):r.jsx(_t,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(Yu,{ref:N,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:D,theme:"dark"})}),r.jsx("div",{children:r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:f||!S,onClick:T=>{f||console.log("Sign up button clicked")},children:f?"Creating account...":"Sign up"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(zu,{onSuccess:H,onError:F,useOneTap:!1,theme:"filled_black",size:"large",text:"signup_with",shape:"rectangular",width:"100%"})})]})]}),r.jsx(Uu,{className:"text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["Already have an account?"," ",r.jsx("button",{onClick:()=>e("login"),className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:f,children:"Sign in"})]})})]})})};function xf(e,[t,s]){return Math.min(s,Math.max(t,e))}function lE(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cE=[" ","Enter","ArrowUp","ArrowDown"],dE=[" ","Enter"],_o="Select",[sl,nl,uE]=Ti(_o),[wn,L3]=xn(_o,[uE,vn]),ol=vn(),[mE,Yr]=wn(_o),[hE,fE]=wn(_o),Ov=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:d,dir:m,name:h,autoComplete:f,disabled:c,required:p,form:w}=e,x=ol(t),[j,g]=u.useState(null),[y,v]=u.useState(null),[C,S]=u.useState(!1),k=Xu(m),[N=!1,b]=uo({prop:n,defaultProp:o,onChange:a}),[E,_]=uo({prop:i,defaultProp:l,onChange:d}),D=u.useRef(null),O=j?w||!!j.closest("form"):!0,[V,$]=u.useState(new Set),W=Array.from(V).map(H=>H.props.value).join(";");return r.jsx(Hg,{...x,children:r.jsxs(mE,{required:p,scope:t,trigger:j,onTriggerChange:g,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:cn(),value:E,onValueChange:_,open:N,onOpenChange:b,dir:k,triggerPointerDownPosRef:D,disabled:c,children:[r.jsx(sl.Provider,{scope:t,children:r.jsx(hE,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(H=>{$(F=>new Set(F).add(H))},[]),onNativeOptionRemove:u.useCallback(H=>{$(F=>{const T=new Set(F);return T.delete(H),T})},[]),children:s})}),O?r.jsxs(l0,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:E,onChange:H=>_(H.target.value),disabled:c,form:w,children:[E===void 0?r.jsx("option",{value:""}):null,Array.from(V)]},W):null]})})};Ov.displayName=_o;var $v="SelectTrigger",Fv=u.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...o}=e,a=ol(s),i=Yr($v,s),l=i.disabled||n,d=me(t,i.onTriggerChange),m=nl(s),h=u.useRef("touch"),[f,c,p]=c0(x=>{const j=m().filter(v=>!v.disabled),g=j.find(v=>v.value===i.value),y=d0(j,x,g);y!==void 0&&i.onValueChange(y.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(Lu,{asChild:!0,...a,children:r.jsx(ne.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i0(i.value)?"":void 0,...o,ref:d,onClick:J(o.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:J(o.onPointerDown,x=>{h.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:J(o.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&c(x.key),!(j&&x.key===" ")&&cE.includes(x.key)&&(w(),x.preventDefault())})})})});Fv.displayName=$v;var zv="SelectValue",Uv=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:o,children:a,placeholder:i="",...l}=e,d=Yr(zv,s),{onValueNodeHasChildrenChange:m}=d,h=a!==void 0,f=me(t,d.onValueNodeChange);return De(()=>{m(h)},[m,h]),r.jsx(ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:i0(d.value)?r.jsx(r.Fragment,{children:i}):a})});Uv.displayName=zv;var xE="SelectIcon",Bv=u.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...o}=e;return r.jsx(ne.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});Bv.displayName=xE;var pE="SelectPortal",Vv=e=>r.jsx(Pi,{asChild:!0,...e});Vv.displayName=pE;var hs="SelectContent",Wv=u.forwardRef((e,t)=>{const s=Yr(hs,e.__scopeSelect),[n,o]=u.useState();if(De(()=>{o(new DocumentFragment)},[]),!s.open){const a=n;return a?ps.createPortal(r.jsx(Hv,{scope:e.__scopeSelect,children:r.jsx(sl.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(Gv,{...e,ref:t})});Wv.displayName=hs;var It=10,[Hv,Kr]=wn(hs),gE="SelectContentImpl",Gv=u.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:c,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j,...g}=e,y=Yr(hs,s),[v,C]=u.useState(null),[S,k]=u.useState(null),N=me(t,I=>C(I)),[b,E]=u.useState(null),[_,D]=u.useState(null),O=nl(s),[V,$]=u.useState(!1),W=u.useRef(!1);u.useEffect(()=>{if(v)return _y(v)},[v]),by();const H=u.useCallback(I=>{const[X,...Q]=O().map(G=>G.ref.current),[te]=Q.slice(-1),K=document.activeElement;for(const G of I)if(G===K||(G==null||G.scrollIntoView({block:"nearest"}),G===X&&S&&(S.scrollTop=0),G===te&&S&&(S.scrollTop=S.scrollHeight),G==null||G.focus(),document.activeElement!==K))return},[O,S]),F=u.useCallback(()=>H([b,v]),[H,b,v]);u.useEffect(()=>{V&&F()},[V,F]);const{onOpenChange:T,triggerPointerDownPosRef:A}=y;u.useEffect(()=>{if(v){let I={x:0,y:0};const X=te=>{var K,G;I={x:Math.abs(Math.round(te.pageX)-(((K=A.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(te.pageY)-(((G=A.current)==null?void 0:G.y)??0))}},Q=te=>{I.x<=10&&I.y<=10?te.preventDefault():v.contains(te.target)||T(!1),document.removeEventListener("pointermove",X),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Q,{capture:!0})}}},[v,T,A]),u.useEffect(()=>{const I=()=>T(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[T]);const[M,L]=c0(I=>{const X=O().filter(K=>!K.disabled),Q=X.find(K=>K.ref.current===document.activeElement),te=d0(X,I,Q);te&&setTimeout(()=>te.ref.current.focus())}),B=u.useCallback((I,X,Q)=>{const te=!W.current&&!Q;(y.value!==void 0&&y.value===X||te)&&(E(I),te&&(W.current=!0))},[y.value]),P=u.useCallback(()=>v==null?void 0:v.focus(),[v]),z=u.useCallback((I,X,Q)=>{const te=!W.current&&!Q;(y.value!==void 0&&y.value===X||te)&&D(I)},[y.value]),U=n==="popper"?hd:Yv,R=U===hd?{side:l,sideOffset:d,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:c,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:j}:{};return r.jsx(Hv,{scope:s,content:v,viewport:S,onViewportChange:k,itemRefCallback:B,selectedItem:b,onItemLeave:P,itemTextRefCallback:z,focusSelectedItem:F,selectedItemText:_,position:n,isPositioned:V,searchRef:M,children:r.jsx(Ju,{as:ls,allowPinchZoom:!0,children:r.jsx(Qu,{asChild:!0,trapped:y.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:J(o,I=>{var X;(X=y.trigger)==null||X.focus({preventScroll:!0}),I.preventDefault()}),children:r.jsx(So,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(U,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:I=>I.preventDefault(),...g,...R,onPlaced:()=>$(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:J(g.onKeyDown,I=>{const X=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!X&&I.key.length===1&&L(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let te=O().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(I.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const K=I.target,G=te.indexOf(K);te=te.slice(G+1)}setTimeout(()=>H(te)),I.preventDefault()}})})})})})})});Gv.displayName=gE;var yE="SelectItemAlignedPosition",Yv=u.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...o}=e,a=Yr(hs,s),i=Kr(hs,s),[l,d]=u.useState(null),[m,h]=u.useState(null),f=me(t,N=>h(N)),c=nl(s),p=u.useRef(!1),w=u.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:g,focusSelectedItem:y}=i,v=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&m&&x&&j&&g){const N=a.trigger.getBoundingClientRect(),b=m.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),_=g.getBoundingClientRect();if(a.dir!=="rtl"){const K=_.left-b.left,G=E.left-K,he=N.left-G,Te=N.width+he,at=Math.max(Te,b.width),Re=window.innerWidth-It,Wt=xf(G,[It,Math.max(It,Re-at)]);l.style.minWidth=Te+"px",l.style.left=Wt+"px"}else{const K=b.right-_.right,G=window.innerWidth-E.right-K,he=window.innerWidth-N.right-G,Te=N.width+he,at=Math.max(Te,b.width),Re=window.innerWidth-It,Wt=xf(G,[It,Math.max(It,Re-at)]);l.style.minWidth=Te+"px",l.style.right=Wt+"px"}const D=c(),O=window.innerHeight-It*2,V=x.scrollHeight,$=window.getComputedStyle(m),W=parseInt($.borderTopWidth,10),H=parseInt($.paddingTop,10),F=parseInt($.borderBottomWidth,10),T=parseInt($.paddingBottom,10),A=W+H+V+T+F,M=Math.min(j.offsetHeight*5,A),L=window.getComputedStyle(x),B=parseInt(L.paddingTop,10),P=parseInt(L.paddingBottom,10),z=N.top+N.height/2-It,U=O-z,R=j.offsetHeight/2,I=j.offsetTop+R,X=W+H+I,Q=A-X;if(X<=z){const K=D.length>0&&j===D[D.length-1].ref.current;l.style.bottom="0px";const G=m.clientHeight-x.offsetTop-x.offsetHeight,he=Math.max(U,R+(K?P:0)+G+F),Te=X+he;l.style.height=Te+"px"}else{const K=D.length>0&&j===D[0].ref.current;l.style.top="0px";const he=Math.max(z,W+x.offsetTop+(K?B:0)+R)+Q;l.style.height=he+"px",x.scrollTop=X-z+x.offsetTop}l.style.margin=`${It}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[c,a.trigger,a.valueNode,l,m,x,j,g,a.dir,n]);De(()=>v(),[v]);const[C,S]=u.useState();De(()=>{m&&S(window.getComputedStyle(m).zIndex)},[m]);const k=u.useCallback(N=>{N&&w.current===!0&&(v(),y==null||y(),w.current=!1)},[v,y]);return r.jsx(wE,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:r.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:r.jsx(ne.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Yv.displayName=yE;var vE="SelectPopperPosition",hd=u.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:o=It,...a}=e,i=ol(s);return r.jsx(Ou,{...i,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hd.displayName=vE;var[wE,dm]=wn(hs,{}),fd="SelectViewport",Kv=u.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...o}=e,a=Kr(fd,s),i=dm(fd,s),l=me(t,a.onViewportChange),d=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(sl.Slot,{scope:s,children:r.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:J(o.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:c}=i;if(c!=null&&c.current&&f){const p=Math.abs(d.current-h.scrollTop);if(p>0){const w=window.innerHeight-It*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),g=Math.max(x,j);if(g<w){const y=g+p,v=Math.min(w,y),C=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Kv.displayName=fd;var qv="SelectGroup",[bE,jE]=wn(qv),NE=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=cn();return r.jsx(bE,{scope:s,id:o,children:r.jsx(ne.div,{role:"group","aria-labelledby":o,...n,ref:t})})});NE.displayName=qv;var Xv="SelectLabel",Qv=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=jE(Xv,s);return r.jsx(ne.div,{id:o.id,...n,ref:t})});Qv.displayName=Xv;var ci="SelectItem",[kE,Jv]=wn(ci),Zv=u.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:o=!1,textValue:a,...i}=e,l=Yr(ci,s),d=Kr(ci,s),m=l.value===n,[h,f]=u.useState(a??""),[c,p]=u.useState(!1),w=me(t,y=>{var v;return(v=d.itemRefCallback)==null?void 0:v.call(d,y,n,o)}),x=cn(),j=u.useRef("touch"),g=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(kE,{scope:s,value:n,disabled:o,textId:x,isSelected:m,onItemTextChange:u.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(sl.ItemSlot,{scope:s,value:n,disabled:o,textValue:h,children:r.jsx(ne.div,{role:"option","aria-labelledby":x,"data-highlighted":c?"":void 0,"aria-selected":m&&c,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:w,onFocus:J(i.onFocus,()=>p(!0)),onBlur:J(i.onBlur,()=>p(!1)),onClick:J(i.onClick,()=>{j.current!=="mouse"&&g()}),onPointerUp:J(i.onPointerUp,()=>{j.current==="mouse"&&g()}),onPointerDown:J(i.onPointerDown,y=>{j.current=y.pointerType}),onPointerMove:J(i.onPointerMove,y=>{var v;j.current=y.pointerType,o?(v=d.onItemLeave)==null||v.call(d):j.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=d.onItemLeave)==null||v.call(d))}),onKeyDown:J(i.onKeyDown,y=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(dE.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});Zv.displayName=ci;var Ln="SelectItemText",e0=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:o,...a}=e,i=Yr(Ln,s),l=Kr(Ln,s),d=Jv(Ln,s),m=fE(Ln,s),[h,f]=u.useState(null),c=me(t,g=>f(g),d.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,d.value,d.disabled)}),p=h==null?void 0:h.textContent,w=u.useMemo(()=>r.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=m;return De(()=>(x(w),()=>j(w)),[x,j,w]),r.jsxs(r.Fragment,{children:[r.jsx(ne.span,{id:d.textId,...a,ref:c}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ps.createPortal(a.children,i.valueNode):null]})});e0.displayName=Ln;var t0="SelectItemIndicator",r0=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return Jv(t0,s).isSelected?r.jsx(ne.span,{"aria-hidden":!0,...n,ref:t}):null});r0.displayName=t0;var xd="SelectScrollUpButton",s0=u.forwardRef((e,t)=>{const s=Kr(xd,e.__scopeSelect),n=dm(xd,e.__scopeSelect),[o,a]=u.useState(!1),i=me(t,n.onScrollButtonChange);return De(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollTop>0;a(m)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),o?r.jsx(o0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});s0.displayName=xd;var pd="SelectScrollDownButton",n0=u.forwardRef((e,t)=>{const s=Kr(pd,e.__scopeSelect),n=dm(pd,e.__scopeSelect),[o,a]=u.useState(!1),i=me(t,n.onScrollButtonChange);return De(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;a(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),o?r.jsx(o0,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});n0.displayName=pd;var o0=u.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...o}=e,a=Kr("SelectScrollButton",s),i=u.useRef(null),l=nl(s),d=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>d(),[d]),De(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(ne.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:J(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:J(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:J(o.onPointerLeave,()=>{d()})})}),SE="SelectSeparator",a0=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(ne.div,{"aria-hidden":!0,...n,ref:t})});a0.displayName=SE;var gd="SelectArrow",CE=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,o=ol(s),a=Yr(gd,s),i=Kr(gd,s);return a.open&&i.position==="popper"?r.jsx($u,{...o,...n,ref:t}):null});CE.displayName=gd;function i0(e){return e===""||e===void 0}var l0=u.forwardRef((e,t)=>{const{value:s,...n}=e,o=u.useRef(null),a=me(t,o),i=lE(s);return u.useEffect(()=>{const l=o.current,d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==s&&h){const f=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(f)}},[i,s]),r.jsx(Co,{asChild:!0,children:r.jsx("select",{...n,ref:a,defaultValue:s})})});l0.displayName="BubbleSelect";function c0(e){const t=Ue(e),s=u.useRef(""),n=u.useRef(0),o=u.useCallback(i=>{const l=s.current+i;t(l),function d(m){s.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),a=u.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,o,a]}function d0(e,t,s){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let i=EE(e,Math.max(a,0));o.length===1&&(i=i.filter(m=>m!==s));const d=i.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==s?d:void 0}function EE(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var TE=Ov,u0=Fv,PE=Uv,_E=Bv,AE=Vv,m0=Wv,RE=Kv,h0=Qv,f0=Zv,ME=e0,IE=r0,x0=s0,p0=n0,g0=a0;const DE=TE,LE=PE,y0=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(u0,{ref:n,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(_E,{asChild:!0,children:r.jsx(nn,{className:"h-4 w-4 opacity-50"})})]}));y0.displayName=u0.displayName;const v0=u.forwardRef(({className:e,...t},s)=>r.jsx(x0,{ref:s,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(s1,{className:"h-4 w-4"})}));v0.displayName=x0.displayName;const w0=u.forwardRef(({className:e,...t},s)=>r.jsx(p0,{ref:s,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(nn,{className:"h-4 w-4"})}));w0.displayName=p0.displayName;const b0=u.forwardRef(({className:e,children:t,position:s="popper",...n},o)=>r.jsx(AE,{children:r.jsxs(m0,{ref:o,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(v0,{}),r.jsx(RE,{className:oe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(w0,{})]})}));b0.displayName=m0.displayName;const OE=u.forwardRef(({className:e,...t},s)=>r.jsx(h0,{ref:s,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));OE.displayName=h0.displayName;const Ta=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(f0,{ref:n,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(IE,{children:r.jsx(cs,{className:"h-4 w-4"})})}),r.jsx(ME,{children:t})]}));Ta.displayName=f0.displayName;const $E=u.forwardRef(({className:e,...t},s)=>r.jsx(g0,{ref:s,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));$E.displayName=g0.displayName;const FE=({verificationStatus:e,onSubmitVerification:t})=>{const[s,n]=u.useState(null),[o,a]=u.useState(""),[i,l]=u.useState(!1),d=c=>{c.preventDefault(),c.stopPropagation(),c.type==="dragenter"||c.type==="dragover"?l(!0):c.type==="dragleave"&&l(!1)},m=c=>{c.preventDefault(),c.stopPropagation(),l(!1),c.dataTransfer.files&&c.dataTransfer.files[0]&&n(c.dataTransfer.files[0])},h=c=>{c.target.files&&c.target.files[0]&&n(c.target.files[0])},f=()=>{s&&o&&t(o,s)};return r.jsxs(gr,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(us,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mt,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Account Verification"})]})}),r.jsx(ms,{children:e==="verified"?r.jsxs(St,{className:"bg-green-900/20 border-green-500",children:[r.jsx(n1,{className:"h-4 w-4 text-green-500"}),r.jsx(Sa,{children:"Verified Account"}),r.jsx(Ct,{children:"Your account has been verified. You now have access to all platform features."})]}):e==="pending"?r.jsxs(St,{className:"bg-yellow-900/20 border-yellow-500",children:[r.jsx(ys,{className:"h-4 w-4 text-yellow-500"}),r.jsx(Sa,{children:"Verification Pending"}),r.jsx(Ct,{children:"Your documents are being reviewed. This usually takes 24-48 hours."})]}):r.jsxs(r.Fragment,{children:[r.jsxs(St,{className:"bg-blue-900/20 border-blue-500 mb-4",children:[r.jsx(lr,{className:"h-4 w-4 text-blue-500"}),r.jsx(Sa,{children:"Verify Your Identity"}),r.jsx(Ct,{children:"To ensure platform security, please verify your identity by uploading a government-issued ID."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Document Type"}),r.jsxs(DE,{onValueChange:a,children:[r.jsx(y0,{className:"w-full bg-xsm-black text-white border-xsm-medium-gray",children:r.jsx(LE,{placeholder:"Select document type"})}),r.jsxs(b0,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(Ta,{value:"national_id",children:"National ID Card"}),r.jsx(Ta,{value:"drivers_license",children:"Driver's License"}),r.jsx(Ta,{value:"passport",children:"Passport"})]})]})]}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${i?"border-xsm-yellow bg-xsm-yellow/10":"border-xsm-medium-gray"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:m,children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(bu,{className:"w-10 h-10 mx-auto text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:s?s.name:"Drag and drop your document here, or click to select"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Supported formats: JPG, PNG, PDF (max 5MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:h,id:"file-upload"}),r.jsx($e,{onClick:()=>{var c;return(c=document.getElementById("file-upload"))==null?void 0:c.click()},variant:"outline",className:"border-xsm-medium-gray text-white hover:text-xsm-yellow",children:"Select File"})]})}),s&&o&&r.jsx($e,{onClick:f,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",children:"Submit for Verification"})]})]})})]})},zE=({setCurrentPage:e})=>{const t=async(s,n)=>{console.log("Submitting verification:",{documentType:s,file:n}),setTimeout(()=>{e("profile")},1500)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("button",{onClick:()=>e("profile"),className:"flex items-center space-x-2 text-white hover:text-xsm-yellow mb-8",children:[r.jsx(Za,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Profile"})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Account Verification"}),r.jsx("p",{className:"text-xl text-white",children:"Verify your identity to unlock all features and build trust with other users"})]}),r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(FE,{verificationStatus:"unverified",onSubmitVerification:t}),r.jsxs("div",{className:"mt-8 bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Why verify your account?"}),r.jsxs("ul",{className:"space-y-3 text-xsm-light-gray",children:[r.jsx("li",{children:" Gain access to premium features and higher selling limits"}),r.jsx("li",{children:" Build trust with potential buyers and sellers"}),r.jsx("li",{children:" Faster processing of your transactions"}),r.jsx("li",{children:" Priority support from our team"}),r.jsx("li",{children:" Verified badge on your profile and listings"})]})]})]})]})})},pf=()=>{window.scrollTo({top:0,behavior:"smooth"})},UE=({setCurrentPage:e,email:t})=>{const{setIsLoggedIn:s,setUser:n}=Xe(),{toast:o}=gt(),a=typeof window<"u"?localStorage.getItem("pendingVerificationEmail"):null,[i,l]=u.useState(t||a||""),d=(h,f)=>{typeof window<"u"&&localStorage.removeItem("pendingVerificationEmail"),n(f),s(!0),o({title:"Email Verified!",description:`Welcome to XSM Market, ${f.username}! Your email has been successfully verified.`}),setTimeout(()=>{e("home"),pf()},2e3)},m=()=>{e("login"),pf()};return r.jsx(Ku,{email:i,onVerificationSuccess:d,onBack:m})},BE=({setCurrentPage:e})=>{const[t,s]=u.useState(""),[n,o]=u.useState(!1),[a,i]=u.useState(""),[l,d]=u.useState(""),[m,h]=u.useState(!1),f=async w=>{if(w.preventDefault(),!t){i("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){i("Please enter a valid email address");return}o(!0),i(""),d("");try{const j=await kg(t);d(j.message),h(!0)}catch(j){console.error("Forgot password error:",j),i(j.message||"Failed to process request. Please try again.")}finally{o(!1)}},c=()=>{e("login")},p=()=>{h(!1),s(""),d(""),i("")};return m&&l?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(gr,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(us,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(le,{className:"w-8 h-8 text-green-400"})}),r.jsx(oi,{className:"text-2xl font-bold text-xsm-yellow",children:"Email Sent!"}),r.jsx(ai,{className:"text-xsm-light-gray",children:"Check your inbox for your new password"})]}),r.jsxs(ms,{className:"space-y-6",children:[r.jsx(St,{className:"bg-green-900/20 border-green-700",children:r.jsx(Ct,{className:"text-green-300",children:l})}),r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Next Steps:"}),r.jsxs("ol",{className:"text-sm text-xsm-light-gray space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Check your email inbox (and spam folder)"}),r.jsx("li",{children:"Copy the temporary password from the email"}),r.jsx("li",{children:"Return to login and use the temporary password"}),r.jsx("li",{children:"Change your password immediately after logging in"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx($e,{onClick:c,className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",children:"Go to Login"}),r.jsx($e,{onClick:p,variant:"ghost",className:"w-full text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:"Send Another Email"})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(gr,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(us,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-xsm-yellow/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(on,{className:"w-8 h-8 text-xsm-yellow"})}),r.jsx(oi,{className:"text-2xl font-bold text-xsm-yellow",children:"Forgot Password"}),r.jsx(ai,{className:"text-xsm-light-gray",children:"Enter your email address and we'll send you a new temporary password"})]}),r.jsxs(ms,{className:"space-y-6",children:[a&&r.jsx(St,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:r.jsx(Ct,{className:"text-red-300",children:a})}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:"Email Address"}),r.jsx(rt,{id:"email",type:"email",value:t,onChange:w=>s(w.target.value),placeholder:"Enter your email address",className:"bg-xsm-dark-gray border-xsm-medium-gray text-white focus:border-xsm-yellow",disabled:n,required:!0})]}),r.jsx($e,{type:"submit",className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(yu,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Email..."]}):"Send New Password"})]}),r.jsx("div",{className:"text-center",children:r.jsxs($e,{onClick:c,variant:"ghost",className:"text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:[r.jsx(Za,{className:"w-4 h-4 mr-2"}),"Back to Login"]})}),r.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-4",children:[r.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:"How it works:"}),r.jsxs("ul",{className:"text-sm text-xsm-light-gray space-y-1",children:[r.jsx("li",{children:" We'll generate a secure temporary password"}),r.jsx("li",{children:" You'll receive it via email within a few minutes"}),r.jsx("li",{children:" Use it to log in, then change it immediately"}),r.jsx("li",{children:" For security, temporary passwords expire in 24 hours"})]})]})]})]})})},VE=()=>"https://xsmmarket.com/api",qr=VE(),WE=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${qr}/admin/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch users: ${t.statusText}`)}return await t.json()},HE=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${qr}/admin/chats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch chats: ${t.statusText}`)}return await t.json()},GE=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${qr}/admin/dashboard-stats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch dashboard stats: ${t.statusText}`)}return await t.json()},YE=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${qr}/admin/deals`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch deals: ${t.statusText}`)}return await t.json()},KE=async(e,t)=>{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`${qr}/chat/admin/chats/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({content:t})});if(!n.ok){const o=await n.json().catch(()=>({}));throw new Error(o.message||`Failed to send message: ${n.statusText}`)}return await n.json()},qE=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${qr}/chat/admin/messages/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to delete message: ${s.statusText}`)}return await s.json()},XE=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${qr}/chat/admin/chats/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to delete chat: ${s.statusText}`)}return await s.json()},QE=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${qr}/admin/deals/${e}/confirm-primary-owner`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to mark primary owner made: ${s.statusText}`)}return await s.json()},JE=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`/api/admin/ads/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(!n.success)throw new Error(n.error||"Failed to delete listing");return n},ZE=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`/api/admin/users/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(!n.success)throw new Error(n.error||"Failed to delete user");return n},e3=async(e,t)=>{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`/api/admin/users/${e}/role`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({role:t})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();if(!o.success)throw new Error(o.error||"Failed to update user role");return o},t3=()=>{const[e,t]=u.useState(""),[s,n]=u.useState([]),[o,a]=u.useState(!0),[i,l]=u.useState(null),{toast:d}=gt();q.useEffect(()=>{a(!0),l(null),WE().then(p=>{n(p),a(!1)}).catch(p=>{l(p.message||"Failed to fetch users"),a(!1)})},[]);const m=async p=>{if(window.confirm(` DELETE USER CONFIRMATION 

Are you sure you want to permanently delete this user?

Username: "${p.username}"
Email: ${p.email}
Role: ${p.role}

This action cannot be undone and will permanently remove the user and all their data from the database.`))try{await ZE(p.id),n(x=>x.filter(j=>j.id!==p.id)),d({title:" User Deleted",description:`User "${p.username}" has been permanently deleted.`})}catch(x){console.error("Error deleting user:",x),d({variant:"destructive",title:" Delete Failed",description:x instanceof Error?x.message:"Failed to delete user"})}},h=async p=>{const w=p.role==="admin"?"user":"admin";if(window.confirm(` CHANGE USER ROLE 

Change user role?

User: "${p.username}"
Current Role: ${p.role}
New Role: ${w}

${w==="admin"?"This will grant admin privileges to the user.":"This will remove admin privileges from the user."}`))try{await e3(p.id,w),n(j=>j.map(g=>g.id===p.id?{...g,role:w}:g)),d({title:" Role Updated",description:`User "${p.username}" role changed to ${w}.`})}catch(j){console.error("Error changing user role:",j),d({variant:"destructive",title:" Role Change Failed",description:j instanceof Error?j.message:"Failed to change user role"})}},f=s.filter(p=>p.username.toLowerCase().includes(e.toLowerCase())||p.email.toLowerCase().includes(e.toLowerCase())),c=p=>{switch(p){case"active":return"text-green-400";case"suspended":return"text-red-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}};return r.jsx("div",{className:"p-6 bg-xsm-black min-h-screen",children:r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-xsm-yellow mb-6",children:"Manage Users"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx("input",{type:"text",placeholder:"Search users...",value:e,onChange:p=>t(p.target.value),className:"w-full bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg px-4 py-2 pl-10 focus:outline-none focus:border-xsm-yellow text-white"}),r.jsx(an,{className:"absolute left-3 top-2.5 h-5 w-5 text-xsm-medium-gray"})]})}),o?r.jsx("div",{className:"text-center text-xsm-light-gray py-8",children:"Loading users..."}):i?r.jsx("div",{className:"text-center text-red-400 py-8",children:i}):r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-xsm-medium-gray",children:[r.jsx("thead",{className:"bg-xsm-medium-gray/20",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Join Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:f.map(p=>r.jsxs("tr",{className:"hover:bg-xsm-medium-gray/20",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-xsm-medium-gray flex items-center justify-center",children:r.jsx(jt,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:p.username}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:p.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${c(p.status)}`,children:p.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-xsm-light-gray",children:p.joinDate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs(im,{children:[r.jsx(lm,{className:"p-2 hover:bg-xsm-medium-gray rounded-lg transition-colors",children:r.jsx(ag,{className:"h-5 w-5 text-xsm-light-gray"})}),r.jsxs(rl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Qt,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>h(p),children:[r.jsx(mt,{className:"w-4 h-4 mr-2"}),"Change Role to ",p.role==="admin"?"User":"Admin"]}),r.jsxs(Qt,{className:"text-red-500 hover:text-red-400 cursor-pointer",onClick:()=>m(p),children:[r.jsx(qc,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]})})]},p.id))})]})})})]})})},gf="https://xsmmarket.com/api",r3=()=>{const[e,t]=u.useState(""),[s,n]=u.useState([]),[o,a]=u.useState(!0),[i,l]=u.useState(null),[d,m]=u.useState(null),[h,f]=u.useState(!1),[c,p]=u.useState(!1),{isLoggedIn:w,user:x}=Xe(),{toast:j}=gt();q.useEffect(()=>{a(!0),l(null),cm().then(b=>{const E=(b.ads||[]).map(_=>{var D,O,V,$,W;return{id:_.id,title:_.title,seller:((D=_.seller)==null?void 0:D.username)||"Unknown",sellerId:((O=_.seller)==null?void 0:O.id)||((V=_.User)==null?void 0:V.id)||0,sellerUsername:(($=_.seller)==null?void 0:$.username)||((W=_.User)==null?void 0:W.username)||"Unknown",price:_.price?`$${_.price}`:"",priceNumber:_.price||0,category:_.category||"Other",platform:_.platform||"Unknown",description:_.description||"",subscribers:_.subscribers||0,monthlyIncome:_.monthlyIncome||0,views:_.views||0,status:_.status||"active",createdAt:_.createdAt?_.createdAt.split("T")[0]:"",reportCount:_.reportCount||0,thumbnail:_.thumbnail||"/placeholder.svg",primary_image:_.primary_image,additional_images:_.additional_images,screenshots:_.screenshots,verified:_.verified||!1,premium:_.premium||!1,isMonetized:_.isMonetized||!1}});n(E),a(!1)}).catch(b=>{l(b.message||"Failed to fetch listings"),a(!1)})},[]);const g=b=>{m(b),f(!0)},y=async b=>{if(!w||!x){j({variant:"destructive",title:"Authentication Required",description:"Please log in to contact the seller"});return}if(String(x.id)===String(b.sellerId)){j({variant:"destructive",title:"Invalid Action",description:"You can't contact yourself"});return}try{p(!0);const E=localStorage.getItem("token"),_=await fetch(`${gf}/chat/check-existing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({sellerId:b.sellerId,adId:b.id})});if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);if((await _.json()).exists){j({title:"Chat Exists",description:"A chat with this seller already exists. Redirecting to chat..."});return}const O=await fetch(`${gf}/chat/ad-inquiry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({adId:b.id,sellerId:b.sellerId,message:"This is admin of the website and regarding this message I am contacting",sellerName:b.sellerUsername})});if(!O.ok){const $=await O.text();throw console.error("Chat creation failed:",$),new Error(`HTTP error! status: ${O.status}`)}const V=await O.json();j({title:"Chat Created",description:"Successfully created chat with seller. You can now communicate directly."})}catch(E){console.error("Error creating chat:",E),j({variant:"destructive",title:"Error",description:"Failed to create chat with seller"})}finally{p(!1)}},v=async b=>{if(window.confirm(` DELETE CONFIRMATION 

Are you sure you want to permanently delete this listing?

Title: "${b.title}"
Seller: ${b.sellerUsername}
Price: ${b.price}

This action cannot be undone and will permanently remove the listing from the database.`))try{await JE(b.id),n(_=>_.filter(D=>D.id!==b.id)),j({title:" Listing Deleted",description:`"${b.title}" has been permanently deleted.`}),d&&d.id===b.id&&(f(!1),m(null))}catch(_){console.error("Error deleting listing:",_),j({variant:"destructive",title:" Delete Failed",description:_ instanceof Error?_.message:"Failed to delete listing. Please try again."})}},C=b=>b>=1e6?(b/1e6).toFixed(1)+"M":b>=1e3?(b/1e3).toFixed(1)+"K":b.toString(),S=s.filter(b=>b.title.toLowerCase().includes(e.toLowerCase())||b.seller.toLowerCase().includes(e.toLowerCase())),k=b=>{switch(b){case"active":return r.jsx(le,{className:"w-5 h-5 text-green-400"});case"rejected":return r.jsx(gu,{className:"w-5 h-5 text-red-400"});case"reported":return r.jsx(Rh,{className:"w-5 h-5 text-yellow-400"});default:return r.jsx(ys,{className:"w-5 h-5 text-blue-400"})}},N=b=>{switch(b){case"active":return"bg-green-400/10 text-green-400 border-green-400/20";case"rejected":return"bg-red-400/10 text-red-400 border-red-400/20";case"reported":return"bg-yellow-400/10 text-yellow-400 border-yellow-400/20";default:return"bg-blue-400/10 text-blue-400 border-blue-400/20"}};return r.jsxs("div",{className:"p-6 bg-xsm-black min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",placeholder:"Search listings...",value:e,onChange:b=>t(b.target.value),className:"w-full bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg px-4 py-2 pl-10 focus:outline-none focus:border-xsm-yellow text-white"}),r.jsx(an,{className:"absolute left-3 top-2.5 h-5 w-5 text-xsm-medium-gray"})]})}),o?r.jsx("div",{className:"text-center text-xsm-light-gray py-8",children:"Loading listings..."}):i?r.jsx("div",{className:"text-center text-red-400 py-8",children:i}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(b=>r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden",children:[r.jsxs("div",{className:"aspect-video relative bg-xsm-medium-gray",children:[r.jsx("img",{src:b.primary_image||(b.screenshots&&b.screenshots.length>0?b.screenshots[0].url||b.screenshots[0]:null)||b.thumbnail||"/placeholder.svg",alt:b.title,className:"w-full h-full object-cover",onError:E=>{const _=E.target;_.onerror=null,_.src="/placeholder.svg"}}),b.reportCount>0&&r.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[b.reportCount," reports"]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white mb-1",children:b.title}),r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["by ",b.seller]})]}),r.jsx("span",{className:"text-xsm-yellow font-medium",children:b.price})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm text-xsm-light-gray",children:b.category}),r.jsx("span",{className:"text-sm text-xsm-light-gray",children:b.createdAt})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm border ${N(b.status)}`,children:[k(b.status),r.jsx("span",{className:"ml-2 capitalize",children:b.status})]}),r.jsxs(im,{children:[r.jsx(lm,{className:"p-2 hover:bg-xsm-medium-gray rounded-lg transition-colors",children:r.jsx(ag,{className:"h-5 w-5 text-xsm-light-gray"})}),r.jsxs(rl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Qt,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>g(b),children:[r.jsx(_t,{className:"w-4 h-4 mr-2"}),"View Details"]}),r.jsxs(Qt,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>y(b),disabled:c,children:[r.jsx(cr,{className:"w-4 h-4 mr-2"}),c?"Connecting...":"Contact Seller"]}),r.jsx(Av,{}),r.jsxs(Qt,{className:"text-red-500 hover:text-red-400 cursor-pointer",onClick:()=>v(b),children:[r.jsx(qc,{className:"w-4 h-4 mr-2"}),"Delete Listing"]})]})]})]})]})]},b.id))})]}),h&&d&&r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:b=>{b.target===b.currentTarget&&f(!1)},children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-xsm-dark-gray border-b border-xsm-medium-gray p-4 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Listing Details"}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"aspect-video relative bg-xsm-medium-gray rounded-lg overflow-hidden mb-6",children:[r.jsx("img",{src:d.primary_image||(d.screenshots&&d.screenshots.length>0?d.screenshots[0].url||d.screenshots[0]:null)||d.thumbnail||"/placeholder.svg",alt:d.title,className:"w-full h-full object-cover",onError:b=>{const E=b.target;E.onerror=null,E.src="/placeholder.svg"}}),d.reportCount>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[d.reportCount," reports"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:d.title}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm border ${N(d.status)}`,children:[k(d.status),r.jsx("span",{className:"ml-2 capitalize",children:d.status})]}),r.jsx("span",{className:"text-3xl font-bold text-xsm-yellow",children:d.price})]})]}),d.description&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),r.jsx("p",{className:"text-xsm-light-gray leading-relaxed",children:d.description})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Channel Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(ln,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Subscribers"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:C(d.subscribers)})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(_t,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Views"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:C(d.views)})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(tt,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Monthly Income"})]}),r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",C(d.monthlyIncome)]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(Rh,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Platform"})]}),r.jsx("div",{className:"text-lg font-bold text-white capitalize",children:d.platform})]})]})]}),r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Seller Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Username:"}),r.jsx("span",{className:"text-white font-medium",children:d.sellerUsername})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Listed Date:"}),r.jsx("span",{className:"text-white",children:d.createdAt})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Category:"}),r.jsx("span",{className:"text-white",children:d.category})]})]})]}),r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Features"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${d.verified?"bg-green-400":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Verified Channel"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${d.isMonetized?"bg-xsm-yellow":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Monetized"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${d.premium?"bg-purple-400":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Premium Listing"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>y(d),disabled:c,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[r.jsx(cr,{className:"w-5 h-5"}),r.jsx("span",{children:c?"Connecting...":"Contact Seller"})]}),r.jsxs("button",{onClick:()=>v(d),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx(qc,{className:"w-5 h-5"}),r.jsx("span",{children:"Delete Listing"})]})]})]})]})})]})})]})},s3=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(null),[o,a]=u.useState(!0),[i,l]=u.useState(""),[d,m]=u.useState("all"),[h,f]=u.useState(null),[c,p]=u.useState(""),[w,x]=u.useState(!1);u.useState(!1),u.useEffect(()=>{j()},[]);const j=async()=>{a(!0),f(null);try{const k=await HE();t(k)}catch(k){f(k.message||"Failed to fetch chats")}finally{a(!1)}},g=async()=>{if(!(!s||!c.trim()||w))try{x(!0);const k=await KE(s.id,c.trim());n(N=>N?{...N,messages:[...N.messages,k]}:null),t(N=>N.map(b=>b.id===s.id?{...b,messages:[...b.messages,k],lastMessage:c.trim()}:b)),p("")}catch(k){alert("Failed to send message: "+k.message)}finally{x(!1)}},y=async k=>{if(!(!s||!confirm("Are you sure you want to delete this message?")))try{await qE(k),n(N=>N?{...N,messages:N.messages.filter(b=>b.id!==k)}:null),t(N=>N.map(b=>b.id===s.id?{...b,messages:b.messages.filter(E=>E.id!==k)}:b))}catch(N){alert("Failed to delete message: "+N.message)}},v=async k=>{if(confirm("Are you sure you want to delete this entire chat? This action cannot be undone."))try{await XE(k),t(N=>N.filter(b=>b.id!==k)),(s==null?void 0:s.id)===k&&n(null),alert("Chat deleted successfully")}catch(N){alert("Failed to delete chat: "+N.message)}},C=k=>new Date(k).toLocaleString();if(o)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-xsm-yellow"})});if(h)return r.jsx("div",{className:"flex items-center justify-center h-64 text-red-400",children:h});const S=e.filter(k=>{const N=k.participants.some(E=>E.username.toLowerCase().includes(i.toLowerCase())),b=k.messages.some(E=>E.content.toLowerCase().includes(i.toLowerCase()));return N||b});return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-12rem)]",children:[r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray p-4 mb-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"text",placeholder:"Search chats...",value:i,onChange:k=>l(k.target.value),className:"bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow w-64"}),r.jsxs("select",{value:d,onChange:k=>m(k.target.value),className:"bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow",children:[r.jsx("option",{value:"all",children:"All Chats"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"flagged",children:"Flagged"}),r.jsx("option",{value:"resolved",children:"Resolved"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-xsm-light-gray",children:["Total Chats: ",S.length]})})]})}),r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden flex-grow",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-xsm-black",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Participants"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Last Message"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Time"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Messages"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:S.map(k=>r.jsxs("tr",{className:`hover:bg-xsm-medium-gray/30 transition-colors cursor-pointer ${(s==null?void 0:s.id)===k.id?"bg-xsm-medium-gray/50":""}`,onClick:()=>n(k),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-col",children:k.participants.map(N=>r.jsx("span",{className:"text-sm",children:N.username},N.id))})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("p",{className:"text-sm text-xsm-light-gray max-w-xs truncate",children:k.lastMessage})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-xsm-light-gray",children:C(k.lastMessageTime)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm",children:k.messages.length})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:N=>{N.stopPropagation(),n(k)},className:"px-3 py-1 text-sm bg-xsm-yellow text-black rounded hover:bg-xsm-yellow/90 flex items-center space-x-1",children:[r.jsx(ig,{className:"w-3 h-3"}),r.jsx("span",{children:"Review"})]}),r.jsxs("button",{onClick:N=>{N.stopPropagation(),v(k.id)},className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 flex items-center space-x-1",children:[r.jsx(ja,{className:"w-3 h-3"}),r.jsx("span",{children:"Delete"})]})]})})]},k.id))})]})})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray p-6 max-w-4xl w-full mx-4 max-h-[85vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Chat Review & Management"}),r.jsxs("p",{className:"text-sm text-xsm-light-gray mt-1",children:["Between: ",s.participants.map(k=>k.username).join(", ")]})]}),r.jsx("button",{onClick:()=>n(null),className:"text-xsm-light-gray hover:text-white",children:""})]}),r.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto max-h-[50vh] pr-4 mb-4",children:s.messages.map(k=>r.jsxs("div",{className:"flex flex-col space-y-1 bg-xsm-black rounded-lg p-4 group hover:bg-xsm-black/80 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:`font-medium ${k.sender==="Admin"?"text-red-400":"text-xsm-yellow"}`,children:[k.sender,k.sender==="Admin"&&r.jsx("span",{className:"ml-2 text-xs bg-red-500 px-2 py-0.5 rounded",children:"ADMIN"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-xsm-light-gray",children:C(k.timestamp)}),r.jsx("button",{onClick:()=>y(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-500 rounded text-red-400 hover:text-white",title:"Delete message",children:r.jsx(ja,{className:"w-3 h-3"})})]})]}),r.jsx("p",{className:"text-sm mt-2",children:k.content})]},k.id))}),r.jsxs("div",{className:"border-t border-xsm-medium-gray pt-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-3",children:r.jsx("span",{className:"text-red-400 font-medium text-sm",children:"Send as Admin:"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("input",{type:"text",value:c,onChange:k=>p(k.target.value),onKeyPress:k=>k.key==="Enter"&&g(),placeholder:"Type your admin message...",className:"flex-1 bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow",disabled:w}),r.jsxs("button",{onClick:g,disabled:!c.trim()||w,className:"px-4 py-2 bg-xsm-yellow text-black rounded-lg hover:bg-xsm-yellow/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r.jsx(wu,{className:"w-4 h-4"}),r.jsx("span",{children:w?"Sending...":"Send"})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-xsm-medium-gray",children:[r.jsxs("button",{onClick:()=>v(s.id),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center space-x-2",children:[r.jsx(ja,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entire Chat"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"px-4 py-2 bg-yellow-500 text-black rounded hover:bg-yellow-600 flex items-center space-x-2",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"Flag Chat"})]}),r.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-xsm-medium-gray text-white rounded hover:bg-xsm-medium-gray/80",children:"Close"})]})]})]})})]})},n3=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[o,a]=u.useState(null),[i,l]=u.useState(null),[d,m]=u.useState(null);u.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await YE();t(x),a(null)}catch(x){a(x.message)}finally{n(!1)}},f=async x=>{try{if(m(x),!window.confirm(` CONFIRM PRIMARY OWNER PROMOTION

Please confirm that you (the admin) have successfully promoted our agent to PRIMARY OWNER of the channel.

 Only click "Yes" if:
 You have logged into the seller's account
 You have promoted the agent to Primary Owner (not just Owner)
 Agent now has full administrative control
 You have taken final screenshots
 Ready to secure the account and notify buyer

This action will:
 Mark the deal as "Agent has Primary Owner status"
 Send confirmation message to buyer and seller
 Allow buyer to proceed with payment

Continue?`)){m(null);return}const g=await QE(x);if(g.success)alert(` Primary owner status confirmed successfully!

Actions completed:
 Deal marked as "Primary Owner Confirmed"
 Ownership confirmation message sent to buyer and seller
 Buyer can now proceed with payment`),h();else throw new Error(g.message||"Failed to confirm primary owner status")}catch(j){console.error("Error confirming primary owner made:",j),alert(` Failed to confirm primary owner status.

Error: `+j.message+`

Please try again or check the console for details.`)}finally{m(null)}},c=x=>{switch(x){case"Completed":return"text-green-400 bg-green-400/10";case"Fee Paid - Awaiting Seller":return"text-blue-400 bg-blue-400/10";case"Seller Agreed - Awaiting Payment":return"text-yellow-400 bg-yellow-400/10";default:return"text-gray-400 bg-gray-400/10"}},p=x=>x?new Date(x).toLocaleDateString()+" "+new Date(x).toLocaleTimeString():"N/A",w=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x);return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-xsm-yellow"})}):o?r.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-4",children:[r.jsxs("p",{className:"text-red-400",children:["Error loading deals: ",o]}),r.jsx("button",{onClick:h,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Deal Management"}),r.jsx("button",{onClick:h,className:"px-4 py-2 bg-xsm-yellow text-black rounded-lg hover:bg-yellow-400 transition-colors",children:"Refresh"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ho,{className:"w-6 h-6 text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Deals"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-6 h-6 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.filter(x=>x.status==="Completed").length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(bt,{className:"w-6 h-6 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"In Progress"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.filter(x=>x.status!=="Completed").length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(tt,{className:"w-6 h-6 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Value"}),r.jsx("p",{className:"text-xl font-bold text-white",children:w(e.reduce((x,j)=>x+j.price,0))})]})]})})]}),r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-medium-gray overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-xsm-medium-gray",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Deal ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Channel"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Price"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Buyer"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Seller"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Progress"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Created"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:e.map(x=>r.jsxs("tr",{className:"hover:bg-xsm-medium-gray/30",children:[r.jsxs("td",{className:"px-4 py-3 text-sm text-white",children:["#",x.id]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:x.channel_title}),r.jsx("p",{className:"text-xs text-gray-400",children:x.platform})]})}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-400",children:w(x.price)}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white",children:x.buyer.username}),r.jsx("p",{className:"text-xs text-gray-400",children:x.buyer.email})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white",children:x.seller.username}),r.jsx("p",{className:"text-xs text-gray-400",children:x.seller.email})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(x.status)}`,children:x.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-xsm-yellow h-2 rounded-full transition-all duration-300",style:{width:`${x.progress}%`}})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[x.progress,"%"]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:new Date(x.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>l(x),className:"text-xsm-yellow hover:text-yellow-400 transition-colors",title:"View Details",children:r.jsx(_t,{className:"w-4 h-4"})}),x.seller_gave_rights&&!x.seller_made_primary_owner&&r.jsx("button",{onClick:()=>f(x.id),disabled:d===x.id,className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors disabled:opacity-50",title:"Click when you (admin) have made the agent Primary Owner of the channel",children:d===x.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"I HAVE MADE THE PRIMARY OWNER"})]})})]},x.id))})]})}),e.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-400",children:"No deals found"})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-6 max-w-2xl w-full mx-4 max-h-screen overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-white",children:["Deal Details - #",i.id]}),r.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Channel Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Title:"}),r.jsx("p",{className:"text-white",children:i.channel_title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Platform:"}),r.jsx("p",{className:"text-white",children:i.platform})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Price:"}),r.jsx("p",{className:"text-green-400 font-bold",children:w(i.price)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(i.status)}`,children:i.status})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Buyer"}),r.jsx("p",{className:"text-white",children:i.buyer.username}),r.jsx("p",{className:"text-gray-400 text-sm",children:i.buyer.email})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Seller"}),r.jsx("p",{className:"text-white",children:i.seller.username}),r.jsx("p",{className:"text-gray-400 text-sm",children:i.seller.email})]})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Deal Timeline"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Deal Created"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.created_at)})]})]}),i.seller_agreed&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Seller Agreed"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.seller_agreed_at)})]})]}),i.transaction_fee_paid&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Transaction Fee Paid"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[p(i.transaction_fee_paid_at),i.transaction_fee_payment_method&&r.jsxs("span",{children:[" via ",i.transaction_fee_payment_method]})]}),i.transaction_fee_paid_by&&r.jsxs("p",{className:"text-sm text-gray-400",children:["Paid by: ",i.transaction_fee_paid_by]})]})]}),i.agent_email_sent&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Agent Email Sent"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.agent_email_sent_at)}),r.jsx("p",{className:"text-sm text-blue-300",children:"Agent email provided to seller for account access"})]})]}),i.seller_gave_rights&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(le,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Agent Access Confirmed"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.seller_gave_rights_at)}),r.jsx("p",{className:"text-sm text-green-300",children:"Seller confirmed giving rights to agent"})]})]})]})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Progress"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:"bg-xsm-yellow h-3 rounded-full transition-all duration-300",style:{width:`${i.progress}%`}})}),r.jsxs("span",{className:"text-white font-medium",children:[i.progress,"%"]})]})]})]})]})})]})},o3=({setCurrentPage:e})=>{const[t,s]=u.useState("dashboard"),[n,o]=u.useState([{title:"Total Users",value:"-",icon:ln},{title:"Active Listings",value:"-",icon:Ih},{title:"Total Chats",value:"-",icon:Ah}]),[a,i]=u.useState(!0),[l,d]=u.useState(null);u.useEffect(()=>{i(!0),d(null),GE().then(h=>{o([{title:"Total Users",value:h.totalUsers,icon:ln},{title:"Active Listings",value:h.totalListings,icon:Ih},{title:"Total Chats",value:h.totalChats,icon:Ah}]),i(!1)}).catch(h=>{d(h.message||"Failed to fetch dashboard stats"),i(!1)})},[]);const m=()=>{switch(t){case"manage-users":return r.jsx(t3,{});case"review-listings":return r.jsx(r3,{});case"review-chats":return r.jsx(s3,{});case"review-deals":return r.jsx(n3,{});default:return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a?r.jsx("div",{className:"col-span-3 text-center text-xsm-light-gray py-8",children:"Loading statistics..."}):l?r.jsx("div",{className:"col-span-3 text-center text-red-400 py-8",children:l}):n.map((h,f)=>r.jsxs("div",{className:"bg-xsm-dark-gray p-6 rounded-xl border border-xsm-medium-gray",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx(h.icon,{className:"h-8 w-8 text-xsm-yellow"})}),r.jsx("h3",{className:"text-lg text-xsm-light-gray mb-2",children:h.title}),r.jsx("p",{className:"text-2xl font-bold",children:h.value})]},f))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{name:"Manage Users",view:"manage-users"},{name:"Review Listings",view:"review-listings"},{name:"Review Chats",view:"review-chats",icon:ig},{name:"Review Deals",view:"review-deals",icon:lr}].map((h,f)=>r.jsxs("button",{onClick:()=>s(h.view),className:"p-4 bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg hover:bg-xsm-medium-gray transition-colors text-left flex items-center gap-2",children:[h.icon&&r.jsx(h.icon,{className:"h-5 w-5 text-xsm-yellow"}),r.jsx("span",{children:h.name})]},f))})]})}};return r.jsxs("div",{className:"min-h-screen bg-xsm-black text-white p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-xsm-yellow",children:t==="dashboard"?"Admin Dashboard":"Admin Dashboard / "+t.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ")}),r.jsx("div",{className:"flex items-center space-x-4",children:t!=="dashboard"&&r.jsx("button",{onClick:()=>s("dashboard"),className:"px-4 py-2 bg-xsm-medium-gray hover:bg-xsm-medium-gray/80 rounded-lg transition-colors",children:"Back to Dashboard"})})]}),m()]})},a3="https://xsmmarket.com/api",i3=({setCurrentPage:e})=>{const[t,s]=u.useState({name:"",email:"",subject:"",category:"",message:""}),[n,o]=u.useState(!1),{toast:a}=gt(),i=["General Inquiry","Technical Support","Account Issues","Transaction Support","Report a Problem","Partnership Inquiry","Press/Media","Other"],l=m=>{const{name:h,value:f}=m.target;s(c=>({...c,[h]:f}))},d=async()=>{if(!t.name||!t.email||!t.subject||!t.category||!t.message){a({variant:"destructive",title:"Error",description:"Please fill in all required fields."});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){a({variant:"destructive",title:"Invalid Email",description:"Please enter a valid email address."});return}o(!0);try{const f=await(await fetch(`${a3}/contact/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();f.success?(a({title:"Message Sent Successfully! ",description:"We'll get back to you within 24 hours. Thank you for contacting us!"}),s({name:"",email:"",subject:"",category:"",message:""})):a({variant:"destructive",title:"Failed to Send Message",description:f.message||"Something went wrong. Please try again."})}catch(h){console.error("Error sending message:",h),a({variant:"destructive",title:"Connection Error",description:"Unable to send message. Please check your connection and try again."})}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Have questions or need support? We're here to help. Get in touch with our team and we'll respond as quickly as possible."})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-6",children:"Get in Touch"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(on,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Email"}),r.jsx("div",{className:"text-xsm-light-gray",children:"support@xsmmarket.com"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(x1,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Phone"}),r.jsx("div",{className:"text-xsm-light-gray",children:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(h1,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Address"}),r.jsxs("div",{className:"text-xsm-light-gray",children:["123 Digital Ave",r.jsx("br",{}),"Tech City, TC 12345",r.jsx("br",{}),"United States"]})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-4",children:"Business Hours"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Monday - Friday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"9:00 AM - 6:00 PM EST"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Saturday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"10:00 AM - 4:00 PM EST"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Sunday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Closed"})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-xsm-black/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(bt,{className:"w-4 h-4 text-xsm-yellow"}),r.jsx("span",{className:"text-white font-medium",children:"Emergency Support"})]}),r.jsx("p",{className:"text-xs text-xsm-light-gray mt-1",children:"24/7 support available for urgent transaction issues"})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-4",children:"Quick Help"}),r.jsx("div",{children:r.jsx("button",{className:"w-full text-left p-3 bg-xsm-black/50 rounded-lg hover:bg-xsm-medium-gray transition-colors",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(cr,{className:"w-5 h-5 text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Live Chat"}),r.jsx("div",{className:"text-xs text-xsm-light-gray",children:"Get instant help"})]})]})})})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-xsm-yellow mb-6",children:"Send us a Message"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"name",value:t.name,onChange:l,className:"xsm-input w-full",placeholder:"Your full name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:t.email,onChange:l,className:"xsm-input w-full",placeholder:"your@email.com",required:!0})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Category *"}),r.jsxs("select",{name:"category",value:t.category,onChange:l,className:"xsm-input w-full",required:!0,children:[r.jsx("option",{value:"",children:"Select a category"}),i.map(m=>r.jsx("option",{value:m,children:m},m))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Subject *"}),r.jsx("input",{type:"text",name:"subject",value:t.subject,onChange:l,className:"xsm-input w-full",placeholder:"Brief subject line",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Message *"}),r.jsx("textarea",{name:"message",value:t.message,onChange:l,rows:6,className:"xsm-input w-full resize-none",placeholder:"Please provide as much detail as possible to help us assist you better...",required:!0})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Response Time"}),r.jsxs("ul",{className:"text-sm text-xsm-light-gray space-y-1",children:[r.jsx("li",{children:" General inquiries: Within 24 hours"}),r.jsx("li",{children:" Technical support: Within 4-8 hours"}),r.jsx("li",{children:" Transaction issues: Within 2 hours"}),r.jsx("li",{children:" Emergency support: Immediate response"})]})]}),r.jsxs("button",{onClick:d,disabled:n,className:`w-full xsm-button text-lg py-4 flex items-center justify-center space-x-2 ${n?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx(wu,{className:"w-5 h-5"}),r.jsx("span",{children:n?"Sending...":"Send Message"})]}),r.jsx("p",{className:"text-sm text-xsm-light-gray text-center",children:"By sending this message, you agree to our Privacy Policy and Terms of Service"})]})]})})]})]})})},l3=()=>"https://xsmmarket.com/api",c3=()=>l3().replace("/api",""),aa=c3(),d3=({isOpen:e,onClose:t,deal:s,onPaymentComplete:n})=>{const[o,a]=u.useState("btc"),[i,l]=u.useState([]),[d,m]=u.useState(null),[h,f]=u.useState(!1),[c,p]=u.useState(!1),[w,x]=u.useState(""),[j,g]=u.useState(null);u.useEffect(()=>{e&&y()},[e]),u.useEffect(()=>{if(d&&["waiting","confirming","sending"].includes(d.status)){const E=setInterval(()=>{C()},1e4);return g(E),()=>{E&&clearInterval(E)}}},[d]),u.useEffect(()=>()=>{j&&clearInterval(j)},[j]);const y=async()=>{try{console.log("Fetching currencies from:",`${aa}/api/crypto-payments/currencies`);const E=await fetch(`${aa}/api/crypto-payments/currencies`);if(console.log("Response status:",E.status),!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const _=await E.json();console.log("Currencies result:",_),_.success?(l(_.currencies),console.log("Currencies set:",_.currencies)):(console.error("Failed to fetch currencies:",_.message),x("Failed to load supported currencies"))}catch(E){console.error("Failed to fetch currencies:",E),x("Failed to connect to payment service")}},v=async()=>{if(s){f(!0),x("");try{const E=localStorage.getItem("token");console.log("Creating payment for deal:",s.id,"with currency:",o),console.log("Token exists:",!!E);const _=await fetch(`${aa}/api/crypto-payments/create-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({deal_id:s.id,pay_currency:o})});if(console.log("Create payment response status:",_.status),!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const D=await _.json();console.log("Create payment result:",D),D.success?m(D.payment):x(D.message||"Failed to create payment")}catch(E){console.error("Payment creation error:",E),x("Failed to create payment. Please try again.")}finally{f(!1)}}},C=async()=>{if(!(!s||!d)){p(!0);try{const E=localStorage.getItem("token"),D=await(await fetch(`${aa}/api/crypto-payments/payments/${s.id}/status`,{headers:{Authorization:`Bearer ${E}`}})).json();D.success&&(m(O=>O?{...O,...D.payment}:null),["finished","confirmed"].includes(D.payment.status)&&(j&&(clearInterval(j),g(null)),setTimeout(()=>{n(),t()},2e3)))}catch(E){console.error("Failed to check payment status:",E)}finally{p(!1)}}},S=E=>{navigator.clipboard.writeText(E)},k=E=>{switch(E){case"waiting":return r.jsx(bt,{className:"w-5 h-5 text-yellow-400"});case"confirming":case"sending":return r.jsx(Ys,{className:"w-5 h-5 text-blue-400 animate-spin"});case"finished":case"confirmed":return r.jsx(le,{className:"w-5 h-5 text-green-400"});case"failed":case"expired":return r.jsx(zs,{className:"w-5 h-5 text-red-400"});default:return r.jsx(bt,{className:"w-5 h-5 text-gray-400"})}},N=E=>{switch(E){case"waiting":return"Waiting for payment";case"confirming":return"Confirming payment";case"sending":return"Processing payment";case"finished":case"confirmed":return"Payment completed";case"failed":return"Payment failed";case"expired":return"Payment expired";default:return"Unknown status"}},b=E=>{switch(E){case"waiting":return"text-yellow-400 bg-yellow-400/10";case"confirming":case"sending":return"text-blue-400 bg-blue-400/10";case"finished":case"confirmed":return"text-green-400 bg-green-400/10";case"failed":case"expired":return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}};return!e||!s?null:(console.log("CryptoPaymentModal rendering:",{isOpen:e,deal:s,currencies:i.length}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-bg border border-gray-700 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[r.jsx(ei,{className:"mr-3 text-orange-400",size:24}),"Cryptocurrency Payment"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{size:24})})]}),r.jsx("div",{className:"p-6 space-y-6",children:d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Payment Status"}),r.jsx("button",{onClick:C,disabled:c,className:"p-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:r.jsx(Ys,{className:`w-4 h-4 ${c?"animate-spin":""}`})})]}),r.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${b(d.status)}`,children:[k(d.status),r.jsx("span",{className:"font-medium",children:N(d.status)})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Payment Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Amount:"}),r.jsxs("span",{className:"text-white font-mono",children:["$",d.amount," ",d.currency.toUpperCase(),d.pay_amount&&r.jsxs("span",{className:"text-orange-400 ml-2",children:[" ",d.pay_amount," ",d.pay_currency.toUpperCase()]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Payment ID:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-white font-mono text-sm",children:d.payment_id}),r.jsx("button",{onClick:()=>S(d.payment_id),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(i1,{className:"w-4 h-4"})})]})]})]})]}),d.payment_url&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:d.payment_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(d1,{className:"w-4 h-4"}),r.jsx("span",{children:"Open Payment Page"})]}),d.qr_code_url&&r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:d.qr_code_url,alt:"Payment QR Code",className:"mx-auto rounded-lg bg-white p-2",style:{maxWidth:"200px"}}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Scan with your crypto wallet"})]})]}),["finished","confirmed"].includes(d.status)&&r.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[r.jsx(le,{size:20}),r.jsx("span",{className:"font-medium",children:"Payment Completed!"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"Your escrow fee has been successfully paid. The deal will now proceed to the next stage."})]}),["failed","expired"].includes(d.status)&&r.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(zs,{size:20}),r.jsxs("span",{className:"font-medium",children:["Payment ",d.status==="failed"?"Failed":"Expired"]})]}),r.jsx("p",{className:"text-red-200 text-sm mt-1",children:d.status==="failed"?"The payment could not be processed. Please try again or contact support.":"The payment has expired. Please create a new payment to continue."})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Payment Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white border-t border-gray-600 pt-2 font-semibold",children:[r.jsx("span",{children:"Escrow Fee:"}),r.jsxs("span",{className:"text-xsm-yellow",children:["$",Number(s.escrow_fee).toFixed(2)," USD"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Cryptocurrency"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(E=>r.jsxs("button",{onClick:()=>a(E.code),className:`p-3 rounded-lg border text-left transition-all ${o===E.code?"border-orange-400 bg-orange-400/10 text-orange-400":"border-gray-600 bg-gray-800 text-white hover:border-gray-500"}`,children:[r.jsx("div",{className:"font-semibold",children:E.code.toUpperCase()}),r.jsx("div",{className:"text-sm text-gray-400",children:E.name})]},E.code))})]}),r.jsx("div",{className:"bg-orange-900/20 border border-orange-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(zs,{className:"text-orange-400 mt-0.5",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-orange-400 font-medium mb-2",children:"Important Notice"}),r.jsxs("ul",{className:"text-orange-200 text-sm space-y-1",children:[r.jsx("li",{children:" Send the exact amount to the provided address"}),r.jsx("li",{children:" Payment will be confirmed automatically"}),r.jsx("li",{children:" Do not close this window until payment is complete"}),r.jsx("li",{children:" Contact support if you experience any issues"})]})]})]})}),w&&r.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(zs,{size:16}),r.jsx("span",{className:"font-medium",children:"Error"})]}),r.jsx("p",{className:"text-red-200 text-sm mt-1",children:w})]}),r.jsx("button",{onClick:v,disabled:h,className:"w-full bg-orange-600 text-white py-3 px-6 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx(Ys,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Creating Payment..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ei,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Payment"})]})})]})})]})}))},u3=()=>"https://xsmmarket.com/api",m3=()=>u3().replace("/api",""),h3=m3(),j0=({isOpen:e,onClose:t,deal:s,userType:n,onPaymentComplete:o})=>{const[a,i]=u.useState(null),[l,d]=u.useState(!1),[m,h]=u.useState(!1),[f,c]=u.useState(!1);if(!e||!s)return null;console.log("TransactionFeePayment state:",{isOpen:e,deal:!!s,showCryptoModal:f,selectedPaymentMethod:a,showConfirmation:m});const p=v=>{console.log("Payment method selected:",v),i(v),console.log("Opening crypto modal"),c(!0)},w=async()=>{if(a){d(!0);try{const v=localStorage.getItem("token"),S=await(await fetch(`${h3}/api/deals/${s.id}/pay-transaction-fee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({payment_method:a,payer_type:n})})).json();S.success?(o(),t()):alert("Payment failed: "+S.message)}catch(v){console.error("Payment error:",v),alert("Payment failed. Please try again.")}finally{d(!1)}}},x=()=>{h(!1),i(null)},j=()=>{console.log("Crypto payment completed"),c(!1),o(),t()},g=()=>{console.log("Closing crypto modal"),c(!1),i(null)},y=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v);return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:[r.jsxs("div",{className:"bg-xsm-dark-bg border border-gray-700 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction Fee Payment"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{size:24})})]}),r.jsx("div",{className:"p-6 space-y-6",children:m?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:a==="stripe"?r.jsx(Ri,{className:"text-purple-400",size:32}):r.jsx(ei,{className:"text-orange-400",size:32})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Confirm Payment Details"}),r.jsxs("p",{className:"text-gray-400",children:["You are about to pay the transaction fee using"," ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:a==="stripe"?"Stripe":"Cryptocurrency"})]})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Payment Method:"}),r.jsx("span",{className:"font-medium capitalize",children:a})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction Fee:"}),r.jsx("span",{className:"font-semibold text-xsm-yellow",children:y(s.escrow_fee)})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Paying as:"}),r.jsxs("span",{className:"font-medium capitalize flex items-center",children:[r.jsx(jt,{size:16,className:"mr-1"}),n]})]})]})}),r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(le,{size:20}),r.jsx("span",{className:"font-medium",children:"Secure Payment"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"Your payment is protected by our secure escrow system and will be processed safely."})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:x,disabled:l,className:"flex-1 bg-gray-700 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Back"}),r.jsx("button",{onClick:w,disabled:l,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Processing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{size:20}),r.jsx("span",{children:"Confirm Payment"})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Deal Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction ID:"}),r.jsx("span",{className:"font-mono",children:s.transaction_id})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel Price:"}),r.jsx("span",{children:y(s.channel_price)})]}),r.jsxs("div",{className:"flex justify-between text-white border-t border-gray-600 pt-2 font-semibold",children:[r.jsx("span",{children:"Transaction Fee:"}),r.jsx("span",{className:"text-xsm-yellow",children:y(s.escrow_fee)})]})]})]}),r.jsx("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ys,{className:"text-blue-300 mt-0.5",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Responsibility"}),r.jsx("p",{className:"text-blue-200 text-sm",children:n==="buyer"?"As the buyer, you are typically responsible for paying the transaction fee. However, if you and the seller have agreed otherwise, the seller can also pay this fee.":"As the seller, you can choose to pay the transaction fee if you and the buyer have reached an agreement, or if the buyer is unable to pay."})]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Choose Payment Method"}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("button",{onClick:()=>p("crypto"),className:"flex items-center justify-between p-4 bg-gray-800 hover:bg-gray-700 border border-gray-600 hover:border-xsm-yellow rounded-lg transition-all group",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-orange-600 p-3 rounded-lg group-hover:bg-orange-500 transition-colors",children:r.jsx(ei,{className:"text-white",size:24})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"text-white font-semibold",children:"Cryptocurrency"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Bitcoin, Ethereum, USDT, and more"}),r.jsx("p",{className:"text-yellow-400 text-xs",children:"Lower fees, secure & private"})]})]}),r.jsx(ju,{className:"text-xsm-yellow opacity-0 group-hover:opacity-100 transition-opacity",size:20})]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Important Notes"}),r.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[r.jsx("li",{children:" The transaction fee ensures secure escrow service"}),r.jsx("li",{children:" Payment is processed securely through our trusted partners"}),r.jsx("li",{children:" Once paid, the deal will proceed to the next stage"}),r.jsx("li",{children:" Both parties will be notified when payment is complete"})]})]})]})})]}),r.jsx(d3,{isOpen:f,onClose:g,deal:s?{id:s.id,channel_title:s.channel_title,escrow_fee:s.escrow_fee}:null,onPaymentComplete:j})]})},f3=()=>"https://xsmmarket.com/api",x3=()=>f3().replace("/api",""),ia=x3(),p3=({isOpen:e,onClose:t,deal:s,onDealUpdate:n})=>{const[o,a]=u.useState(!1),[i,l]=u.useState(!1),[d,m]=u.useState(!1),[h,f]=u.useState(!1),[c,p]=u.useState(null),[w,x]=u.useState(null),j=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(E),g=async()=>{if(s!=null&&s.id)try{const E=localStorage.getItem("token"),_=await fetch(`${ia}/api/deals/${s.id}/status`,{headers:{Authorization:`Bearer ${E}`}});if(_.ok){const D=await _.json();console.log("Deal status fetched:",D),p(D),x(D)}else console.error("Failed to fetch deal status:",_.status)}catch(E){console.error("Error fetching deal status:",E)}};if(u.useEffect(()=>{if(e&&s){g();const E=setInterval(g,3e4);return()=>clearInterval(E)}},[e,s==null?void 0:s.id]),!e||!s)return null;const y=async()=>{try{l(!0);const E=localStorage.getItem("token"),_=await fetch(`${ia}/api/deals/${s.id}/confirm-rights`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}}),D=await _.json();if(_.ok){let O=` Rights Confirmation Successful!

You have confirmed that you've given account access to our agent.

Transaction ID: ${s.transaction_id}
Channel: ${s.channel_title}
Status: Agent Access Confirmed`;D.platform_type==="youtube"?O+=`

 YouTube Channel Timer Started
Due to YouTube's requirements, you must wait 7 days before promoting our agent to Primary Owner. 

Timer started: Now
Timer expires: ${D.timer_expires_formatted||"In 7 days"}

You will be able to promote the agent to Primary Owner after the timer expires. We'll notify you when it's time!`:O+=`

 Ready for Primary Owner Promotion
Since this is not a YouTube channel, you can immediately promote our agent to Primary Owner when ready.`,O+=`

Our agent will now verify the account access. Thank you for your cooperation in ensuring a secure transaction!`,alert(O),n(),g(),t()}else throw new Error(D.message||"Failed to confirm rights")}catch(E){console.error("Error confirming rights:",E),alert("Failed to confirm rights: "+E.message)}finally{l(!1)}},v=async()=>{try{m(!0);const E=localStorage.getItem("token"),_=await fetch(`${ia}/api/deals/${s.id}/seller-confirmed-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}}),D=await _.json();if(_.ok)alert(` Payment Receipt Confirmed!

You have successfully confirmed that you received payment from the buyer.

Transaction ID: ${s.transaction_id}
Channel: ${s.channel_title}
Amount: $${s.channel_price}

 Deal Status: Payment Complete!

Both you and the buyer have now confirmed the payment. Our agent will complete the final account transfer and provide the buyer with final account credentials.

Thank you for using our secure marketplace!`),n(),g(),t();else throw new Error(D.message||"Failed to confirm payment receipt")}catch(E){console.error("Error confirming payment receipt:",E),alert("Failed to confirm payment receipt: "+E.message)}finally{m(!1)}},C=async()=>{try{a(!0);const E=localStorage.getItem("token"),_=await fetch(`${ia}/api/deals/${s.id}/seller-agree`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`}}),D=await _.json();if(_.ok)alert(` Deal Agreement Successful!

You have successfully agreed to the terms for transaction ${s.transaction_id}.

Channel: ${s.channel_title}
Amount: $${s.channel_price}
Buyer: ${s.buyer_username}

The buyer will now be notified that you have accepted their payment methods. The transaction will proceed to the next step.

Deal Status: Terms Agreed - Awaiting Escrow Payment`),n(),t();else throw new Error(D.message||"Failed to agree to deal")}catch(E){console.error("Error agreeing to deal:",E),alert("Failed to agree to deal. Please try again.")}finally{a(!1)}},S=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=E=>{switch(E){case"pending":return"text-yellow-500";case"terms_agreed":return"text-green-500";case"completed":return"text-blue-500";default:return"text-gray-500"}},N=E=>{switch(E){case"pending":return"Waiting for Your Review";case"terms_agreed":return"Terms Agreed - Awaiting Payment";case"agent_access_pending":return"Awaiting Agent Access Confirmation";case"waiting_promotion_timer":return"Waiting for YouTube Timer (7 days)";case"promotion_timer_complete":return"Transfer Complete";case"admin_ownership_confirmed":return"Admin Confirmed Primary Owner";case"buyer_paid_seller":return"Buyer Confirmed Payment";case"seller_confirmed_payment":return"Payment Complete - Deal Finalized";case"completed":return"Deal Completed";default:return E}},b=E=>{if(E<=0)return"0 seconds";const _=Math.floor(E/(24*60*60)),D=Math.floor(E%(24*60*60)/(60*60)),O=Math.floor(E%(60*60)/60);return _>0?`${_} day${_>1?"s":""}, ${D} hour${D>1?"s":""}`:D>0?`${D} hour${D>1?"s":""}, ${O} minute${O>1?"s":""}`:`${O} minute${O>1?"s":""}`};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-xsm-dark-gray rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Deal Review"}),r.jsxs("p",{className:"text-xsm-light-gray",children:["Transaction ID: ",s.transaction_id]})]}),r.jsx("button",{onClick:t,className:"text-xsm-light-gray hover:text-white transition-colors",children:r.jsx(Ee,{size:24})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(bt,{className:"text-xsm-yellow",size:20}),r.jsx("span",{className:"text-white font-medium",children:"Deal Status"})]}),r.jsx("span",{className:`font-semibold ${k(s.deal_status)}`,children:N(s.deal_status)})]})}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Channel Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{className:"font-medium",children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel ID:"}),r.jsx("span",{className:"font-mono text-sm",children:s.channel_id})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Sale Price:"}),r.jsxs("span",{className:"font-semibold text-green-400",children:["$",s.channel_price]})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Escrow Fee:"}),r.jsxs("span",{children:["$",s.escrow_fee]})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction Type:"}),r.jsx("span",{className:"capitalize",children:s.transaction_type})]})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Buyer Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(jt,{className:"text-xsm-light-gray",size:20}),r.jsx("span",{className:"text-white font-medium",children:s.buyer_username})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(og,{className:"text-xsm-light-gray",size:20}),r.jsxs("span",{className:"text-xsm-light-gray",children:["Deal created: ",S(s.created_at)]})]})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:[r.jsx(Ri,{className:"inline mr-2",size:20}),"Payment Methods Available"]}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:`The buyer has selected these payment methods. If you're comfortable with any of these options, click "I Agree to Terms" below.`}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.payment_methods.map((E,_)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(tt,{size:16,className:"text-black"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:E.name}),r.jsx("div",{className:"text-xsm-light-gray text-sm capitalize",children:E.category})]})]},_))}),s.payment_methods.length===0&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-xsm-light-gray",children:"No payment methods selected"})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Transaction Process"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(le,{size:12,className:"text-white"})}),r.jsx("span",{className:"text-white",children:"Buyer created deal and selected payment methods"})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${s.seller_agreed?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${s.seller_agreed?"bg-green-500":"bg-gray-600"}`,children:s.seller_agreed?r.jsx(le,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"2"})}),r.jsx("span",{className:"text-white",children:"Seller agrees to payment methods"}),s.seller_agreed_at&&r.jsxs("span",{className:"text-xsm-light-gray text-sm",children:["(Agreed: ",S(s.seller_agreed_at),")"]})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${(c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${(c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid?"bg-green-500":"bg-gray-600"}`,children:(c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid?r.jsx(le,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"3"})}),r.jsx("span",{className:"text-white",children:"Transaction fee paid"})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${(c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${(c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights?"bg-green-500":"bg-gray-600"}`,children:(c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights?r.jsx(le,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"4"})}),r.jsx("span",{className:"text-white",children:"Give agent manager access"})]}),(c==null?void 0:c.platform_type)==="youtube"&&r.jsxs("div",{className:`flex items-center space-x-3 ${c!=null&&c.timer_completed?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c!=null&&c.timer_completed?"bg-green-500":c!=null&&c.seller_gave_rights?"bg-yellow-500":"bg-gray-600"}`,children:c!=null&&c.timer_completed?r.jsx(le,{size:12,className:"text-white"}):c!=null&&c.seller_gave_rights?r.jsx(Ol,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"5"})}),r.jsx("span",{className:"text-white",children:"Wait 7 days (YouTube requirement)"}),(c==null?void 0:c.timer_remaining_seconds)>0&&r.jsxs("span",{className:"text-yellow-400 text-sm",children:["(",b(c.timer_remaining_seconds)," remaining)"]})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${c!=null&&c.seller_made_primary_owner?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c!=null&&c.seller_made_primary_owner?"bg-green-500":"bg-gray-600"}`,children:c!=null&&c.seller_made_primary_owner?r.jsx(le,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:(c==null?void 0:c.platform_type)==="youtube"?"6":"5"})}),r.jsx("span",{className:"text-white",children:"Promote agent to primary owner"})]}),r.jsxs("div",{className:"flex items-center space-x-3 opacity-60",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:(c==null?void 0:c.platform_type)==="youtube"?"7":"6"})}),r.jsx("span",{className:"text-white",children:"Buyer pays you via selected method"})]}),r.jsxs("div",{className:"flex items-center space-x-3 opacity-60",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:(c==null?void 0:c.platform_type)==="youtube"?"8":"7"})}),r.jsx("span",{className:"text-white",children:"Channel transferred to buyer"})]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 bg-gray-700 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors",children:"Back"}),!s.seller_agreed&&r.jsx("button",{onClick:C,disabled:o,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Agreeing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(le,{size:20}),r.jsx("span",{children:"I Agree to Terms"})]})}),(()=>{const E=s.seller_agreed&&!((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid);return console.log("Pay Transaction Fee button - Show:",E,{seller_agreed:s.seller_agreed,transaction_fee_paid_status:c==null?void 0:c.transaction_fee_paid,transaction_fee_paid_fallback:s.transaction_fee_paid,final_paid_value:(c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid}),E})()&&r.jsxs("button",{onClick:()=>f(!0),className:"flex-1 bg-xsm-yellow text-black py-3 px-6 rounded-lg hover:bg-yellow-500 transition-colors flex items-center justify-center space-x-2 font-semibold",children:[r.jsx(tt,{size:20}),r.jsx("span",{children:"Pay Transaction Fee"})]}),(()=>{const E=s.seller_agreed&&((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid)&&!((c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights);return console.log("I Have Given The Rights button - Show:",E,{seller_agreed:s.seller_agreed,transaction_fee_paid_status:c==null?void 0:c.transaction_fee_paid,transaction_fee_paid_fallback:s.transaction_fee_paid,seller_gave_rights_status:c==null?void 0:c.seller_gave_rights,seller_gave_rights_fallback:s.seller_gave_rights,final_paid_value:(c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid,final_rights_value:(c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights}),E})()&&r.jsx("button",{onClick:y,disabled:i,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(mt,{size:20}),r.jsx("span",{children:"I Have Given The Rights"})]})}),s.seller_agreed&&((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid)&&((c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights)&&!(c!=null&&c.seller_made_primary_owner)&&r.jsxs("div",{className:"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2 opacity-75 cursor-not-allowed",children:[r.jsx(Ol,{size:20}),(c==null?void 0:c.platform_type)==="youtube"&&(c==null?void 0:c.timer_remaining_seconds)>0?r.jsxs("span",{children:["Wait ",Math.ceil((c.timer_remaining_seconds||0)/(24*60*60))," More Days"]}):r.jsx("span",{children:"Waiting for Admin to Promote Agent"})]}),(c==null?void 0:c.seller_made_primary_owner)&&!(c!=null&&c.buyer_paid_seller)&&r.jsxs("div",{className:"flex-1 bg-yellow-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2",children:[r.jsx(bt,{size:20}),r.jsx("span",{children:"Waiting for Buyer Payment"})]}),(c==null?void 0:c.seller_made_primary_owner)&&(c==null?void 0:c.buyer_paid_seller)&&!(c!=null&&c.seller_confirmed_payment)&&r.jsx("button",{onClick:v,disabled:d,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{size:20}),r.jsx("span",{children:"I Have Received The Payment"})]})}),(c==null?void 0:c.seller_made_primary_owner)&&(c==null?void 0:c.buyer_paid_seller)&&(c==null?void 0:c.seller_confirmed_payment)&&r.jsxs("div",{className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2",children:[r.jsx(le,{size:20}),r.jsx("span",{children:"Deal Complete - Both Payments Confirmed"})]})]}),!s.seller_agreed&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Method Negotiation"}),r.jsx("p",{className:"text-blue-200 text-sm",children:`If none of the buyer's selected payment methods work for you, you can contact them through the chat system to discuss alternative payment methods. Once you both agree on a method, come back here and click "I Agree to Terms".`})]}),s.seller_agreed&&!((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid)&&r.jsxs("div",{className:"bg-xsm-yellow bg-opacity-10 border border-xsm-yellow rounded-lg p-4",children:[r.jsxs("h4",{className:"text-xsm-yellow font-medium mb-2 flex items-center",children:[r.jsx(lr,{size:16,className:"mr-2"}),"Transaction Fee Payment Required"]}),r.jsxs("p",{className:"text-yellow-200 text-sm mb-3",children:["The transaction fee (",j(s.escrow_fee),") needs to be paid to proceed with the deal. Either you or the buyer can pay this fee to move forward."]}),r.jsxs("div",{className:"bg-yellow-800 rounded-lg p-3 space-y-2",children:[r.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:" Payment Options:"}),r.jsxs("ul",{className:"text-yellow-200 text-xs space-y-1 ml-4",children:[r.jsx("li",{children:" Buyer pays (most common)"}),r.jsx("li",{children:" You pay (if agreed upon)"}),r.jsx("li",{children:" Either party can proceed"})]})]}),r.jsx("div",{className:"mt-3 p-3 bg-yellow-800 rounded-lg",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:' Once either party pays the fee, the "I Have Given The Rights" button will appear automatically.'})})]}),((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(le,{size:16,className:"mr-2"}),"Transaction Fee Paid"]}),r.jsxs("p",{className:"text-green-200 text-sm",children:["The transaction fee has been paid by ",((c==null?void 0:c.transaction_fee_paid_by)??s.transaction_fee_paid_by)==="seller"?"you":"the buyer","via ",(c==null?void 0:c.transaction_fee_payment_method)??s.transaction_fee_payment_method,". The deal will now proceed to the next stage."]})]}),((c==null?void 0:c.transaction_fee_paid)??s.transaction_fee_paid)&&((c==null?void 0:c.agent_email_sent)??s.agent_email_sent)&&!((c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-3 flex items-center",children:[r.jsx(mt,{size:16,className:"mr-2"}),"Give Account Rights to Agent"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-blue-800 rounded-lg p-3",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium mb-1",children:" Agent Email:"}),r.jsx("p",{className:"text-blue-100 font-mono text-sm bg-blue-700 p-2 rounded",children:"rebirthcar63@gmail.com"})]}),r.jsxs("div",{className:"text-blue-200 text-sm space-y-2",children:[r.jsx("p",{className:"font-medium",children:"Instructions:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[r.jsx("li",{children:"Add the agent email as a manager/collaborator to your account"}),r.jsx("li",{children:"Give permissions to view and manage the account"}),r.jsx("li",{children:"DO NOT transfer ownership yet - our agent will handle that securely"}),r.jsx("li",{children:'Click "I Have Given The Rights" button below once completed'})]})]}),r.jsx("div",{className:"bg-yellow-800 border border-yellow-600 rounded-lg p-3",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:" Important: Only give manager/collaborator access, NOT ownership. Our agent will handle the ownership transfer process securely."})})]})]}),((c==null?void 0:c.seller_gave_rights)??s.seller_gave_rights)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(le,{size:16,className:"mr-2"}),"Rights Confirmed"]}),r.jsx("p",{className:"text-green-200 text-sm",children:"You have confirmed giving account access to our agent. The agent is now verifying the account and will proceed with the secure transfer process. You will be updated once verification is complete."})]}),(c==null?void 0:c.platform_type)==="youtube"&&(c==null?void 0:c.seller_gave_rights)&&!(c!=null&&c.timer_completed)&&(c==null?void 0:c.timer_remaining_seconds)>0&&r.jsxs("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-yellow-300 font-medium mb-3 flex items-center",children:[r.jsx(Ol,{size:16,className:"mr-2"}),"YouTube Primary Owner Timer"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-yellow-200 text-sm",children:"YouTube requires a 7-day waiting period before you can promote our agent to Primary Owner."}),r.jsxs("div",{className:"bg-yellow-800 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-yellow-200 text-sm font-medium",children:"Time Remaining:"}),r.jsx("span",{className:"text-yellow-100 font-bold",children:b(c.timer_remaining_seconds)})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-yellow-200 text-sm",children:"Timer Expires:"}),r.jsx("span",{className:"text-yellow-100 text-sm font-mono",children:c.timer_expires_formatted})]})]}),r.jsx("p",{className:"text-yellow-200 text-xs",children:" You will be able to promote the agent to Primary Owner after this timer expires. We'll update the interface automatically when it's ready."})]})]}),(c==null?void 0:c.seller_gave_rights)&&((c==null?void 0:c.platform_type)!=="youtube"||(c==null?void 0:c.platform_type)==="youtube"&&((c==null?void 0:c.timer_expired)||(c==null?void 0:c.timer_completed)))&&!(c!=null&&c.seller_made_primary_owner)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-3 flex items-center",children:[r.jsx(mt,{size:16,className:"mr-2"}),"Ready for Admin to Promote Agent"]}),r.jsxs("div",{className:"space-y-3",children:[(c==null?void 0:c.platform_type)==="youtube"?r.jsx("p",{className:"text-blue-200 text-sm",children:" The 7-day YouTube timer has completed! Our admin will now promote the agent to Primary Owner of your channel."}):r.jsx("p",{className:"text-blue-200 text-sm",children:"Since this is not a YouTube channel, our admin can promote the agent to Primary Owner immediately."}),r.jsxs("div",{className:"bg-blue-800 rounded-lg p-3",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium mb-2",children:"What happens next:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-200 text-sm ml-2",children:[r.jsx("li",{children:"Our admin will access your channel's management settings"}),r.jsx("li",{children:"Agent will be promoted to Primary Owner"}),r.jsx("li",{children:"You'll receive notification when the promotion is complete"}),r.jsx("li",{children:"Deal will proceed to final buyer payment stage"})]})]}),r.jsx("div",{className:"bg-yellow-800 border border-yellow-600 rounded-lg p-3",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:" No action required from you. Our admin team will handle the Primary Owner promotion securely."})})]})]}),(c==null?void 0:c.seller_made_primary_owner)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(le,{size:16,className:"mr-2"}),"Primary Owner Transfer Complete!"]}),r.jsx("p",{className:"text-green-200 text-sm",children:" Congratulations! You have successfully transferred Primary Owner rights to our agent. The channel transfer is now complete and the deal is in its final stages."})]}),(c==null?void 0:c.seller_made_primary_owner)&&(c==null?void 0:c.buyer_paid_seller)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-2 flex items-center",children:[r.jsx(tt,{size:16,className:"mr-2"}),"Buyer Payment Confirmed"]}),r.jsxs("p",{className:"text-blue-200 text-sm",children:[" The buyer has confirmed that they have paid you the agreed amount ($$",c.channel_price||s.channel_price,") for the channel transfer.",(c==null?void 0:c.buyer_paid_seller_at)&&r.jsxs("span",{className:"block mt-2 text-blue-300 text-xs",children:["Confirmed on: ",new Date(c.buyer_paid_seller_at).toLocaleDateString()]})]}),!(c!=null&&c.seller_confirmed_payment)&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-800 rounded-lg",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium",children:" Action Required:"}),r.jsx("p",{className:"text-blue-200 text-xs",children:'Please confirm once you have received the payment by clicking "I Have Received The Payment" button above.'})]})]}),(c==null?void 0:c.seller_confirmed_payment)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(le,{size:16,className:"mr-2"}),"Payment Receipt Confirmed!"]}),r.jsxs("p",{className:"text-green-200 text-sm",children:[" You have confirmed receiving payment from the buyer. Both parties have now confirmed the payment completion.",(c==null?void 0:c.seller_confirmed_payment_at)&&r.jsxs("span",{className:"block mt-2 text-green-300 text-xs",children:["Confirmed on: ",new Date(c.seller_confirmed_payment_at).toLocaleDateString()]})]}),r.jsx("div",{className:"mt-3 p-3 bg-green-800 rounded-lg",children:r.jsx("p",{className:"text-green-200 text-sm",children:" The deal is now complete! Our agent will finalize the account transfer and provide the buyer with final account credentials."})})]})]})]}),r.jsx(j0,{isOpen:h,onClose:()=>f(!1),deal:s,userType:"seller",onPaymentComplete:()=>{console.log("Payment completed, refreshing status..."),f(!1),n(),setTimeout(g,1e3)}})]})},g3=()=>"https://xsmmarket.com/api",y3=()=>g3().replace("/api",""),v3=y3(),w3=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[o,a]=u.useState(null),[i,l]=u.useState(null),[d,m]=u.useState(!1),h=async()=>{try{n(!0);const g=localStorage.getItem("token"),y=await fetch(`${v3}/api/deals/seller`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}}),v=await y.json();if(y.ok)t(v.deals||[]),a(null);else throw new Error(v.message||"Failed to fetch deals")}catch(g){console.error("Error fetching seller deals:",g),a("Failed to load deals. Please try again."),t([])}finally{n(!1)}};u.useEffect(()=>{h()},[]);const f=g=>{l(g),m(!0)},c=()=>{m(!1),l(null)},p=()=>{h()},w=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"terms_agreed":return"bg-green-100 text-green-800";case"agent_access_pending":return"bg-blue-100 text-blue-800";case"waiting_promotion_timer":return"bg-orange-100 text-orange-800";case"promotion_timer_complete":return"bg-purple-100 text-purple-800";case"admin_ownership_confirmed":return"bg-indigo-100 text-indigo-800";case"buyer_paid_seller":return"bg-cyan-100 text-cyan-800";case"seller_confirmed_payment":return"bg-emerald-100 text-emerald-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=g=>{switch(g){case"pending":return"Awaiting Review";case"terms_agreed":return"Terms Agreed";case"agent_access_pending":return"Awaiting Rights Confirmation";case"waiting_promotion_timer":return"YouTube Timer Active";case"promotion_timer_complete":return"Transfer Complete";case"admin_ownership_confirmed":return"Admin Confirmed Primary Owner";case"buyer_paid_seller":return"Buyer Confirmed Payment";case"seller_confirmed_payment":return"Payment Complete";case"completed":return"Completed";default:return g}},j=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-xsm-yellow"})})})}):o?r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 text-center",children:[r.jsx(ys,{className:"mx-auto mb-4 text-red-400",size:48}),r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Error Loading Deals"}),r.jsx("p",{className:"text-red-200 mb-4",children:o}),r.jsx("button",{onClick:h,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Seller Deals"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Review and manage your incoming deal requests"})]}),e.length===0?r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-8 text-center",children:[r.jsx(tt,{className:"mx-auto mb-4 text-xsm-light-gray",size:48}),r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Deals Yet"}),r.jsx("p",{className:"text-xsm-light-gray",children:"When buyers create deals for your channels, they will appear here for your review."})]}):r.jsx("div",{className:"grid gap-6",children:e.map(g=>r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg p-6 border border-gray-700 hover:border-xsm-yellow transition-colors",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:g.channel_title}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${w(g.deal_status)}`,children:x(g.deal_status)}),!g.seller_agreed&&r.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:"Action Required"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Transaction ID"}),r.jsx("p",{className:"text-white font-mono text-sm",children:g.transaction_id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Buyer"}),r.jsx("p",{className:"text-white font-medium",children:g.buyer_username})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Created"}),r.jsx("p",{className:"text-white",children:j(g.created_at)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Sale Price"}),r.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",g.channel_price]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Escrow Fee"}),r.jsxs("p",{className:"text-white",children:["$",g.escrow_fee]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Payment Methods"}),r.jsxs("p",{className:"text-white",children:[g.payment_methods.length," selected"]})]})]}),g.payment_methods.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xsm-light-gray text-sm mb-2",children:"Available Payment Methods:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.payment_methods.slice(0,3).map((y,v)=>r.jsx("span",{className:"px-2 py-1 bg-gray-700 text-white rounded text-sm",children:y.name},v)),g.payment_methods.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-600 text-white rounded text-sm",children:["+",g.payment_methods.length-3," more"]})]})]}),g.seller_agreed&&g.seller_agreed_at&&r.jsxs("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[r.jsx(le,{size:16}),r.jsxs("span",{children:["You agreed to terms on ",j(g.seller_agreed_at)]})]})]}),r.jsx("div",{className:"lg:ml-6 mt-4 lg:mt-0",children:r.jsxs("button",{onClick:()=>f(g),className:"w-full lg:w-auto bg-xsm-yellow text-black px-6 py-3 rounded-lg hover:bg-yellow-400 transition-colors flex items-center justify-center space-x-2 font-medium",children:[r.jsx(_t,{size:20}),r.jsx("span",{children:g.seller_agreed?"View Deal":"Review Deal"})]})})]})},g.id))}),r.jsx(p3,{isOpen:d,onClose:c,deal:i,onDealUpdate:p})]})})},b3=()=>"https://xsmmarket.com/api",j3=()=>b3().replace("/api",""),N3=({isOpen:e,onClose:t,deal:s,onPaymentConfirmed:n})=>{const[o,a]=u.useState(!1);if(!e)return null;const i=async()=>{try{if(a(!0),!window.confirm(` CONFIRM PAYMENT TO SELLER

Please confirm that you have successfully paid the seller.

 IMPORTANT:
 Only confirm if payment was completed successfully
 You have received payment confirmation from your payment provider
 The seller should receive the funds

This will notify the seller and complete the transaction.

Continue?`)){a(!1);return}const d=localStorage.getItem("token"),m=await fetch(`${j3()}/deals/${s.id}/buyer-paid-seller`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}}),h=await m.json();if(m.ok)alert(` Payment Confirmation Successful!

 Transaction Complete!

 Payment to seller confirmed
 Chat message sent to notify seller
 Deal status updated

Thank you for using our secure marketplace!`),n(s.id),t();else throw new Error(h.message||"Failed to confirm payment")}catch(l){console.error("Error confirming payment:",l),alert(`Failed to confirm payment: ${l.message}

Please try again or contact support.`)}finally{a(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[r.jsx(tt,{className:"mr-3 text-xsm-yellow",size:28}),"Confirm Payment to Seller"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ee,{size:24})})]}),r.jsxs("div",{className:"bg-xsm-medium-gray rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-white font-medium mb-2",children:"Deal Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Channel:"}),r.jsx("p",{className:"text-white font-medium",children:s.channel_title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Amount:"}),r.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",typeof s.channel_price=="number"?s.channel_price.toFixed(2):parseFloat(s.channel_price||"0").toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Seller:"}),r.jsx("p",{className:"text-white",children:s.seller_name||s.seller_email})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Transaction ID:"}),r.jsx("p",{className:"text-gray-300 font-mono text-xs",children:s.transaction_id||`#${s.id}`})]})]})]}),r.jsx("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(mt,{className:"text-green-400 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-green-300 font-medium mb-1",children:"Secure Payment Process"}),r.jsx("p",{className:"text-green-200 text-sm",children:"Our agent now has full control of the channel. You can safely proceed with payment as the account is secured and ready for transfer."})]})]})}),r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Instructions"}),r.jsxs("div",{className:"text-blue-200 text-sm space-y-2",children:[r.jsx("p",{children:" Contact the seller using your agreed payment method (PayPal, Bank Transfer, etc.)"}),r.jsxs("p",{children:[" Send the payment amount: ",r.jsxs("strong",{className:"text-white",children:["$",typeof s.channel_price=="number"?s.channel_price.toFixed(2):parseFloat(s.channel_price||"0").toFixed(2)]})]}),r.jsx("p",{children:" Ensure you receive payment confirmation from your payment provider"}),r.jsx("p",{children:' Only click "I Have Paid The Seller" after successful payment completion'})]})]}),r.jsx("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-red-200 text-sm",children:[r.jsx("strong",{children:" Final Confirmation Required"}),r.jsx("br",{}),'Only click "I Have Paid The Seller" if you have successfully sent the payment to the seller. This action will notify the seller and mark the transaction as complete.']})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{onClick:i,disabled:o,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(le,{className:"mr-2",size:20}),"I Have Paid The Seller"]})})]})]})})})},k3=()=>"https://xsmmarket.com/api",S3=()=>k3().replace("/api",""),yf=S3(),C3=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[o,a]=u.useState(null),[i,l]=u.useState(!1),[d,m]=u.useState(!1),[h,f]=u.useState(null),[c,p]=u.useState(null),w=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),x=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=b=>{switch(b){case"pending":return"text-yellow-400";case"seller_reviewing":return"text-blue-400";case"terms_agreed":return"text-green-400";case"fee_paid":return"text-purple-400";case"escrow_paid":return"text-cyan-400";case"completed":return"text-green-500";case"cancelled":case"disputed":return"text-red-400";default:return"text-gray-400"}},g=b=>{switch(b){case"pending":return"Waiting for Seller";case"seller_reviewing":return"Under Review";case"terms_agreed":return"Terms Agreed";case"fee_paid":return"Fee Paid";case"escrow_paid":return"In Escrow";case"completed":return"Completed";case"cancelled":return"Cancelled";case"disputed":return"Disputed";default:return b.replace("_"," ").replace(/\b\w/g,E=>E.toUpperCase())}},y=async()=>{try{const b=localStorage.getItem("token");console.log("Fetching buyer deals...");const _=await(await fetch(`${yf}/api/deals/buyer`,{headers:{Authorization:`Bearer ${b}`}})).json();console.log("Buyer deals response:",_),_.success?(console.log("Buyer deals fetched successfully:",_.deals),t(_.deals)):console.error("API error:",_.message)}catch(b){console.error("Error fetching deals:",b)}finally{n(!1)}};u.useEffect(()=>{y()},[]);const v=b=>b.seller_agreed&&!b.transaction_fee_paid,C=b=>{a(b),l(!0)},S=()=>{l(!1),a(null),y()},k=b=>{f(b),m(!0)},N=async b=>{try{if(p(b),!window.confirm(` FINAL PAYMENT CONFIRMATION

Please confirm that you have successfully paid the seller.

 Only confirm if:
 You have completed payment via your selected method
 You received payment confirmation from your provider
 You have seen agent ownership screenshots
 You are ready to receive the account

This will notify the seller and complete the transaction.

Continue?`)){p(null);return}const _=localStorage.getItem("token"),D=await fetch(`${yf}/deals/${b}/buyer-paid-seller`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}}),O=await D.json();if(D.ok)alert(` Payment Confirmation Successful!

 Transaction Complete!

 Payment to seller confirmed
 Chat notification sent
 Agent will finalize account transfer

Transaction ID: ${O.transaction_id||b}

You will receive the final account details soon. Thank you for using our secure marketplace!`),m(!1),f(null),y();else throw new Error(O.message||"Failed to confirm payment to seller")}catch(E){console.error("Error confirming payment to seller:",E),alert("Failed to confirm payment: "+E.message)}finally{p(null)}};return s?r.jsx("div",{className:"min-h-screen bg-xsm-dark-bg flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-xsm-yellow"})}):r.jsxs("div",{className:"min-h-screen bg-xsm-dark-bg",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Deals"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Track and manage your channel purchase deals"})]}),e.length===0?r.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[r.jsx(lr,{className:"mx-auto text-gray-600 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Deals Found"}),r.jsx("p",{className:"text-gray-400",children:"You haven't created any deals yet. Browse channels to start your first deal!"})]}):r.jsx("div",{className:"space-y-6",children:e.map(b=>r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:b.channel_title}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(b.deal_status)} bg-gray-700`,children:g(b.deal_status)})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Transaction ID"}),r.jsx("p",{className:"font-mono text-sm text-white",children:b.transaction_id})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Seller"}),r.jsxs("p",{className:"font-medium text-white flex items-center",children:[r.jsx(jt,{size:16,className:"mr-1"}),b.seller_username]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Channel Price"}),r.jsx("p",{className:"font-semibold text-green-400",children:w(b.channel_price)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Fee"}),r.jsx("p",{className:"font-medium text-xsm-yellow",children:w(b.escrow_fee)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Created"}),r.jsxs("p",{className:"font-medium text-white flex items-center",children:[r.jsx(og,{size:16,className:"mr-1"}),x(b.created_at)]})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Deal Progress"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(le,{className:"text-green-400",size:16}),r.jsx("span",{className:"text-white",children:"Deal Created"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[b.seller_agreed?r.jsx(le,{className:"text-green-400",size:16}):r.jsx(bt,{className:"text-yellow-400",size:16}),r.jsx("span",{className:"text-white",children:"Seller Agreement"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[b.transaction_fee_paid?r.jsx(le,{className:"text-green-400",size:16}):r.jsx(bt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Transaction Fee"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[b.seller_gave_rights?r.jsx(le,{className:"text-green-400",size:16}):b.agent_email_sent?r.jsx(bt,{className:"text-blue-400",size:16}):r.jsx(bt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Agent Access"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Channel Transfer"})]})]})]}),b.payment_methods&&b.payment_methods.length>0&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Selected Payment Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:b.payment_methods.map(E=>r.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-600 text-blue-100",children:[r.jsx(Ri,{size:12,className:"mr-1"}),E.name]},E.id))})]}),b.transaction_fee_paid&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(le,{size:16}),r.jsx("span",{className:"font-medium",children:"Transaction Fee Paid"})]}),r.jsxs("p",{className:"text-green-200 text-sm mt-1",children:["Paid by ",b.transaction_fee_paid_by==="buyer"?"you":"the seller","via ",b.transaction_fee_payment_method]})]}),b.agent_email_sent&&!b.seller_gave_rights&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-blue-300",children:[r.jsx(bt,{size:16}),r.jsx("span",{className:"font-medium",children:"Waiting for Seller to Give Agent Access"})]}),r.jsx("p",{className:"text-blue-200 text-sm mt-1",children:"Our agent's email has been provided to the seller. They need to give account access so we can verify and facilitate the secure transfer."})]}),b.seller_gave_rights&&!b.seller_made_primary_owner&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(le,{size:16}),r.jsx("span",{className:"font-medium",children:"Agent Access Confirmed"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"The seller has given our agent access to the account. Our team is now verifying the account details and preparing for secure transfer."})]}),b.seller_made_primary_owner&&!b.buyer_paid_seller&&r.jsxs("div",{className:"bg-purple-900 border border-purple-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[r.jsx(le,{size:16}),r.jsx("span",{className:"font-medium",children:" Agent Has Primary Ownership"})]}),r.jsx("p",{className:"text-purple-200 text-sm mt-1",children:"Excellent! Our agent now has full control of the channel and has secured it. You can now safely pay the seller using your selected payment method."})]}),b.buyer_paid_seller&&r.jsxs("div",{className:"bg-emerald-900 border border-emerald-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-emerald-300",children:[r.jsx(le,{size:16}),r.jsx("span",{className:"font-medium",children:" Payment to Seller Confirmed"})]}),r.jsx("p",{className:"text-emerald-200 text-sm mt-1",children:"Payment confirmed! Our agent is now preparing the final account transfer. You will receive the account credentials shortly."}),b.buyer_paid_seller_at&&r.jsxs("p",{className:"text-emerald-300 text-xs mt-2",children:["Confirmed on ",x(b.buyer_paid_seller_at)]})]}),b.seller_agreed&&!b.transaction_fee_paid&&r.jsxs("div",{className:"bg-xsm-yellow bg-opacity-10 border border-xsm-yellow rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-xsm-yellow font-medium mb-2",children:"Next Step Required"}),r.jsx("p",{className:"text-yellow-200 text-sm",children:"The seller has agreed to your payment methods. Now you or the seller need to pay the transaction fee to proceed."})]}),!b.seller_agreed&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Waiting for Seller"}),r.jsx("p",{className:"text-blue-200 text-sm",children:"The seller is reviewing your payment methods. They will either accept them or contact you to discuss alternatives."})]}),r.jsxs("div",{className:"flex space-x-3",children:[v(b)&&r.jsxs("button",{onClick:()=>C(b),className:"bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium flex items-center space-x-2",children:[r.jsx(tt,{size:16}),r.jsx("span",{children:"Pay Transaction Fee"})]}),(console.log("Deal debug:",{id:b.id,seller_made_primary_owner:b.seller_made_primary_owner,buyer_paid_seller:b.buyer_paid_seller,seller_gave_rights:b.seller_gave_rights,agent_email_sent:b.agent_email_sent}),b.seller_made_primary_owner&&!b.buyer_paid_seller)&&r.jsxs("button",{onClick:()=>k(b),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center space-x-2",children:[r.jsx(tt,{size:16}),r.jsx("span",{children:"Pay Seller"})]}),r.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition-colors",onClick:()=>{alert("Chat functionality will be implemented soon")},children:"Contact Seller"})]})]},b.id))})]}),r.jsx(j0,{isOpen:i,onClose:()=>l(!1),deal:o,userType:"buyer",onPaymentComplete:S}),h&&r.jsx(N3,{isOpen:d,onClose:()=>{m(!1),f(null)},deal:{id:h.id,channel_title:h.channel_title,channel_price:h.channel_price,seller_name:h.seller_username,seller_email:h.seller_username,transaction_id:h.transaction_id},onPaymentConfirmed:N})]})},E3=()=>{const[e,t]=u.useState("home"),{isLoggedIn:s,user:n}=Xe();N4(),q.useEffect(()=>{console.log("Current page changed to:",e)},[e]);const o=()=>{switch(console.log(" Rendering page:",e),e){case"home":return r.jsx(Xh,{children:r.jsx(UC,{setCurrentPage:t})});case"sell":return r.jsx(VC,{setCurrentPage:t});case"chat":return r.jsx(KC,{});case"profile":return r.jsx(rE,{setCurrentPage:t});case"my-deals":return r.jsx(C3,{});case"seller-deals":return r.jsx(w3,{});case"about":return r.jsx(sE,{});case"contact":return r.jsx(i3,{setCurrentPage:t});case"terms":return r.jsx(nE,{});case"privacy":return r.jsx(oE,{});case"login":return r.jsx(ff,{setCurrentPage:t});case"signup":return r.jsx(iE,{setCurrentPage:t});case"verify":return r.jsx(zE,{setCurrentPage:t});case"email-verify":return r.jsx(UE,{setCurrentPage:t});case"forgot-password":return r.jsx(BE,{setCurrentPage:t});case"admin-dashboard":return s?r.jsx(o3,{setCurrentPage:t}):(t("login"),r.jsx(ff,{setCurrentPage:t}));default:return r.jsx("div",{className:"text-white p-8",children:"Default Home"})}};return r.jsxs("div",{className:"min-h-screen bg-xsm-black",children:[r.jsxs(Xh,{children:[r.jsx(eN,{}),r.jsx(VN,{}),r.jsx(_C,{currentPage:e,setCurrentPage:t}),r.jsx("main",{className:"animate-fade-in",children:o()}),r.jsxs("button",{onClick:()=>t("chat"),className:"fixed bg-xsm-yellow hover:bg-yellow-500 text-black p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-[9999] flex items-center justify-center relative",style:{bottom:"24px",right:"24px",position:"fixed"},"aria-label":"Open Chat",children:[r.jsx(cr,{className:"w-6 h-6"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})]}),r.jsx("footer",{className:"bg-xsm-black border-t border-xsm-medium-gray/30 py-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("div",{className:"group relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-radial from-xsm-yellow/30 via-xsm-medium-gray/30 to-transparent rounded-full blur-lg opacity-80 group-hover:opacity-100 transition-all duration-300 group-hover:from-xsm-yellow/50"}),r.jsx("div",{className:"absolute -inset-2 bg-gradient-radial from-xsm-yellow/15 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 animate-pulse"}),r.jsx("div",{className:"absolute -inset-6 bg-gradient-radial from-xsm-yellow/5 via-transparent to-transparent rounded-full animate-pulse opacity-70"}),r.jsx("img",{src:"/images/logo.png",alt:"XSM Market Logo",className:"h-10 md:h-[48px] object-contain relative z-10 drop-shadow-[0_0_4px_rgba(255,208,0,0.5)]"})]}),r.jsx("button",{onClick:()=>{t("sell"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-xsm-yellow text-black px-4 py-2 text-sm font-medium rounded hover:bg-yellow-500 transition-colors",children:"Begin Selling"})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-xsm-light-gray",children:[r.jsx("button",{onClick:()=>{t("about"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"About Us"}),r.jsx("button",{onClick:()=>{t("contact"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Contact"}),r.jsx("button",{onClick:()=>{t("terms"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Terms of Service"}),r.jsx("button",{onClick:()=>{t("privacy"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Privacy Policy"})]}),r.jsx("p",{className:"mt-3 text-center text-xs text-xsm-medium-gray",children:" 2025 XSM Market. All rights reserved."})]})})]})},T3=()=>(console.log("Google Client ID:","706026691678-kbn3pqlj9f5t7o8sri6lf5ucgi03btjb.apps.googleusercontent.com"),r.jsx(v4,{clientId:"706026691678-kbn3pqlj9f5t7o8sri6lf5ucgi03btjb.apps.googleusercontent.com",children:r.jsx(mN,{children:r.jsx(fN,{children:r.jsx(p4,{children:r.jsx(E3,{})})})})}));Rp(document.getElementById("root")).render(r.jsx(T3,{}));
