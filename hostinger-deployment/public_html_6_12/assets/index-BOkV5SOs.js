function vw(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ex={exports:{}},Di={},tx={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=Symbol.for("react.element"),ww=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Nw=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),Cw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Pw=Symbol.for("react.memo"),Tw=Symbol.for("react.lazy"),Bm=Symbol.iterator;function _w(e){return e===null||typeof e!="object"?null:(e=Bm&&e[Bm]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sx=Object.assign,nx={};function Pn(e,t,s){this.props=e,this.context=t,this.refs=nx,this.updater=s||rx}Pn.prototype.isReactComponent={};Pn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ax(){}ax.prototype=Pn.prototype;function Yd(e,t,s){this.props=e,this.context=t,this.refs=nx,this.updater=s||rx}var qd=Yd.prototype=new ax;qd.constructor=Yd;sx(qd,Pn.prototype);qd.isPureReactComponent=!0;var Vm=Array.isArray,ox=Object.prototype.hasOwnProperty,Kd={current:null},ix={key:!0,ref:!0,__self:!0,__source:!0};function lx(e,t,s){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)ox.call(t,n)&&!ix.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),m=0;m<l;m++)c[m]=arguments[m+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ua,type:e,key:o,ref:i,props:a,_owner:Kd.current}}function Aw(e,t){return{$$typeof:Ua,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ua}function Iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Wm=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iw(""+e.key):t.toString(36)}function Ao(e,t,s,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ua:case ww:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Rl(i,0):n,Vm(a)?(s="",e!=null&&(s=e.replace(Wm,"$&/")+"/"),Ao(a,t,s,"",function(m){return m})):a!=null&&(Xd(a)&&(a=Aw(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wm,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Vm(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Rl(o,l);i+=Ao(o,t,s,c,a)}else if(c=_w(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Rl(o,l++),i+=Ao(o,t,s,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function eo(e,t,s){if(e==null)return e;var n=[],a=0;return Ao(e,n,"","",function(o){return t.call(s,o,a++)}),n}function Mw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},Io={transition:null},Rw={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:Io,ReactCurrentOwner:Kd};function cx(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:eo,forEach:function(e,t,s){eo(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return eo(e,function(){t++}),t},toArray:function(e){return eo(e,function(t){return t})||[]},only:function(e){if(!Xd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=Pn;de.Fragment=bw;de.Profiler=Nw;de.PureComponent=Yd;de.StrictMode=jw;de.Suspense=Ew;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;de.act=cx;de.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sx({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Kd.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ox.call(t,c)&&!ix.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];n.children=l}return{$$typeof:Ua,type:e.type,key:a,ref:o,props:n,_owner:i}};de.createContext=function(e){return e={$$typeof:Sw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kw,_context:e},e.Consumer=e};de.createElement=lx;de.createFactory=function(e){var t=lx.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Cw,render:e}};de.isValidElement=Xd;de.lazy=function(e){return{$$typeof:Tw,_payload:{_status:-1,_result:e},_init:Mw}};de.memo=function(e,t){return{$$typeof:Pw,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Io.transition;Io.transition={};try{e()}finally{Io.transition=t}};de.unstable_act=cx;de.useCallback=function(e,t){return at.current.useCallback(e,t)};de.useContext=function(e){return at.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return at.current.useDeferredValue(e)};de.useEffect=function(e,t){return at.current.useEffect(e,t)};de.useId=function(){return at.current.useId()};de.useImperativeHandle=function(e,t,s){return at.current.useImperativeHandle(e,t,s)};de.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return at.current.useMemo(e,t)};de.useReducer=function(e,t,s){return at.current.useReducer(e,t,s)};de.useRef=function(e){return at.current.useRef(e)};de.useState=function(e){return at.current.useState(e)};de.useSyncExternalStore=function(e,t,s){return at.current.useSyncExternalStore(e,t,s)};de.useTransition=function(){return at.current.useTransition()};de.version="18.3.1";tx.exports=de;var u=tx.exports;const K=Ri(u),dx=vw({__proto__:null,default:K},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=u,Lw=Symbol.for("react.element"),Ow=Symbol.for("react.fragment"),$w=Object.prototype.hasOwnProperty,Fw=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zw={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)$w.call(t,n)&&!zw.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Lw,type:e,key:o,ref:i,props:a,_owner:Fw.current}}Di.Fragment=Ow;Di.jsx=ux;Di.jsxs=ux;ex.exports=Di;var r=ex.exports,mx={exports:{}},Ct={},hx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,P){var M=_.length;_.push(P);e:for(;0<M;){var R=M-1>>>1,V=_[R];if(0<a(V,P))_[R]=P,_[M]=V,M=R;else break e}}function s(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var P=_[0],M=_.pop();if(M!==P){_[0]=M;e:for(var R=0,V=_.length,W=V>>>1;R<W;){var D=2*(R+1)-1,k=_[D],$=D+1,z=_[$];if(0>a(k,M))$<V&&0>a(z,k)?(_[R]=z,_[$]=M,R=$):(_[R]=k,_[D]=M,R=D);else if($<V&&0>a(z,M))_[R]=z,_[$]=M,R=$;else break e}}return P}function a(_,P){var M=_.sortIndex-P.sortIndex;return M!==0?M:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],m=[],h=1,f=null,d=3,p=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(_){for(var P=s(m);P!==null;){if(P.callback===null)n(m);else if(P.startTime<=_)n(m),P.sortIndex=P.expirationTime,t(c,P);else break;P=s(m)}}function N(_){if(x=!1,v(_),!w)if(s(c)!==null)w=!0,B(E);else{var P=s(m);P!==null&&q(N,P.startTime-_)}}function E(_,P){w=!1,x&&(x=!1,g(j),j=-1),p=!0;var M=d;try{for(v(P),f=s(c);f!==null&&(!(f.expirationTime>P)||_&&!L());){var R=f.callback;if(typeof R=="function"){f.callback=null,d=f.priorityLevel;var V=R(f.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?f.callback=V:f===s(c)&&n(c),v(P)}else n(c);f=s(c)}if(f!==null)var W=!0;else{var D=s(m);D!==null&&q(N,D.startTime-P),W=!1}return W}finally{f=null,d=M,p=!1}}var S=!1,C=null,j=-1,T=5,A=-1;function L(){return!(e.unstable_now()-A<T)}function F(){if(C!==null){var _=e.unstable_now();A=_;var P=!0;try{P=C(!0,_)}finally{P?U():(S=!1,C=null)}}else S=!1}var U;if(typeof y=="function")U=function(){y(F)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,O=I.port2;I.port1.onmessage=F,U=function(){O.postMessage(null)}}else U=function(){b(F,0)};function B(_){C=_,S||(S=!0,U())}function q(_,P){j=b(function(){_(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,B(E))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var M=d;d=P;try{return _()}finally{d=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var M=d;d=_;try{return P()}finally{d=M}},e.unstable_scheduleCallback=function(_,P,M){var R=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?R+M:R):M=R,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=M+V,_={id:h++,callback:P,priorityLevel:_,startTime:M,expirationTime:V,sortIndex:-1},M>R?(_.sortIndex=M,t(m,_),s(c)===null&&_===s(m)&&(x?(g(j),j=-1):x=!0,q(N,M-R))):(_.sortIndex=V,t(c,_),w||p||(w=!0,B(E))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var P=d;return function(){var M=d;d=P;try{return _.apply(this,arguments)}finally{d=M}}}})(fx);hx.exports=fx;var Uw=hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=u,St=Uw;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xx=new Set,ha={};function As(e,t){hn(e,t),hn(e+"Capture",t)}function hn(e,t){for(ha[e]=t,e=0;e<t.length;e++)xx.add(t[e])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=Object.prototype.hasOwnProperty,Vw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hm={},Gm={};function Ww(e){return Nc.call(Gm,e)?!0:Nc.call(Hm,e)?!1:Vw.test(e)?Gm[e]=!0:(Hm[e]=!0,!1)}function Hw(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gw(e,t,s,n){if(t===null||typeof t>"u"||Hw(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,s,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qd=/[\-:]([a-z])/g;function Jd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qd,Jd);qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qd,Jd);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qd,Jd);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zd(e,t,s,n){var a=qe.hasOwnProperty(t)?qe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gw(t,s,a,n)&&(s=null),n||a===null?Ww(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Ar=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),gx=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),Cc=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),yx=Symbol.for("react.offscreen"),Ym=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=Ym&&e[Ym]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Dl;function Kn(e){if(Dl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Dl=t&&t[1]||""}return`
`+Dl+e}var Ll=!1;function Ol(e,t){if(!e||Ll)return"";Ll=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ll=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Kn(e):""}function Yw(e){switch(e.tag){case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return e=Ol(e.type,!1),e;case 11:return e=Ol(e.type.render,!1),e;case 1:return e=Ol(e.type,!0),e;default:return""}}function Ec(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Vs:return"Portal";case kc:return"Profiler";case eu:return"StrictMode";case Sc:return"Suspense";case Cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gx:return(e.displayName||"Context")+".Consumer";case px:return(e._context.displayName||"Context")+".Provider";case tu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Ec(e.type)||"Memo";case Or:t=e._payload,e=e._init;try{return Ec(e(t))}catch{}}return null}function qw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ec(t);case 8:return t===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kw(e){var t=vx(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ro(e){e._valueTracker||(e._valueTracker=Kw(e))}function wx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=vx(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pc(e,t){var s=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function qm(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Zr(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bx(e,t){t=t.checked,t!=null&&Zd(e,"checked",t,!1)}function Tc(e,t){bx(e,t);var s=Zr(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_c(e,t.type,s):t.hasOwnProperty("defaultValue")&&_c(e,t.type,Zr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Km(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function _c(e,t,s){(t!=="number"||Zo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Xn=Array.isArray;function rn(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Zr(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ac(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Y(92));if(Xn(s)){if(1<s.length)throw Error(Y(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Zr(s)}}function jx(e,t){var s=Zr(t.value),n=Zr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Qm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ic(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var so,kx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=so.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fa(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(e){Xw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ta[t]=ta[e]})});function Sx(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ta.hasOwnProperty(e)&&ta[e]?(""+t).trim():t+"px"}function Cx(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=Sx(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var Qw=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mc(e,t){if(t){if(Qw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Rc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lc=null,sn=null,nn=null;function Jm(e){if(e=Wa(e)){if(typeof Lc!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=zi(t),Lc(e.stateNode,e.type,t))}}function Ex(e){sn?nn?nn.push(e):nn=[e]:sn=e}function Px(){if(sn){var e=sn,t=nn;if(nn=sn=null,Jm(e),t)for(e=0;e<t.length;e++)Jm(t[e])}}function Tx(e,t){return e(t)}function _x(){}var $l=!1;function Ax(e,t,s){if($l)return e(t,s);$l=!0;try{return Tx(e,t,s)}finally{$l=!1,(sn!==null||nn!==null)&&(_x(),Px())}}function xa(e,t){var s=e.stateNode;if(s===null)return null;var n=zi(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Y(231,t,typeof s));return s}var Oc=!1;if(kr)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Oc=!1}function Jw(e,t,s,n,a,o,i,l,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(s,m)}catch(h){this.onError(h)}}var ra=!1,ei=null,ti=!1,$c=null,Zw={onError:function(e){ra=!0,ei=e}};function eb(e,t,s,n,a,o,i,l,c){ra=!1,ei=null,Jw.apply(Zw,arguments)}function tb(e,t,s,n,a,o,i,l,c){if(eb.apply(this,arguments),ra){if(ra){var m=ei;ra=!1,ei=null}else throw Error(Y(198));ti||(ti=!0,$c=m)}}function Is(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Ix(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zm(e){if(Is(e)!==e)throw Error(Y(188))}function rb(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return Zm(a),e;if(o===n)return Zm(a),t;o=o.sibling}throw Error(Y(188))}if(s.return!==n.return)s=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===s){i=!0,s=a,n=o;break}if(l===n){i=!0,n=a,s=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===s){i=!0,s=o,n=a;break}if(l===n){i=!0,n=o,s=a;break}l=l.sibling}if(!i)throw Error(Y(189))}}if(s.alternate!==n)throw Error(Y(190))}if(s.tag!==3)throw Error(Y(188));return s.stateNode.current===s?e:t}function Mx(e){return e=rb(e),e!==null?Rx(e):null}function Rx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rx(e);if(t!==null)return t;e=e.sibling}return null}var Dx=St.unstable_scheduleCallback,eh=St.unstable_cancelCallback,sb=St.unstable_shouldYield,nb=St.unstable_requestPaint,Te=St.unstable_now,ab=St.unstable_getCurrentPriorityLevel,nu=St.unstable_ImmediatePriority,Lx=St.unstable_UserBlockingPriority,ri=St.unstable_NormalPriority,ob=St.unstable_LowPriority,Ox=St.unstable_IdlePriority,Li=null,ur=null;function ib(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:db,lb=Math.log,cb=Math.LN2;function db(e){return e>>>=0,e===0?32:31-(lb(e)/cb|0)|0}var no=64,ao=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function si(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=s&268435455;if(i!==0){var l=i&~a;l!==0?n=Qn(l):(o&=i,o!==0&&(n=Qn(o)))}else i=s&~a,i!==0?n=Qn(i):o!==0&&(n=Qn(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Qt(t),a=1<<s,n|=e[s],t&=~a;return n}function ub(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mb(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Qt(o),l=1<<i,c=a[i];c===-1?(!(l&s)||l&n)&&(a[i]=ub(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Fc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $x(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function Fl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ba(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=s}function hb(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Qt(s),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~o}}function au(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Qt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var fe=0;function Fx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zx,ou,Ux,Bx,Vx,zc=!1,oo=[],Wr=null,Hr=null,Gr=null,pa=new Map,ga=new Map,Fr=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function th(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ga.delete(t.pointerId)}}function Un(e,t,s,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Wa(t),t!==null&&ou(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xb(e,t,s,n,a){switch(t){case"focusin":return Wr=Un(Wr,e,t,s,n,a),!0;case"dragenter":return Hr=Un(Hr,e,t,s,n,a),!0;case"mouseover":return Gr=Un(Gr,e,t,s,n,a),!0;case"pointerover":var o=a.pointerId;return pa.set(o,Un(pa.get(o)||null,e,t,s,n,a)),!0;case"gotpointercapture":return o=a.pointerId,ga.set(o,Un(ga.get(o)||null,e,t,s,n,a)),!0}return!1}function Wx(e){var t=fs(e.target);if(t!==null){var s=Is(t);if(s!==null){if(t=s.tag,t===13){if(t=Ix(s),t!==null){e.blockedOn=t,Vx(e.priority,function(){Ux(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Uc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Dc=n,s.target.dispatchEvent(n),Dc=null}else return t=Wa(s),t!==null&&ou(t),e.blockedOn=s,!1;t.shift()}return!0}function rh(e,t,s){Mo(e)&&s.delete(t)}function pb(){zc=!1,Wr!==null&&Mo(Wr)&&(Wr=null),Hr!==null&&Mo(Hr)&&(Hr=null),Gr!==null&&Mo(Gr)&&(Gr=null),pa.forEach(rh),ga.forEach(rh)}function Bn(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,pb)))}function ya(e){function t(a){return Bn(a,e)}if(0<oo.length){Bn(oo[0],e);for(var s=1;s<oo.length;s++){var n=oo[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Wr!==null&&Bn(Wr,e),Hr!==null&&Bn(Hr,e),Gr!==null&&Bn(Gr,e),pa.forEach(t),ga.forEach(t),s=0;s<Fr.length;s++)n=Fr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fr.length&&(s=Fr[0],s.blockedOn===null);)Wx(s),s.blockedOn===null&&Fr.shift()}var an=Ar.ReactCurrentBatchConfig,ni=!0;function gb(e,t,s,n){var a=fe,o=an.transition;an.transition=null;try{fe=1,iu(e,t,s,n)}finally{fe=a,an.transition=o}}function yb(e,t,s,n){var a=fe,o=an.transition;an.transition=null;try{fe=4,iu(e,t,s,n)}finally{fe=a,an.transition=o}}function iu(e,t,s,n){if(ni){var a=Uc(e,t,s,n);if(a===null)Kl(e,t,n,ai,s),th(e,n);else if(xb(a,e,t,s,n))n.stopPropagation();else if(th(e,n),t&4&&-1<fb.indexOf(e)){for(;a!==null;){var o=Wa(a);if(o!==null&&zx(o),o=Uc(e,t,s,n),o===null&&Kl(e,t,n,ai,s),o===a)break;a=o}a!==null&&n.stopPropagation()}else Kl(e,t,n,null,s)}}var ai=null;function Uc(e,t,s,n){if(ai=null,e=su(n),e=fs(e),e!==null)if(t=Is(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Ix(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function Hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ab()){case nu:return 1;case Lx:return 4;case ri:case ob:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var Ur=null,lu=null,Ro=null;function Gx(){if(Ro)return Ro;var e,t=lu,s=t.length,n,a="value"in Ur?Ur.value:Ur.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[o-n];n++);return Ro=a.slice(e,1<n?1-n:void 0)}function Do(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function sh(){return!1}function Et(e){function t(s,n,a,o,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?io:sh,this.isPropagationStopped=sh,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),t}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Et(Tn),Va=Ee({},Tn,{view:0,detail:0}),vb=Et(Va),zl,Ul,Vn,Oi=Ee({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(zl=e.screenX-Vn.screenX,Ul=e.screenY-Vn.screenY):Ul=zl=0,Vn=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),nh=Et(Oi),wb=Ee({},Oi,{dataTransfer:0}),bb=Et(wb),jb=Ee({},Va,{relatedTarget:0}),Bl=Et(jb),Nb=Ee({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=Et(Nb),Sb=Ee({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cb=Et(Sb),Eb=Ee({},Tn,{data:0}),ah=Et(Eb),Pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_b={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ab(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_b[e])?!!t[e]:!1}function du(){return Ab}var Ib=Ee({},Va,{key:function(e){if(e.key){var t=Pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mb=Et(Ib),Rb=Ee({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=Et(Rb),Db=Ee({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Lb=Et(Db),Ob=Ee({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$b=Et(Ob),Fb=Ee({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zb=Et(Fb),Ub=[9,13,27,32],uu=kr&&"CompositionEvent"in window,sa=null;kr&&"documentMode"in document&&(sa=document.documentMode);var Bb=kr&&"TextEvent"in window&&!sa,Yx=kr&&(!uu||sa&&8<sa&&11>=sa),ih=" ",lh=!1;function qx(e,t){switch(e){case"keyup":return Ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function Vb(e,t){switch(e){case"compositionend":return Kx(t);case"keypress":return t.which!==32?null:(lh=!0,ih);case"textInput":return e=t.data,e===ih&&lh?null:e;default:return null}}function Wb(e,t){if(Hs)return e==="compositionend"||!uu&&qx(e,t)?(e=Gx(),Ro=lu=Ur=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yx&&t.locale!=="ko"?null:t.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hb[e.type]:t==="textarea"}function Xx(e,t,s,n){Ex(n),t=oi(t,"onChange"),0<t.length&&(s=new cu("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var na=null,va=null;function Gb(e){ip(e,0)}function $i(e){var t=qs(e);if(wx(t))return e}function Yb(e,t){if(e==="change")return t}var Qx=!1;if(kr){var Vl;if(kr){var Wl="oninput"in document;if(!Wl){var dh=document.createElement("div");dh.setAttribute("oninput","return;"),Wl=typeof dh.oninput=="function"}Vl=Wl}else Vl=!1;Qx=Vl&&(!document.documentMode||9<document.documentMode)}function uh(){na&&(na.detachEvent("onpropertychange",Jx),va=na=null)}function Jx(e){if(e.propertyName==="value"&&$i(va)){var t=[];Xx(t,va,e,su(e)),Ax(Gb,t)}}function qb(e,t,s){e==="focusin"?(uh(),na=t,va=s,na.attachEvent("onpropertychange",Jx)):e==="focusout"&&uh()}function Kb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(va)}function Xb(e,t){if(e==="click")return $i(t)}function Qb(e,t){if(e==="input"||e==="change")return $i(t)}function Jb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Jb;function wa(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Nc.call(t,a)||!Zt(e[a],t[a]))return!1}return!0}function mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hh(e,t){var s=mh(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mh(s)}}function Zx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ep(){for(var e=window,t=Zo();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Zo(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zb(e){var t=ep(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Zx(s.ownerDocument.documentElement,s)){if(n!==null&&mu(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=hh(s,o);var i=hh(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e1=kr&&"documentMode"in document&&11>=document.documentMode,Gs=null,Bc=null,aa=null,Vc=!1;function fh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vc||Gs==null||Gs!==Zo(n)||(n=Gs,"selectionStart"in n&&mu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),aa&&wa(aa,n)||(aa=n,n=oi(Bc,"onSelect"),0<n.length&&(t=new cu("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Gs)))}function lo(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ys={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},Hl={},tp={};kr&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Fi(e){if(Hl[e])return Hl[e];if(!Ys[e])return e;var t=Ys[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in tp)return Hl[e]=t[s];return e}var rp=Fi("animationend"),sp=Fi("animationiteration"),np=Fi("animationstart"),ap=Fi("transitionend"),op=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){op.set(e,t),As(t,[e])}for(var Gl=0;Gl<xh.length;Gl++){var Yl=xh[Gl],t1=Yl.toLowerCase(),r1=Yl[0].toUpperCase()+Yl.slice(1);as(t1,"on"+r1)}as(rp,"onAnimationEnd");as(sp,"onAnimationIteration");as(np,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(ap,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function ph(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,tb(n,t,void 0,e),e.currentTarget=null}function ip(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,m=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;ph(a,l,m),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,m=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;ph(a,l,m),o=c}}}if(ti)throw e=$c,ti=!1,$c=null,e}function be(e,t){var s=t[qc];s===void 0&&(s=t[qc]=new Set);var n=e+"__bubble";s.has(n)||(lp(t,e,2,!1),s.add(n))}function ql(e,t,s){var n=0;t&&(n|=4),lp(s,e,n,t)}var co="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[co]){e[co]=!0,xx.forEach(function(s){s!=="selectionchange"&&(s1.has(s)||ql(s,!1,e),ql(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[co]||(t[co]=!0,ql("selectionchange",!1,t))}}function lp(e,t,s,n){switch(Hx(t)){case 1:var a=gb;break;case 4:a=yb;break;default:a=iu}s=a.bind(null,t,s,e),a=void 0,!Oc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Kl(e,t,s,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=fs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Ax(function(){var m=o,h=su(s),f=[];e:{var d=op.get(e);if(d!==void 0){var p=cu,w=e;switch(e){case"keypress":if(Do(s)===0)break e;case"keydown":case"keyup":p=Mb;break;case"focusin":w="focus",p=Bl;break;case"focusout":w="blur",p=Bl;break;case"beforeblur":case"afterblur":p=Bl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Lb;break;case rp:case sp:case np:p=kb;break;case ap:p=$b;break;case"scroll":p=vb;break;case"wheel":p=zb;break;case"copy":case"cut":case"paste":p=Cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oh}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?d!==null?d+"Capture":null:d;x=[];for(var y=m,v;y!==null;){v=y;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,g!==null&&(N=xa(y,g),N!=null&&x.push(ja(y,N,v)))),b)break;y=y.return}0<x.length&&(d=new p(d,w,null,s,h),f.push({event:d,listeners:x}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&s!==Dc&&(w=s.relatedTarget||s.fromElement)&&(fs(w)||w[Sr]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=s.relatedTarget||s.toElement,p=m,w=w?fs(w):null,w!==null&&(b=Is(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=m),p!==w)){if(x=nh,N="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=oh,N="onPointerLeave",g="onPointerEnter",y="pointer"),b=p==null?d:qs(p),v=w==null?d:qs(w),d=new x(N,y+"leave",p,s,h),d.target=b,d.relatedTarget=v,N=null,fs(h)===m&&(x=new x(g,y+"enter",w,s,h),x.target=v,x.relatedTarget=b,N=x),b=N,p&&w)t:{for(x=p,g=w,y=0,v=x;v;v=Fs(v))y++;for(v=0,N=g;N;N=Fs(N))v++;for(;0<y-v;)x=Fs(x),y--;for(;0<v-y;)g=Fs(g),v--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=Fs(x),g=Fs(g)}x=null}else x=null;p!==null&&gh(f,d,p,x,!1),w!==null&&b!==null&&gh(f,b,w,x,!0)}}e:{if(d=m?qs(m):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var E=Yb;else if(ch(d))if(Qx)E=Qb;else{E=Kb;var S=qb}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=Xb);if(E&&(E=E(e,m))){Xx(f,E,s,h);break e}S&&S(e,d,m),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&_c(d,"number",d.value)}switch(S=m?qs(m):window,e){case"focusin":(ch(S)||S.contentEditable==="true")&&(Gs=S,Bc=m,aa=null);break;case"focusout":aa=Bc=Gs=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,fh(f,s,h);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":fh(f,s,h)}var C;if(uu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Hs?qx(e,s)&&(j="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(j="onCompositionStart");j&&(Yx&&s.locale!=="ko"&&(Hs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Hs&&(C=Gx()):(Ur=h,lu="value"in Ur?Ur.value:Ur.textContent,Hs=!0)),S=oi(m,j),0<S.length&&(j=new ah(j,e,null,s,h),f.push({event:j,listeners:S}),C?j.data=C:(C=Kx(s),C!==null&&(j.data=C)))),(C=Bb?Vb(e,s):Wb(e,s))&&(m=oi(m,"onBeforeInput"),0<m.length&&(h=new ah("onBeforeInput","beforeinput",null,s,h),f.push({event:h,listeners:m}),h.data=C))}ip(f,t)})}function ja(e,t,s){return{instance:e,listener:t,currentTarget:s}}function oi(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=xa(e,s),o!=null&&n.unshift(ja(e,o,a)),o=xa(e,t),o!=null&&n.push(ja(e,o,a))),e=e.return}return n}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gh(e,t,s,n,a){for(var o=t._reactName,i=[];s!==null&&s!==n;){var l=s,c=l.alternate,m=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&m!==null&&(l=m,a?(c=xa(s,o),c!=null&&i.unshift(ja(s,c,l))):a||(c=xa(s,o),c!=null&&i.push(ja(s,c,l)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var n1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(n1,`
`).replace(a1,"")}function uo(e,t,s){if(t=yh(t),yh(e)!==t&&s)throw Error(Y(425))}function ii(){}var Wc=null,Hc=null;function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=typeof setTimeout=="function"?setTimeout:void 0,o1=typeof clearTimeout=="function"?clearTimeout:void 0,vh=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof vh<"u"?function(e){return vh.resolve(null).then(e).catch(l1)}:Yc;function l1(e){setTimeout(function(){throw e})}function Xl(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),ya(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);ya(t)}function Yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var _n=Math.random().toString(36).slice(2),lr="__reactFiber$"+_n,Na="__reactProps$"+_n,Sr="__reactContainer$"+_n,qc="__reactEvents$"+_n,c1="__reactListeners$"+_n,d1="__reactHandles$"+_n;function fs(e){var t=e[lr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Sr]||s[lr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=wh(e);e!==null;){if(s=e[lr])return s;e=wh(e)}return t}e=s,s=e.parentNode}return null}function Wa(e){return e=e[lr]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function zi(e){return e[Na]||null}var Kc=[],Ks=-1;function os(e){return{current:e}}function je(e){0>Ks||(e.current=Kc[Ks],Kc[Ks]=null,Ks--)}function ye(e,t){Ks++,Kc[Ks]=e.current,e.current=t}var es={},tt=os(es),ft=os(!1),ws=es;function fn(e,t){var s=e.type.contextTypes;if(!s)return es;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xt(e){return e=e.childContextTypes,e!=null}function li(){je(ft),je(tt)}function bh(e,t,s){if(tt.current!==es)throw Error(Y(168));ye(tt,t),ye(ft,s)}function cp(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,qw(e)||"Unknown",a));return Ee({},s,n)}function ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,ws=tt.current,ye(tt,e),ye(ft,ft.current),!0}function jh(e,t,s){var n=e.stateNode;if(!n)throw Error(Y(169));s?(e=cp(e,t,ws),n.__reactInternalMemoizedMergedChildContext=e,je(ft),je(tt),ye(tt,e)):je(ft),ye(ft,s)}var yr=null,Ui=!1,Ql=!1;function dp(e){yr===null?yr=[e]:yr.push(e)}function u1(e){Ui=!0,dp(e)}function is(){if(!Ql&&yr!==null){Ql=!0;var e=0,t=fe;try{var s=yr;for(fe=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}yr=null,Ui=!1}catch(a){throw yr!==null&&(yr=yr.slice(e+1)),Dx(nu,is),a}finally{fe=t,Ql=!1}}return null}var Xs=[],Qs=0,di=null,ui=0,At=[],It=0,bs=null,vr=1,wr="";function ms(e,t){Xs[Qs++]=ui,Xs[Qs++]=di,di=e,ui=t}function up(e,t,s){At[It++]=vr,At[It++]=wr,At[It++]=bs,bs=e;var n=vr;e=wr;var a=32-Qt(n)-1;n&=~(1<<a),s+=1;var o=32-Qt(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,vr=1<<32-Qt(t)+a|s<<a|n,wr=o+e}else vr=1<<o|s<<a|n,wr=e}function hu(e){e.return!==null&&(ms(e,1),up(e,1,0))}function fu(e){for(;e===di;)di=Xs[--Qs],Xs[Qs]=null,ui=Xs[--Qs],Xs[Qs]=null;for(;e===bs;)bs=At[--It],At[It]=null,wr=At[--It],At[It]=null,vr=At[--It],At[It]=null}var jt=null,bt=null,Ne=!1,Xt=null;function mp(e,t){var s=Mt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Nh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,bt=Yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=bs!==null?{id:vr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Mt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,jt=e,bt=null,!0):!1;default:return!1}}function Xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qc(e){if(Ne){var t=bt;if(t){var s=t;if(!Nh(e,t)){if(Xc(e))throw Error(Y(418));t=Yr(s.nextSibling);var n=jt;t&&Nh(e,t)?mp(n,s):(e.flags=e.flags&-4097|2,Ne=!1,jt=e)}}else{if(Xc(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ne=!1,jt=e}}}function kh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function mo(e){if(e!==jt)return!1;if(!Ne)return kh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gc(e.type,e.memoizedProps)),t&&(t=bt)){if(Xc(e))throw hp(),Error(Y(418));for(;t;)mp(e,t),t=Yr(t.nextSibling)}if(kh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){bt=Yr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=jt?Yr(e.stateNode.nextSibling):null;return!0}function hp(){for(var e=bt;e;)e=Yr(e.nextSibling)}function xn(){bt=jt=null,Ne=!1}function xu(e){Xt===null?Xt=[e]:Xt.push(e)}var m1=Ar.ReactCurrentBatchConfig;function Wn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Y(309));var n=s.stateNode}if(!n)throw Error(Y(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!s._owner)throw Error(Y(290,e))}return e}function ho(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sh(e){var t=e._init;return t(e._payload)}function fp(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function s(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Qr(g,y),g.index=0,g.sibling=null,g}function o(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,v,N){return y===null||y.tag!==6?(y=nc(v,g.mode,N),y.return=g,y):(y=a(y,v),y.return=g,y)}function c(g,y,v,N){var E=v.type;return E===Ws?h(g,y,v.props.children,N,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Or&&Sh(E)===y.type)?(N=a(y,v.props),N.ref=Wn(g,y,v),N.return=g,N):(N=Bo(v.type,v.key,v.props,null,g.mode,N),N.ref=Wn(g,y,v),N.return=g,N)}function m(g,y,v,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ac(v,g.mode,N),y.return=g,y):(y=a(y,v.children||[]),y.return=g,y)}function h(g,y,v,N,E){return y===null||y.tag!==7?(y=ys(v,g.mode,N,E),y.return=g,y):(y=a(y,v),y.return=g,y)}function f(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nc(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case to:return v=Bo(y.type,y.key,y.props,null,g.mode,v),v.ref=Wn(g,null,y),v.return=g,v;case Vs:return y=ac(y,g.mode,v),y.return=g,y;case Or:var N=y._init;return f(g,N(y._payload),v)}if(Xn(y)||Fn(y))return y=ys(y,g.mode,v,null),y.return=g,y;ho(g,y)}return null}function d(g,y,v,N){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(g,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case to:return v.key===E?c(g,y,v,N):null;case Vs:return v.key===E?m(g,y,v,N):null;case Or:return E=v._init,d(g,y,E(v._payload),N)}if(Xn(v)||Fn(v))return E!==null?null:h(g,y,v,N,null);ho(g,v)}return null}function p(g,y,v,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return g=g.get(v)||null,l(y,g,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case to:return g=g.get(N.key===null?v:N.key)||null,c(y,g,N,E);case Vs:return g=g.get(N.key===null?v:N.key)||null,m(y,g,N,E);case Or:var S=N._init;return p(g,y,v,S(N._payload),E)}if(Xn(N)||Fn(N))return g=g.get(v)||null,h(y,g,N,E,null);ho(y,N)}return null}function w(g,y,v,N){for(var E=null,S=null,C=y,j=y=0,T=null;C!==null&&j<v.length;j++){C.index>j?(T=C,C=null):T=C.sibling;var A=d(g,C,v[j],N);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(g,C),y=o(A,y,j),S===null?E=A:S.sibling=A,S=A,C=T}if(j===v.length)return s(g,C),Ne&&ms(g,j),E;if(C===null){for(;j<v.length;j++)C=f(g,v[j],N),C!==null&&(y=o(C,y,j),S===null?E=C:S.sibling=C,S=C);return Ne&&ms(g,j),E}for(C=n(g,C);j<v.length;j++)T=p(C,g,j,v[j],N),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?j:T.key),y=o(T,y,j),S===null?E=T:S.sibling=T,S=T);return e&&C.forEach(function(L){return t(g,L)}),Ne&&ms(g,j),E}function x(g,y,v,N){var E=Fn(v);if(typeof E!="function")throw Error(Y(150));if(v=E.call(v),v==null)throw Error(Y(151));for(var S=E=null,C=y,j=y=0,T=null,A=v.next();C!==null&&!A.done;j++,A=v.next()){C.index>j?(T=C,C=null):T=C.sibling;var L=d(g,C,A.value,N);if(L===null){C===null&&(C=T);break}e&&C&&L.alternate===null&&t(g,C),y=o(L,y,j),S===null?E=L:S.sibling=L,S=L,C=T}if(A.done)return s(g,C),Ne&&ms(g,j),E;if(C===null){for(;!A.done;j++,A=v.next())A=f(g,A.value,N),A!==null&&(y=o(A,y,j),S===null?E=A:S.sibling=A,S=A);return Ne&&ms(g,j),E}for(C=n(g,C);!A.done;j++,A=v.next())A=p(C,g,j,A.value,N),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?j:A.key),y=o(A,y,j),S===null?E=A:S.sibling=A,S=A);return e&&C.forEach(function(F){return t(g,F)}),Ne&&ms(g,j),E}function b(g,y,v,N){if(typeof v=="object"&&v!==null&&v.type===Ws&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case to:e:{for(var E=v.key,S=y;S!==null;){if(S.key===E){if(E=v.type,E===Ws){if(S.tag===7){s(g,S.sibling),y=a(S,v.props.children),y.return=g,g=y;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Or&&Sh(E)===S.type){s(g,S.sibling),y=a(S,v.props),y.ref=Wn(g,S,v),y.return=g,g=y;break e}s(g,S);break}else t(g,S);S=S.sibling}v.type===Ws?(y=ys(v.props.children,g.mode,N,v.key),y.return=g,g=y):(N=Bo(v.type,v.key,v.props,null,g.mode,N),N.ref=Wn(g,y,v),N.return=g,g=N)}return i(g);case Vs:e:{for(S=v.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){s(g,y.sibling),y=a(y,v.children||[]),y.return=g,g=y;break e}else{s(g,y);break}else t(g,y);y=y.sibling}y=ac(v,g.mode,N),y.return=g,g=y}return i(g);case Or:return S=v._init,b(g,y,S(v._payload),N)}if(Xn(v))return w(g,y,v,N);if(Fn(v))return x(g,y,v,N);ho(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(s(g,y.sibling),y=a(y,v),y.return=g,g=y):(s(g,y),y=nc(v,g.mode,N),y.return=g,g=y),i(g)):s(g,y)}return b}var pn=fp(!0),xp=fp(!1),mi=os(null),hi=null,Js=null,pu=null;function gu(){pu=Js=hi=null}function yu(e){var t=mi.current;je(mi),e._currentValue=t}function Jc(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function on(e,t){hi=e,pu=Js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(pu!==e)if(e={context:e,memoizedValue:t,next:null},Js===null){if(hi===null)throw Error(Y(308));Js=e,hi.dependencies={lanes:0,firstContext:e}}else Js=Js.next=e;return t}var xs=null;function vu(e){xs===null?xs=[e]:xs.push(e)}function pp(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,vu(t)):(s.next=a.next,a.next=s),t.interleaved=s,Cr(e,n)}function Cr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $r=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cr(e,s)}return a=n.interleaved,a===null?(t.next=t,vu(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cr(e,s)}function Lo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,au(e,s)}}function Ch(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=i:o=o.next=i,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function fi(e,t,s,n){var a=e.updateQueue;$r=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,m=c.next;c.next=null,i===null?o=m:i.next=m,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=m:l.next=m,h.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;i=0,h=m=c=null,l=o;do{var d=l.lane,p=l.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(d=t,p=s,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(p,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,d=typeof w=="function"?w.call(p,f,d):w,d==null)break e;f=Ee({},f,d);break e;case 2:$r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=a.effects,d===null?a.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(m=h=p,c=f):h=h.next=p,i|=d;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;d=l,l=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(h===null&&(c=f),a.baseState=c,a.firstBaseUpdate=m,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Ns|=i,e.lanes=i,e.memoizedState=f}}function Eh(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var Ha={},mr=os(Ha),ka=os(Ha),Sa=os(Ha);function ps(e){if(e===Ha)throw Error(Y(174));return e}function bu(e,t){switch(ye(Sa,t),ye(ka,e),ye(mr,Ha),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ic(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ic(t,e)}je(mr),ye(mr,t)}function gn(){je(mr),je(ka),je(Sa)}function yp(e){ps(Sa.current);var t=ps(mr.current),s=Ic(t,e.type);t!==s&&(ye(ka,e),ye(mr,s))}function ju(e){ka.current===e&&(je(mr),je(ka))}var Se=os(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function Nu(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var Oo=Ar.ReactCurrentDispatcher,Zl=Ar.ReactCurrentBatchConfig,js=0,Ce=null,Le=null,ze=null,pi=!1,oa=!1,Ca=0,h1=0;function Je(){throw Error(Y(321))}function ku(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Zt(e[s],t[s]))return!1;return!0}function Su(e,t,s,n,a,o){if(js=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oo.current=e===null||e.memoizedState===null?g1:y1,e=s(n,a),oa){o=0;do{if(oa=!1,Ca=0,25<=o)throw Error(Y(301));o+=1,ze=Le=null,t.updateQueue=null,Oo.current=v1,e=s(n,a)}while(oa)}if(Oo.current=gi,t=Le!==null&&Le.next!==null,js=0,ze=Le=Ce=null,pi=!1,t)throw Error(Y(300));return e}function Cu(){var e=Ca!==0;return Ca=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ce.memoizedState=ze=e:ze=ze.next=e,ze}function zt(){if(Le===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ze===null?Ce.memoizedState:ze.next;if(t!==null)ze=t,Le=e;else{if(e===null)throw Error(Y(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Ce.memoizedState=ze=e:ze=ze.next=e}return ze}function Ea(e,t){return typeof t=="function"?t(e):t}function ec(e){var t=zt(),s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=e;var n=Le,a=n.baseQueue,o=s.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,m=o;do{var h=m.lane;if((js&h)===h)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:e(n,m.action);else{var f={lane:h,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ce.lanes|=h,Ns|=h}m=m.next}while(m!==null&&m!==o);c===null?i=n:c.next=l,Zt(n,t.memoizedState)||(mt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do o=a.lane,Ce.lanes|=o,Ns|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function tc(e){var t=zt(),s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Zt(o,t.memoizedState)||(mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,n]}function vp(){}function wp(e,t){var s=Ce,n=zt(),a=t(),o=!Zt(n.memoizedState,a);if(o&&(n.memoizedState=a,mt=!0),n=n.queue,Eu(Np.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,Pa(9,jp.bind(null,s,n,a,t),void 0,null),Ue===null)throw Error(Y(349));js&30||bp(s,t,a)}return a}function bp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function jp(e,t,s,n){t.value=s,t.getSnapshot=n,kp(t)&&Sp(e)}function Np(e,t,s){return s(function(){kp(t)&&Sp(e)})}function kp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Zt(e,s)}catch{return!0}}function Sp(e){var t=Cr(e,1);t!==null&&Jt(t,e,1,-1)}function Ph(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=p1.bind(null,Ce,e),[t.memoizedState,e]}function Pa(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Cp(){return zt().memoizedState}function $o(e,t,s,n){var a=ir();Ce.flags|=e,a.memoizedState=Pa(1|t,s,void 0,n===void 0?null:n)}function Bi(e,t,s,n){var a=zt();n=n===void 0?null:n;var o=void 0;if(Le!==null){var i=Le.memoizedState;if(o=i.destroy,n!==null&&ku(n,i.deps)){a.memoizedState=Pa(t,s,o,n);return}}Ce.flags|=e,a.memoizedState=Pa(1|t,s,o,n)}function Th(e,t){return $o(8390656,8,e,t)}function Eu(e,t){return Bi(2048,8,e,t)}function Ep(e,t){return Bi(4,2,e,t)}function Pp(e,t){return Bi(4,4,e,t)}function Tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _p(e,t,s){return s=s!=null?s.concat([e]):null,Bi(4,4,Tp.bind(null,t,e),s)}function Pu(){}function Ap(e,t){var s=zt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ku(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Ip(e,t){var s=zt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ku(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Mp(e,t,s){return js&21?(Zt(s,t)||(s=$x(),Ce.lanes|=s,Ns|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=s)}function f1(e,t){var s=fe;fe=s!==0&&4>s?s:4,e(!0);var n=Zl.transition;Zl.transition={};try{e(!1),t()}finally{fe=s,Zl.transition=n}}function Rp(){return zt().memoizedState}function x1(e,t,s){var n=Xr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Dp(e))Lp(t,s);else if(s=pp(e,t,s,n),s!==null){var a=st();Jt(s,e,n,a),Op(s,t,n)}}function p1(e,t,s){var n=Xr(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Dp(e))Lp(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,s);if(a.hasEagerState=!0,a.eagerState=l,Zt(l,i)){var c=t.interleaved;c===null?(a.next=a,vu(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=pp(e,t,a,n),s!==null&&(a=st(),Jt(s,e,n,a),Op(s,t,n))}}function Dp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Lp(e,t){oa=pi=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Op(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,au(e,s)}}var gi={readContext:Ft,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},g1={readContext:Ft,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Th,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,$o(4194308,4,Tp.bind(null,t,e),s)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var s=ir();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=ir();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=x1.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:Ph,useDebugValue:Pu,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=Ph(!1),t=e[0];return e=f1.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Ce,a=ir();if(Ne){if(s===void 0)throw Error(Y(407));s=s()}else{if(s=t(),Ue===null)throw Error(Y(349));js&30||bp(n,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,Th(Np.bind(null,n,o,e),[e]),n.flags|=2048,Pa(9,jp.bind(null,n,o,s,t),void 0,null),s},useId:function(){var e=ir(),t=Ue.identifierPrefix;if(Ne){var s=wr,n=vr;s=(n&~(1<<32-Qt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ca++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=h1++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y1={readContext:Ft,useCallback:Ap,useContext:Ft,useEffect:Eu,useImperativeHandle:_p,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Ip,useReducer:ec,useRef:Cp,useState:function(){return ec(Ea)},useDebugValue:Pu,useDeferredValue:function(e){var t=zt();return Mp(t,Le.memoizedState,e)},useTransition:function(){var e=ec(Ea)[0],t=zt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:wp,useId:Rp,unstable_isNewReconciler:!1},v1={readContext:Ft,useCallback:Ap,useContext:Ft,useEffect:Eu,useImperativeHandle:_p,useInsertionEffect:Ep,useLayoutEffect:Pp,useMemo:Ip,useReducer:tc,useRef:Cp,useState:function(){return tc(Ea)},useDebugValue:Pu,useDeferredValue:function(e){var t=zt();return Le===null?t.memoizedState=e:Mp(t,Le.memoizedState,e)},useTransition:function(){var e=tc(Ea)[0],t=zt().memoizedState;return[e,t]},useMutableSource:vp,useSyncExternalStore:wp,useId:Rp,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Zc(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ee({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vi={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=st(),a=Xr(e),o=Nr(n,a);o.payload=t,s!=null&&(o.callback=s),t=qr(e,o,a),t!==null&&(Jt(t,e,a,n),Lo(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=st(),a=Xr(e),o=Nr(n,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=qr(e,o,a),t!==null&&(Jt(t,e,a,n),Lo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=st(),n=Xr(e),a=Nr(s,n);a.tag=2,t!=null&&(a.callback=t),t=qr(e,a,n),t!==null&&(Jt(t,e,n,s),Lo(t,e,n))}};function _h(e,t,s,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!wa(s,n)||!wa(a,o):!0}function $p(e,t,s){var n=!1,a=es,o=t.contextType;return typeof o=="object"&&o!==null?o=Ft(o):(a=xt(t)?ws:tt.current,n=t.contextTypes,o=(n=n!=null)?fn(e,a):es),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ah(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function ed(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},wu(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Ft(o):(o=xt(t)?ws:tt.current,a.context=fn(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zc(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Vi.enqueueReplaceState(a,a.state,null),fi(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yn(e,t){try{var s="",n=t;do s+=Yw(n),n=n.return;while(n);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function rc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function td(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function Fp(e,t,s){s=Nr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){vi||(vi=!0,ud=n),td(e,t)},s}function zp(e,t,s){s=Nr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){td(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){td(e,t),typeof n!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function Ih(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new w1;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=R1.bind(null,e,t,s),t.then(e,e))}function Mh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rh(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Nr(-1,1),t.tag=2,qr(s,t,1))),s.lanes|=1),e)}var b1=Ar.ReactCurrentOwner,mt=!1;function rt(e,t,s,n){t.child=e===null?xp(t,null,s,n):pn(t,e.child,s,n)}function Dh(e,t,s,n,a){s=s.render;var o=t.ref;return on(t,a),n=Su(e,t,s,n,o,a),s=Cu(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Er(e,t,a)):(Ne&&s&&hu(t),t.flags|=1,rt(e,t,n,a),t.child)}function Lh(e,t,s,n,a){if(e===null){var o=s.type;return typeof o=="function"&&!Lu(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Up(e,t,o,n,a)):(e=Bo(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(s=s.compare,s=s!==null?s:wa,s(i,n)&&e.ref===t.ref)return Er(e,t,a)}return t.flags|=1,e=Qr(o,n),e.ref=t.ref,e.return=t,t.child=e}function Up(e,t,s,n,a){if(e!==null){var o=e.memoizedProps;if(wa(o,n)&&e.ref===t.ref)if(mt=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(mt=!0);else return t.lanes=e.lanes,Er(e,t,a)}return rd(e,t,s,n,a)}function Bp(e,t,s){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(en,yt),yt|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(en,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:s,ye(en,yt),yt|=n}else o!==null?(n=o.baseLanes|s,t.memoizedState=null):n=s,ye(en,yt),yt|=n;return rt(e,t,a,s),t.child}function Vp(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function rd(e,t,s,n,a){var o=xt(s)?ws:tt.current;return o=fn(t,o),on(t,a),s=Su(e,t,s,n,o,a),n=Cu(),e!==null&&!mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Er(e,t,a)):(Ne&&n&&hu(t),t.flags|=1,rt(e,t,s,a),t.child)}function Oh(e,t,s,n,a){if(xt(s)){var o=!0;ci(t)}else o=!1;if(on(t,a),t.stateNode===null)Fo(e,t),$p(t,s,n),ed(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,m=s.contextType;typeof m=="object"&&m!==null?m=Ft(m):(m=xt(s)?ws:tt.current,m=fn(t,m));var h=s.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==m)&&Ah(t,i,n,m),$r=!1;var d=t.memoizedState;i.state=d,fi(t,n,i,a),c=t.memoizedState,l!==n||d!==c||ft.current||$r?(typeof h=="function"&&(Zc(t,s,h,n),c=t.memoizedState),(l=$r||_h(t,s,l,n,d,c,m))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=m,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,gp(e,t),l=t.memoizedProps,m=t.type===t.elementType?l:qt(t.type,l),i.props=m,f=t.pendingProps,d=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=xt(s)?ws:tt.current,c=fn(t,c));var p=s.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||d!==c)&&Ah(t,i,n,c),$r=!1,d=t.memoizedState,i.state=d,fi(t,n,i,a);var w=t.memoizedState;l!==f||d!==w||ft.current||$r?(typeof p=="function"&&(Zc(t,s,p,n),w=t.memoizedState),(m=$r||_h(t,s,m,n,d,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=m):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return sd(e,t,s,n,o,a)}function sd(e,t,s,n,a,o){Vp(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&jh(t,s,!1),Er(e,t,o);n=t.stateNode,b1.current=t;var l=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=pn(t,e.child,null,o),t.child=pn(t,null,l,o)):rt(e,t,l,o),t.memoizedState=n.state,a&&jh(t,s,!0),t.child}function Wp(e){var t=e.stateNode;t.pendingContext?bh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bh(e,t.context,!1),bu(e,t.containerInfo)}function $h(e,t,s,n,a){return xn(),xu(a),t.flags|=256,rt(e,t,s,n),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hp(e,t,s){var n=t.pendingProps,a=Se.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Se,a&1),e===null)return Qc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Gi(i,n,0,null),e=ys(e,n,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ad(s),t.memoizedState=nd,e):Tu(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return j1(e,t,i,n,l,a,s);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Qr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Qr(l,o):(o=ys(o,i,s,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?ad(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~s,t.memoizedState=nd,n}return o=e.child,e=o.sibling,n=Qr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Tu(e,t){return t=Gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fo(e,t,s,n){return n!==null&&xu(n),pn(t,e.child,null,s),e=Tu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j1(e,t,s,n,a,o,i){if(s)return t.flags&256?(t.flags&=-257,n=rc(Error(Y(422))),fo(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Gi({mode:"visible",children:n.children},a,0,null),o=ys(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&pn(t,e.child,null,i),t.child.memoizedState=ad(i),t.memoizedState=nd,o);if(!(t.mode&1))return fo(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(Y(419)),n=rc(o,n,void 0),fo(e,t,i,n)}if(l=(i&e.childLanes)!==0,mt||l){if(n=Ue,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Cr(e,a),Jt(n,e,a,-1))}return Du(),n=rc(Error(Y(421))),fo(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=D1.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,bt=Yr(a.nextSibling),jt=t,Ne=!0,Xt=null,e!==null&&(At[It++]=vr,At[It++]=wr,At[It++]=bs,vr=e.id,wr=e.overflow,bs=t),t=Tu(t,n.children),t.flags|=4096,t)}function Fh(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jc(e.return,t,s)}function sc(e,t,s,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=s,o.tailMode=a)}function Gp(e,t,s){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(rt(e,t,n.children,s),n=Se.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,s,t);else if(e.tag===19)Fh(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Se,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&xi(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),sc(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xi(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}sc(t,!0,s,null,o);break;case"together":sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Er(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Ns|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,s=Qr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Qr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function N1(e,t,s){switch(t.tag){case 3:Wp(t),xn();break;case 5:yp(t);break;case 1:xt(t.type)&&ci(t);break;case 4:bu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ye(mi,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Se,Se.current&1),t.flags|=128,null):s&t.child.childLanes?Hp(e,t,s):(ye(Se,Se.current&1),e=Er(e,t,s),e!==null?e.sibling:null);ye(Se,Se.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Gp(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Se,Se.current),n)break;return null;case 22:case 23:return t.lanes=0,Bp(e,t,s)}return Er(e,t,s)}var Yp,od,qp,Kp;Yp=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};od=function(){};qp=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ps(mr.current);var o=null;switch(s){case"input":a=Pc(e,a),n=Pc(e,n),o=[];break;case"select":a=Ee({},a,{value:void 0}),n=Ee({},n,{value:void 0}),o=[];break;case"textarea":a=Ac(e,a),n=Ac(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ii)}Mc(s,n);var i;s=null;for(m in a)if(!n.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var l=a[m];for(i in l)l.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ha.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in n){var c=n[m];if(l=a!=null?a[m]:void 0,n.hasOwnProperty(m)&&c!==l&&(c!=null||l!=null))if(m==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(o||(o=[]),o.push(m,s)),s=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(ha.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&be("scroll",e),o||l===c||(o=[])):(o=o||[]).push(m,c))}s&&(o=o||[]).push("style",s);var m=o;(t.updateQueue=m)&&(t.flags|=4)}};Kp=function(e,t,s,n){s!==n&&(t.flags|=4)};function Hn(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function k1(e,t,s){var n=t.pendingProps;switch(fu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return xt(t.type)&&li(),Ze(t),null;case 3:return n=t.stateNode,gn(),je(ft),je(tt),Nu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(fd(Xt),Xt=null))),od(e,t),Ze(t),null;case 5:ju(t);var a=ps(Sa.current);if(s=t.type,e!==null&&t.stateNode!=null)qp(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Ze(t),null}if(e=ps(mr.current),mo(t)){n=t.stateNode,s=t.type;var o=t.memoizedProps;switch(n[lr]=t,n[Na]=o,e=(t.mode&1)!==0,s){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(a=0;a<Jn.length;a++)be(Jn[a],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":qm(n,o),be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},be("invalid",n);break;case"textarea":Xm(n,o),be("invalid",n)}Mc(s,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&uo(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&uo(n.textContent,l,e),a=["children",""+l]):ha.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&be("scroll",n)}switch(s){case"input":ro(n),Km(n,o,!0);break;case"textarea":ro(n),Qm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ii)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nx(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[lr]=t,e[Na]=n,Yp(e,t,!1,!1),t.stateNode=e;e:{switch(i=Rc(s,n),s){case"dialog":be("cancel",e),be("close",e),a=n;break;case"iframe":case"object":case"embed":be("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jn.length;a++)be(Jn[a],e);a=n;break;case"source":be("error",e),a=n;break;case"img":case"image":case"link":be("error",e),be("load",e),a=n;break;case"details":be("toggle",e),a=n;break;case"input":qm(e,n),a=Pc(e,n),be("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ee({},n,{value:void 0}),be("invalid",e);break;case"textarea":Xm(e,n),a=Ac(e,n),be("invalid",e);break;default:a=n}Mc(s,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Cx(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kx(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&fa(e,c):typeof c=="number"&&fa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ha.hasOwnProperty(o)?c!=null&&o==="onScroll"&&be("scroll",e):c!=null&&Zd(e,o,c,i))}switch(s){case"input":ro(e),Km(e,n,!1);break;case"textarea":ro(e),Qm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?rn(e,!!n.multiple,o,!1):n.defaultValue!=null&&rn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ii)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Kp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(s=ps(Sa.current),ps(mr.current),mo(t)){if(n=t.stateNode,s=t.memoizedProps,n[lr]=t,(o=n.nodeValue!==s)&&(e=jt,e!==null))switch(e.tag){case 3:uo(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uo(n.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return Ze(t),null;case 13:if(je(Se),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&bt!==null&&t.mode&1&&!(t.flags&128))hp(),xn(),t.flags|=98560,o=!1;else if(o=mo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[lr]=t}else xn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else Xt!==null&&(fd(Xt),Xt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Oe===0&&(Oe=3):Du())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return gn(),od(e,t),e===null&&ba(t.stateNode.containerInfo),Ze(t),null;case 10:return yu(t.type._context),Ze(t),null;case 17:return xt(t.type)&&li(),Ze(t),null;case 19:if(je(Se),o=t.memoizedState,o===null)return Ze(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Hn(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xi(e),i!==null){for(t.flags|=128,Hn(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)o=s,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Te()>vn&&(t.flags|=128,n=!0,Hn(o,!1),t.lanes=4194304)}else{if(!n)if(e=xi(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Hn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ne)return Ze(t),null}else 2*Te()-o.renderingStartTime>vn&&s!==1073741824&&(t.flags|=128,n=!0,Hn(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(s=o.last,s!==null?s.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Te(),t.sibling=null,s=Se.current,ye(Se,n?s&1|2:s&1),t):(Ze(t),null);case 22:case 23:return Ru(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function S1(e,t){switch(fu(t),t.tag){case 1:return xt(t.type)&&li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),je(ft),je(tt),Nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ju(t),null;case 13:if(je(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(Se),null;case 4:return gn(),null;case 10:return yu(t.type._context),null;case 22:case 23:return Ru(),null;case 24:return null;default:return null}}var xo=!1,et=!1,C1=typeof WeakSet=="function"?WeakSet:Set,re=null;function Zs(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Pe(e,t,n)}else s.current=null}function id(e,t,s){try{s()}catch(n){Pe(e,t,n)}}var zh=!1;function E1(e,t){if(Wc=ni,e=ep(),mu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var i=0,l=-1,c=-1,m=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==s||a!==0&&f.nodeType!==3||(l=i+a),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===s&&++m===a&&(l=i),d===o&&++h===n&&(c=i),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hc={focusedElem:e,selectionRange:s},ni=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:qt(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(N){Pe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return w=zh,zh=!1,w}function ia(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&id(t,s,o)}a=a.next}while(a!==n)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function ld(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Xp(e){var t=e.alternate;t!==null&&(e.alternate=null,Xp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Na],delete t[qc],delete t[c1],delete t[d1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qp(e){return e.tag===5||e.tag===3||e.tag===4}function Uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ii));else if(n!==4&&(e=e.child,e!==null))for(cd(e,t,s),e=e.sibling;e!==null;)cd(e,t,s),e=e.sibling}function dd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dd(e,t,s),e=e.sibling;e!==null;)dd(e,t,s),e=e.sibling}var He=null,Kt=!1;function Mr(e,t,s){for(s=s.child;s!==null;)Jp(e,t,s),s=s.sibling}function Jp(e,t,s){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Li,s)}catch{}switch(s.tag){case 5:et||Zs(s,t);case 6:var n=He,a=Kt;He=null,Mr(e,t,s),He=n,Kt=a,He!==null&&(Kt?(e=He,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):He.removeChild(s.stateNode));break;case 18:He!==null&&(Kt?(e=He,s=s.stateNode,e.nodeType===8?Xl(e.parentNode,s):e.nodeType===1&&Xl(e,s),ya(e)):Xl(He,s.stateNode));break;case 4:n=He,a=Kt,He=s.stateNode.containerInfo,Kt=!0,Mr(e,t,s),He=n,Kt=a;break;case 0:case 11:case 14:case 15:if(!et&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&id(s,t,i),a=a.next}while(a!==n)}Mr(e,t,s);break;case 1:if(!et&&(Zs(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Pe(s,t,l)}Mr(e,t,s);break;case 21:Mr(e,t,s);break;case 22:s.mode&1?(et=(n=et)||s.memoizedState!==null,Mr(e,t,s),et=n):Mr(e,t,s);break;default:Mr(e,t,s)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new C1),t.forEach(function(n){var a=L1.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Ht(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Kt=!1;break e;case 3:He=l.stateNode.containerInfo,Kt=!0;break e;case 4:He=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(He===null)throw Error(Y(160));Jp(o,i,a),He=null,Kt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(m){Pe(a,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zp(t,e),t=t.sibling}function Zp(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),ar(e),n&4){try{ia(3,e,e.return),Wi(3,e)}catch(x){Pe(e,e.return,x)}try{ia(5,e,e.return)}catch(x){Pe(e,e.return,x)}}break;case 1:Ht(t,e),ar(e),n&512&&s!==null&&Zs(s,s.return);break;case 5:if(Ht(t,e),ar(e),n&512&&s!==null&&Zs(s,s.return),e.flags&32){var a=e.stateNode;try{fa(a,"")}catch(x){Pe(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=s!==null?s.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&bx(a,o),Rc(l,i);var m=Rc(l,o);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?Cx(a,f):h==="dangerouslySetInnerHTML"?kx(a,f):h==="children"?fa(a,f):Zd(a,h,f,m)}switch(l){case"input":Tc(a,o);break;case"textarea":jx(a,o);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rn(a,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?rn(a,!!o.multiple,o.defaultValue,!0):rn(a,!!o.multiple,o.multiple?[]:"",!1))}a[Na]=o}catch(x){Pe(e,e.return,x)}}break;case 6:if(Ht(t,e),ar(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Pe(e,e.return,x)}}break;case 3:if(Ht(t,e),ar(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(x){Pe(e,e.return,x)}break;case 4:Ht(t,e),ar(e);break;case 13:Ht(t,e),ar(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Iu=Te())),n&4&&Bh(e);break;case 22:if(h=s!==null&&s.memoizedState!==null,e.mode&1?(et=(m=et)||h,Ht(t,e),et=m):Ht(t,e),ar(e),n&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!h&&e.mode&1)for(re=e,h=e.child;h!==null;){for(f=re=h;re!==null;){switch(d=re,p=d.child,d.tag){case 0:case 11:case 14:case 15:ia(4,d,d.return);break;case 1:Zs(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){n=d,s=d.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Pe(n,s,x)}}break;case 5:Zs(d,d.return);break;case 22:if(d.memoizedState!==null){Wh(f);continue}}p!==null?(p.return=d,re=p):Wh(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{a=f.stateNode,m?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sx("display",i))}catch(x){Pe(e,e.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=m?"":f.memoizedProps}catch(x){Pe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(t,e),ar(e),n&4&&Bh(e);break;case 21:break;default:Ht(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Qp(s)){var n=s;break e}s=s.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(fa(a,""),n.flags&=-33);var o=Uh(e);dd(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Uh(e);cd(e,l,i);break;default:throw Error(Y(161))}}catch(c){Pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P1(e,t,s){re=e,eg(e)}function eg(e,t,s){for(var n=(e.mode&1)!==0;re!==null;){var a=re,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||xo;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||et;l=xo;var m=et;if(xo=i,(et=c)&&!m)for(re=a;re!==null;)i=re,c=i.child,i.tag===22&&i.memoizedState!==null?Hh(a):c!==null?(c.return=i,re=c):Hh(a);for(;o!==null;)re=o,eg(o),o=o.sibling;re=a,xo=l,et=m}Vh(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,re=o):Vh(e)}}function Vh(e){for(;re!==null;){var t=re;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Wi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!et)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:qt(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Eh(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Eh(t,i,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var h=m.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ya(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}et||t.flags&512&&ld(t)}catch(d){Pe(t,t.return,d)}}if(t===e){re=null;break}if(s=t.sibling,s!==null){s.return=t.return,re=s;break}re=t.return}}function Wh(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,re=s;break}re=t.return}}function Hh(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Wi(4,t)}catch(c){Pe(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Pe(t,a,c)}}var o=t.return;try{ld(t)}catch(c){Pe(t,o,c)}break;case 5:var i=t.return;try{ld(t)}catch(c){Pe(t,i,c)}}}catch(c){Pe(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var T1=Math.ceil,yi=Ar.ReactCurrentDispatcher,_u=Ar.ReactCurrentOwner,Dt=Ar.ReactCurrentBatchConfig,me=0,Ue=null,Ae=null,Ye=0,yt=0,en=os(0),Oe=0,Ta=null,Ns=0,Hi=0,Au=0,la=null,dt=null,Iu=0,vn=1/0,gr=null,vi=!1,ud=null,Kr=null,po=!1,Br=null,wi=0,ca=0,md=null,zo=-1,Uo=0;function st(){return me&6?Te():zo!==-1?zo:zo=Te()}function Xr(e){return e.mode&1?me&2&&Ye!==0?Ye&-Ye:m1.transition!==null?(Uo===0&&(Uo=$x()),Uo):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Hx(e.type)),e):1}function Jt(e,t,s,n){if(50<ca)throw ca=0,md=null,Error(Y(185));Ba(e,s,n),(!(me&2)||e!==Ue)&&(e===Ue&&(!(me&2)&&(Hi|=s),Oe===4&&zr(e,Ye)),pt(e,n),s===1&&me===0&&!(t.mode&1)&&(vn=Te()+500,Ui&&is()))}function pt(e,t){var s=e.callbackNode;mb(e,t);var n=si(e,e===Ue?Ye:0);if(n===0)s!==null&&eh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&eh(s),t===1)e.tag===0?u1(Gh.bind(null,e)):dp(Gh.bind(null,e)),i1(function(){!(me&6)&&is()}),s=null;else{switch(Fx(n)){case 1:s=nu;break;case 4:s=Lx;break;case 16:s=ri;break;case 536870912:s=Ox;break;default:s=ri}s=lg(s,tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tg(e,t){if(zo=-1,Uo=0,me&6)throw Error(Y(327));var s=e.callbackNode;if(ln()&&e.callbackNode!==s)return null;var n=si(e,e===Ue?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bi(e,n);else{t=n;var a=me;me|=2;var o=sg();(Ue!==e||Ye!==t)&&(gr=null,vn=Te()+500,gs(e,t));do try{I1();break}catch(l){rg(e,l)}while(!0);gu(),yi.current=o,me=a,Ae!==null?t=0:(Ue=null,Ye=0,t=Oe)}if(t!==0){if(t===2&&(a=Fc(e),a!==0&&(n=a,t=hd(e,a))),t===1)throw s=Ta,gs(e,0),zr(e,n),pt(e,Te()),s;if(t===6)zr(e,n);else{if(a=e.current.alternate,!(n&30)&&!_1(a)&&(t=bi(e,n),t===2&&(o=Fc(e),o!==0&&(n=o,t=hd(e,o))),t===1))throw s=Ta,gs(e,0),zr(e,n),pt(e,Te()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:hs(e,dt,gr);break;case 3:if(zr(e,n),(n&130023424)===n&&(t=Iu+500-Te(),10<t)){if(si(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){st(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Yc(hs.bind(null,e,dt,gr),t);break}hs(e,dt,gr);break;case 4:if(zr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Qt(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T1(n/1960))-n,10<n){e.timeoutHandle=Yc(hs.bind(null,e,dt,gr),n);break}hs(e,dt,gr);break;case 5:hs(e,dt,gr);break;default:throw Error(Y(329))}}}return pt(e,Te()),e.callbackNode===s?tg.bind(null,e):null}function hd(e,t){var s=la;return e.current.memoizedState.isDehydrated&&(gs(e,t).flags|=256),e=bi(e,t),e!==2&&(t=dt,dt=s,t!==null&&fd(t)),e}function fd(e){dt===null?dt=e:dt.push.apply(dt,e)}function _1(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],o=a.getSnapshot;a=a.value;try{if(!Zt(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zr(e,t){for(t&=~Au,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Qt(t),n=1<<s;e[s]=-1,t&=~n}}function Gh(e){if(me&6)throw Error(Y(327));ln();var t=si(e,0);if(!(t&1))return pt(e,Te()),null;var s=bi(e,t);if(e.tag!==0&&s===2){var n=Fc(e);n!==0&&(t=n,s=hd(e,n))}if(s===1)throw s=Ta,gs(e,0),zr(e,t),pt(e,Te()),s;if(s===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,dt,gr),pt(e,Te()),null}function Mu(e,t){var s=me;me|=1;try{return e(t)}finally{me=s,me===0&&(vn=Te()+500,Ui&&is())}}function ks(e){Br!==null&&Br.tag===0&&!(me&6)&&ln();var t=me;me|=1;var s=Dt.transition,n=fe;try{if(Dt.transition=null,fe=1,e)return e()}finally{fe=n,Dt.transition=s,me=t,!(me&6)&&is()}}function Ru(){yt=en.current,je(en)}function gs(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,o1(s)),Ae!==null)for(s=Ae.return;s!==null;){var n=s;switch(fu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&li();break;case 3:gn(),je(ft),je(tt),Nu();break;case 5:ju(n);break;case 4:gn();break;case 13:je(Se);break;case 19:je(Se);break;case 10:yu(n.type._context);break;case 22:case 23:Ru()}s=s.return}if(Ue=e,Ae=e=Qr(e.current,null),Ye=yt=t,Oe=0,Ta=null,Au=Hi=Ns=0,dt=la=null,xs!==null){for(t=0;t<xs.length;t++)if(s=xs[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,o=s.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}s.pending=n}xs=null}return e}function rg(e,t){do{var s=Ae;try{if(gu(),Oo.current=gi,pi){for(var n=Ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pi=!1}if(js=0,ze=Le=Ce=null,oa=!1,Ca=0,_u.current=null,s===null||s.return===null){Oe=1,Ta=t,Ae=null;break}e:{var o=e,i=s.return,l=s,c=t;if(t=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Mh(i);if(p!==null){p.flags&=-257,Rh(p,i,l,o,t),p.mode&1&&Ih(o,m,t),t=p,c=m;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Ih(o,m,t),Du();break e}c=Error(Y(426))}}else if(Ne&&l.mode&1){var b=Mh(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Rh(b,i,l,o,t),xu(yn(c,l));break e}}o=c=yn(c,l),Oe!==4&&(Oe=2),la===null?la=[o]:la.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Fp(o,c,t);Ch(o,g);break e;case 1:l=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Kr===null||!Kr.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=zp(o,l,t);Ch(o,N);break e}}o=o.return}while(o!==null)}ag(s)}catch(E){t=E,Ae===s&&s!==null&&(Ae=s=s.return);continue}break}while(!0)}function sg(){var e=yi.current;return yi.current=gi,e===null?gi:e}function Du(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(Ns&268435455)&&!(Hi&268435455)||zr(Ue,Ye)}function bi(e,t){var s=me;me|=2;var n=sg();(Ue!==e||Ye!==t)&&(gr=null,gs(e,t));do try{A1();break}catch(a){rg(e,a)}while(!0);if(gu(),me=s,yi.current=n,Ae!==null)throw Error(Y(261));return Ue=null,Ye=0,Oe}function A1(){for(;Ae!==null;)ng(Ae)}function I1(){for(;Ae!==null&&!sb();)ng(Ae)}function ng(e){var t=ig(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?ag(e):Ae=t,_u.current=null}function ag(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=S1(s,t),s!==null){s.flags&=32767,Ae=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ae=null;return}}else if(s=k1(s,t,yt),s!==null){Ae=s;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Oe===0&&(Oe=5)}function hs(e,t,s){var n=fe,a=Dt.transition;try{Dt.transition=null,fe=1,M1(e,t,s,n)}finally{Dt.transition=a,fe=n}return null}function M1(e,t,s,n){do ln();while(Br!==null);if(me&6)throw Error(Y(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(hb(e,o),e===Ue&&(Ae=Ue=null,Ye=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||po||(po=!0,lg(ri,function(){return ln(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Dt.transition,Dt.transition=null;var i=fe;fe=1;var l=me;me|=4,_u.current=null,E1(e,s),Zp(s,e),Zb(Hc),ni=!!Wc,Hc=Wc=null,e.current=s,P1(s),nb(),me=l,fe=i,Dt.transition=o}else e.current=s;if(po&&(po=!1,Br=e,wi=a),o=e.pendingLanes,o===0&&(Kr=null),ib(s.stateNode),pt(e,Te()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(vi)throw vi=!1,e=ud,ud=null,e;return wi&1&&e.tag!==0&&ln(),o=e.pendingLanes,o&1?e===md?ca++:(ca=0,md=e):ca=0,is(),null}function ln(){if(Br!==null){var e=Fx(wi),t=Dt.transition,s=fe;try{if(Dt.transition=null,fe=16>e?16:e,Br===null)var n=!1;else{if(e=Br,Br=null,wi=0,me&6)throw Error(Y(331));var a=me;for(me|=4,re=e.current;re!==null;){var o=re,i=o.child;if(re.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var m=l[c];for(re=m;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:ia(8,h,o)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var d=h.sibling,p=h.return;if(Xp(h),h===m){re=null;break}if(d!==null){d.return=p,re=d;break}re=p}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}re=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,re=i;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ia(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,re=g;break e}re=o.return}}var y=e.current;for(re=y;re!==null;){i=re;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,re=v;else e:for(i=y;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wi(9,l)}}catch(E){Pe(l,l.return,E)}if(l===i){re=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,re=N;break e}re=l.return}}if(me=a,is(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Li,e)}catch{}n=!0}return n}finally{fe=s,Dt.transition=t}}return!1}function Yh(e,t,s){t=yn(s,t),t=Fp(e,t,1),e=qr(e,t,1),t=st(),e!==null&&(Ba(e,1,t),pt(e,t))}function Pe(e,t,s){if(e.tag===3)Yh(e,e,s);else for(;t!==null;){if(t.tag===3){Yh(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kr===null||!Kr.has(n))){e=yn(s,e),e=zp(t,e,1),t=qr(t,e,1),e=st(),t!==null&&(Ba(t,1,e),pt(t,e));break}}t=t.return}}function R1(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&s,Ue===e&&(Ye&s)===s&&(Oe===4||Oe===3&&(Ye&130023424)===Ye&&500>Te()-Iu?gs(e,0):Au|=s),pt(e,t)}function og(e,t){t===0&&(e.mode&1?(t=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):t=1);var s=st();e=Cr(e,t),e!==null&&(Ba(e,t,s),pt(e,s))}function D1(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),og(e,s)}function L1(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),og(e,s)}var ig;ig=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)mt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return mt=!1,N1(e,t,s);mt=!!(e.flags&131072)}else mt=!1,Ne&&t.flags&1048576&&up(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fo(e,t),e=t.pendingProps;var a=fn(t,tt.current);on(t,s),a=Su(null,t,n,e,a,s);var o=Cu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(n)?(o=!0,ci(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wu(t),a.updater=Vi,t.stateNode=a,a._reactInternals=t,ed(t,n,e,s),t=sd(null,t,n,!0,o,s)):(t.tag=0,Ne&&o&&hu(t),rt(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Fo(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$1(n),e=qt(n,e),a){case 0:t=rd(null,t,n,e,s);break e;case 1:t=Oh(null,t,n,e,s);break e;case 11:t=Dh(null,t,n,e,s);break e;case 14:t=Lh(null,t,n,qt(n.type,e),s);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qt(n,a),rd(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qt(n,a),Oh(e,t,n,a,s);case 3:e:{if(Wp(t),e===null)throw Error(Y(387));n=t.pendingProps,o=t.memoizedState,a=o.element,gp(e,t),fi(t,n,null,s);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=yn(Error(Y(423)),t),t=$h(e,t,n,s,a);break e}else if(n!==a){a=yn(Error(Y(424)),t),t=$h(e,t,n,s,a);break e}else for(bt=Yr(t.stateNode.containerInfo.firstChild),jt=t,Ne=!0,Xt=null,s=xp(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xn(),n===a){t=Er(e,t,s);break e}rt(e,t,n,s)}t=t.child}return t;case 5:return yp(t),e===null&&Qc(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Gc(n,a)?i=null:o!==null&&Gc(n,o)&&(t.flags|=32),Vp(e,t),rt(e,t,i,s),t.child;case 6:return e===null&&Qc(t),null;case 13:return Hp(e,t,s);case 4:return bu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pn(t,null,n,s):rt(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qt(n,a),Dh(e,t,n,a,s);case 7:return rt(e,t,t.pendingProps,s),t.child;case 8:return rt(e,t,t.pendingProps.children,s),t.child;case 12:return rt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,ye(mi,n._currentValue),n._currentValue=i,o!==null)if(Zt(o.value,i)){if(o.children===a.children&&!ft.current){t=Er(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Nr(-1,s&-s),c.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var h=m.pending;h===null?c.next=c:(c.next=h.next,h.next=c),m.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Jc(o.return,s,t),l.lanes|=s;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(Y(341));i.lanes|=s,l=i.alternate,l!==null&&(l.lanes|=s),Jc(i,s,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}rt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,on(t,s),a=Ft(a),n=n(a),t.flags|=1,rt(e,t,n,s),t.child;case 14:return n=t.type,a=qt(n,t.pendingProps),a=qt(n.type,a),Lh(e,t,n,a,s);case 15:return Up(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qt(n,a),Fo(e,t),t.tag=1,xt(n)?(e=!0,ci(t)):e=!1,on(t,s),$p(t,n,a),ed(t,n,a,s),sd(null,t,n,!0,e,s);case 19:return Gp(e,t,s);case 22:return Bp(e,t,s)}throw Error(Y(156,t.tag))};function lg(e,t){return Dx(e,t)}function O1(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,s,n){return new O1(e,t,s,n)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $1(e){if(typeof e=="function")return Lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tu)return 11;if(e===ru)return 14}return 2}function Qr(e,t){var s=e.alternate;return s===null?(s=Mt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Bo(e,t,s,n,a,o){var i=2;if(n=e,typeof e=="function")Lu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ws:return ys(s.children,a,o,t);case eu:i=8,a|=8;break;case kc:return e=Mt(12,s,t,a|2),e.elementType=kc,e.lanes=o,e;case Sc:return e=Mt(13,s,t,a),e.elementType=Sc,e.lanes=o,e;case Cc:return e=Mt(19,s,t,a),e.elementType=Cc,e.lanes=o,e;case yx:return Gi(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case px:i=10;break e;case gx:i=9;break e;case tu:i=11;break e;case ru:i=14;break e;case Or:i=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Mt(i,s,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function ys(e,t,s,n){return e=Mt(7,e,n,t),e.lanes=s,e}function Gi(e,t,s,n){return e=Mt(22,e,n,t),e.elementType=yx,e.lanes=s,e.stateNode={isHidden:!1},e}function nc(e,t,s){return e=Mt(6,e,null,t),e.lanes=s,e}function ac(e,t,s){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F1(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ou(e,t,s,n,a,o,i,l,c){return e=new F1(e,t,s,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},wu(o),e}function z1(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function cg(e){if(!e)return es;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var s=e.type;if(xt(s))return cp(e,s,t)}return t}function dg(e,t,s,n,a,o,i,l,c){return e=Ou(s,n,!0,e,a,o,i,l,c),e.context=cg(null),s=e.current,n=st(),a=Xr(s),o=Nr(n,a),o.callback=t??null,qr(s,o,a),e.current.lanes=a,Ba(e,a,n),pt(e,n),e}function Yi(e,t,s,n){var a=t.current,o=st(),i=Xr(a);return s=cg(s),t.context===null?t.context=s:t.pendingContext=s,t=Nr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qr(a,t,i),e!==null&&(Jt(e,a,i,o),Lo(e,a,i)),i}function ji(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function $u(e,t){qh(e,t),(e=e.alternate)&&qh(e,t)}function U1(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}qi.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Yi(e,t,null,null)};qi.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ks(function(){Yi(null,e,null,null)}),t[Sr]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bx();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Fr.length&&t!==0&&t<Fr[s].priority;s++);Fr.splice(s,0,e),s===0&&Wx(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function B1(e,t,s,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var m=ji(i);o.call(m)}}var i=dg(t,n,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=i,e[Sr]=i.current,ba(e.nodeType===8?e.parentNode:e),ks(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var m=ji(c);l.call(m)}}var c=Ou(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=c,e[Sr]=c.current,ba(e.nodeType===8?e.parentNode:e),ks(function(){Yi(t,c,s,n)}),c}function Xi(e,t,s,n,a){var o=s._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=ji(i);l.call(c)}}Yi(t,i,e,a)}else i=B1(s,t,e,a,n);return ji(i)}zx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Qn(t.pendingLanes);s!==0&&(au(t,s|1),pt(t,Te()),!(me&6)&&(vn=Te()+500,is()))}break;case 13:ks(function(){var n=Cr(e,1);if(n!==null){var a=st();Jt(n,e,1,a)}}),$u(e,1)}};ou=function(e){if(e.tag===13){var t=Cr(e,134217728);if(t!==null){var s=st();Jt(t,e,134217728,s)}$u(e,134217728)}};Ux=function(e){if(e.tag===13){var t=Xr(e),s=Cr(e,t);if(s!==null){var n=st();Jt(s,e,t,n)}$u(e,t)}};Bx=function(){return fe};Vx=function(e,t){var s=fe;try{return fe=e,t()}finally{fe=s}};Lc=function(e,t,s){switch(t){case"input":if(Tc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=zi(n);if(!a)throw Error(Y(90));wx(n),Tc(n,a)}}}break;case"textarea":jx(e,s);break;case"select":t=s.value,t!=null&&rn(e,!!s.multiple,t,!1)}};Tx=Mu;_x=ks;var V1={usingClientEntryPoint:!1,Events:[Wa,qs,zi,Ex,Px,Mu]},Gn={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:Gn.bundleType,version:Gn.version,rendererPackageName:Gn.rendererPackageName,rendererConfig:Gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mx(e),e===null?null:e.stateNode},findFiberByHostInstance:Gn.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Li=go.inject(W1),ur=go}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;Ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(Y(200));return z1(e,t,null,s)};Ct.createRoot=function(e,t){if(!zu(e))throw Error(Y(299));var s=!1,n="",a=ug;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ou(e,1,!1,null,null,s,!1,n,a),e[Sr]=t.current,ba(e.nodeType===8?e.parentNode:e),new Fu(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Mx(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return ks(e)};Ct.hydrate=function(e,t,s){if(!Ki(t))throw Error(Y(200));return Xi(null,e,t,!0,s)};Ct.hydrateRoot=function(e,t,s){if(!zu(e))throw Error(Y(405));var n=s!=null&&s.hydratedSources||null,a=!1,o="",i=ug;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=dg(t,null,e,1,s??null,a,!1,o,i),e[Sr]=t.current,ba(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new qi(t)};Ct.render=function(e,t,s){if(!Ki(t))throw Error(Y(200));return Xi(null,e,t,!1,s)};Ct.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(Y(40));return e._reactRootContainer?(ks(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};Ct.unstable_batchedUpdates=Mu;Ct.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Ki(s))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Xi(e,t,s,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mg)}catch(e){console.error(e)}}mg(),mx.exports=Ct;var Ms=mx.exports;const hg=Ri(Ms);var fg,Xh=Ms;fg=Xh.createRoot,Xh.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_a.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const Qh="popstate";function H1(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return xd("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:pg(a)}return Y1(t,s,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function G1(){return Math.random().toString(36).substr(2,8)}function Jh(e,t){return{usr:e.state,key:e.key,idx:t}}function xd(e,t,s,n){return s===void 0&&(s=null),_a({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?An(t):t,{state:s,key:t&&t.key||n||G1()})}function pg(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function An(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Y1(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=Vr.Pop,c=null,m=h();m==null&&(m=0,i.replaceState(_a({},i.state,{idx:m}),""));function h(){return(i.state||{idx:null}).idx}function f(){l=Vr.Pop;let b=h(),g=b==null?null:b-m;m=b,c&&c({action:l,location:x.location,delta:g})}function d(b,g){l=Vr.Push;let y=xd(x.location,b,g);m=h()+1;let v=Jh(y,m),N=x.createHref(y);try{i.pushState(v,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(N)}o&&c&&c({action:l,location:x.location,delta:1})}function p(b,g){l=Vr.Replace;let y=xd(x.location,b,g);m=h();let v=Jh(y,m),N=x.createHref(y);i.replaceState(v,"",N),o&&c&&c({action:l,location:x.location,delta:0})}function w(b){let g=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:pg(b);return y=y.replace(/ $/,"%20"),$e(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let x={get action(){return l},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Qh,f),c=b,()=>{a.removeEventListener(Qh,f),c=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:p,go(b){return i.go(b)}};return x}var Zh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zh||(Zh={}));function q1(e,t,s){return s===void 0&&(s="/"),K1(e,t,s,!1)}function K1(e,t,s,n){let a=typeof t=="string"?An(t):t,o=vg(a.pathname||"/",s);if(o==null)return null;let i=gg(e);X1(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let m=ij(o);l=aj(i[c],m,n)}return l}function gg(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&($e(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let m=vs([n,c.relativePath]),h=s.concat(c);o.children&&o.children.length>0&&($e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),gg(o.children,t,h,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:sj(m,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of yg(o.path))a(o,i,c)}),t}function yg(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=yg(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function X1(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:nj(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Q1=/^:[\w-]+$/,J1=3,Z1=2,ej=1,tj=10,rj=-2,ef=e=>e==="*";function sj(e,t){let s=e.split("/"),n=s.length;return s.some(ef)&&(n+=rj),t&&(n+=Z1),s.filter(a=>!ef(a)).reduce((a,o)=>a+(Q1.test(o)?J1:o===""?ej:tj),n)}function nj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function aj(e,t,s){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],m=l===n.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=tf({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},h),d=c.route;if(!f&&m&&s&&!n[n.length-1].route.index&&(f=tf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:vs([o,f.pathname]),pathnameBase:hj(vs([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=vs([o,f.pathnameBase]))}return i}function tf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=oj(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((m,h,f)=>{let{paramName:d,isOptional:p}=h;if(d==="*"){let x=l[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[f];return p&&!w?m[d]=void 0:m[d]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:i,pattern:e}}function oj(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),xg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ij(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function lj(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?An(e):e;return{pathname:s?s.startsWith("/")?s:cj(s,t):t,search:fj(n),hash:xj(a)}}function cj(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function oc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dj(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function uj(e,t){let s=dj(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function mj(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=An(e):(a=_a({},e),$e(!a.pathname||!a.pathname.includes("?"),oc("?","pathname","search",a)),$e(!a.pathname||!a.pathname.includes("#"),oc("#","pathname","hash",a)),$e(!a.search||!a.search.includes("#"),oc("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=s;else{let f=t.length-1;if(!n&&i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),f-=1;a.pathname=d.join("/")}l=f>=0?t[f]:"/"}let c=lj(a,l),m=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(m||h)&&(c.pathname+="/"),c}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),hj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const wg=["post","put","patch","delete"];new Set(wg);const gj=["get",...wg];new Set(gj);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Aa.apply(this,arguments)}const Uu=u.createContext(null),yj=u.createContext(null),Qi=u.createContext(null),Ji=u.createContext(null),Rs=u.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=u.createContext(null);function Zi(){return u.useContext(Ji)!=null}function In(){return Zi()||$e(!1),u.useContext(Ji).location}function jg(e){u.useContext(Qi).static||u.useLayoutEffect(e)}function Fe(){let{isDataRoute:e}=u.useContext(Rs);return e?Aj():vj()}function vj(){Zi()||$e(!1);let e=u.useContext(Uu),{basename:t,future:s,navigator:n}=u.useContext(Qi),{matches:a}=u.useContext(Rs),{pathname:o}=In(),i=JSON.stringify(uj(a,s.v7_relativeSplatPath)),l=u.useRef(!1);return jg(()=>{l.current=!0}),u.useCallback(function(m,h){if(h===void 0&&(h={}),!l.current)return;if(typeof m=="number"){n.go(m);return}let f=mj(m,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vs([t,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[t,n,i,o,e])}function Bu(){let{matches:e}=u.useContext(Rs),t=e[e.length-1];return t?t.params:{}}function wj(e,t){return bj(e,t)}function bj(e,t,s,n){Zi()||$e(!1);let{navigator:a}=u.useContext(Qi),{matches:o}=u.useContext(Rs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let m=In(),h;if(t){var f;let b=typeof t=="string"?An(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||$e(!1),h=b}else h=m;let d=h.pathname||"/",p=d;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=q1(e,{pathname:p}),x=Cj(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:vs([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:vs([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,s,n);return t&&x?u.createElement(Ji.Provider,{value:{location:Aa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Vr.Pop}},x):x}function jj(){let e=_j(),t=pj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),s?u.createElement("pre",{style:a},s):null,null)}const Nj=u.createElement(jj,null);class kj extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?u.createElement(Rs.Provider,{value:this.props.routeContext},u.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sj(e){let{routeContext:t,match:s,children:n}=e,a=u.useContext(Uu);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),u.createElement(Rs.Provider,{value:t},n)}function Cj(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||$e(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,m=-1;if(s&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:d,errors:p}=s,w=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){c=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((h,f,d)=>{let p,w=!1,x=null,b=null;s&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Nj,c&&(m<0&&d===0?(w=!0,b=null):m===d&&(w=!0,b=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,d+1)),y=()=>{let v;return p?v=x:w?v=b:f.route.Component?v=u.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,u.createElement(Sj,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:s!=null},children:v})};return s&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?u.createElement(kj,{location:s.location,revalidation:s.revalidation,component:x,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Ng=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ng||{}),Ni=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ni||{});function Ej(e){let t=u.useContext(Uu);return t||$e(!1),t}function Pj(e){let t=u.useContext(yj);return t||$e(!1),t}function Tj(e){let t=u.useContext(Rs);return t||$e(!1),t}function kg(e){let t=Tj(),s=t.matches[t.matches.length-1];return s.route.id||$e(!1),s.route.id}function _j(){var e;let t=u.useContext(bg),s=Pj(Ni.UseRouteError),n=kg(Ni.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function Aj(){let{router:e}=Ej(Ng.UseNavigateStable),t=kg(Ni.UseNavigateStable),s=u.useRef(!1);return jg(()=>{s.current=!0}),u.useCallback(function(a,o){o===void 0&&(o={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Aa({fromRouteId:t},o)))},[e,t])}function ke(e){$e(!1)}function Ij(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Vr.Pop,navigator:o,static:i=!1,future:l}=e;Zi()&&$e(!1);let c=t.replace(/^\/*/,"/"),m=u.useMemo(()=>({basename:c,navigator:o,static:i,future:Aa({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=An(n));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:w="default"}=n,x=u.useMemo(()=>{let b=vg(h,c);return b==null?null:{location:{pathname:b,search:f,hash:d,state:p,key:w},navigationType:a}},[c,h,f,d,p,w,a]);return x==null?null:u.createElement(Qi.Provider,{value:m},u.createElement(Ji.Provider,{children:s,value:x}))}function Mj(e){let{children:t,location:s}=e;return wj(pd(t),s)}new Promise(()=>{});function pd(e,t){t===void 0&&(t=[]);let s=[];return u.Children.forEach(e,(n,a)=>{if(!u.isValidElement(n))return;let o=[...t,a];if(n.type===u.Fragment){s.push.apply(s,pd(n.props.children,o));return}n.type!==ke&&$e(!1),!n.props.index||!n.props.children||$e(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=pd(n.props.children,o)),s.push(i)}),s}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(a=>[s,a]):[[s,n]])},[]))}function Rj(e,t){let s=gd(e);return t&&t.forEach((n,a)=>{s.has(a)||t.getAll(a).forEach(o=>{s.append(a,o)})}),s}const Dj="6";try{window.__reactRouterVersion=Dj}catch{}const Lj="startTransition",rf=dx[Lj];function Oj(e){let{basename:t,children:s,future:n,window:a}=e,o=u.useRef();o.current==null&&(o.current=H1({window:a,v5Compat:!0}));let i=o.current,[l,c]=u.useState({action:i.action,location:i.location}),{v7_startTransition:m}=n||{},h=u.useCallback(f=>{m&&rf?rf(()=>c(f)):c(f)},[c,m]);return u.useLayoutEffect(()=>i.listen(h),[i,h]),u.createElement(Ij,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,future:n})}var sf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sf||(sf={}));var nf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nf||(nf={}));function $j(e){let t=u.useRef(gd(e)),s=u.useRef(!1),n=In(),a=u.useMemo(()=>Rj(n.search,s.current?null:t.current),[n.search]),o=Fe(),i=u.useCallback((l,c)=>{const m=gd(typeof l=="function"?l(a):l);s.current=!0,o("?"+m,c)},[o,a]);return[a,i]}const Fj=1,zj=1e6;let ic=0;function Uj(){return ic=(ic+1)%Number.MAX_SAFE_INTEGER,ic.toString()}const lc=new Map,af=e=>{if(lc.has(e))return;const t=setTimeout(()=>{lc.delete(e),da({type:"REMOVE_TOAST",toastId:e})},zj);lc.set(e,t)},Bj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Fj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?af(s):e.toasts.forEach(n=>{af(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Vo=[];let Wo={toasts:[]};function da(e){Wo=Bj(Wo,e),Vo.forEach(t=>{t(Wo)})}function Vj({...e}){const t=Uj(),s=a=>da({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>da({type:"DISMISS_TOAST",toastId:t});return da({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:s}}function Pt(){const[e,t]=u.useState(Wo);return u.useEffect(()=>(Vo.push(t),()=>{const s=Vo.indexOf(t);s>-1&&Vo.splice(s,1)}),[e]),{...e,toast:Vj,dismiss:s=>da({type:"DISMISS_TOAST",toastId:s})}}function ee(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Wj(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function el(...e){return t=>e.forEach(s=>Wj(s,t))}function pe(...e){return u.useCallback(el(...e),e)}function Hj(e,t=[]){let s=[];function n(o,i){const l=u.createContext(i),c=s.length;s=[...s,i];function m(f){const{scope:d,children:p,...w}=f,x=(d==null?void 0:d[e][c])||l,b=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:b,children:p})}function h(f,d){const p=(d==null?void 0:d[e][c])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return m.displayName=o+"Provider",[m,h]}const a=()=>{const o=s.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Gj(a,...t)]}function Gj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:m})=>{const f=c(o)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Ss=u.forwardRef((e,t)=>{const{children:s,...n}=e,a=u.Children.toArray(s),o=a.find(Yj);if(o){const i=o.props.children,l=a.map(c=>c===o?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:c);return r.jsx(yd,{...n,ref:t,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return r.jsx(yd,{...n,ref:t,children:s})});Ss.displayName="Slot";var yd=u.forwardRef((e,t)=>{const{children:s,...n}=e;if(u.isValidElement(s)){const a=Kj(s);return u.cloneElement(s,{...qj(n,s.props),ref:t?el(t,a):a})}return u.Children.count(s)>1?u.Children.only(null):null});yd.displayName="SlotClone";var Sg=({children:e})=>r.jsx(r.Fragment,{children:e});function Yj(e){return u.isValidElement(e)&&e.type===Sg}function qj(e,t){const s={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?s[n]=(...l)=>{o(...l),a(...l)}:a&&(s[n]=a):n==="style"?s[n]={...a,...o}:n==="className"&&(s[n]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function Kj(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function tl(e){const t=e+"CollectionProvider",[s,n]=Hj(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:w,children:x}=p,b=K.useRef(null),g=K.useRef(new Map).current;return r.jsx(a,{scope:w,itemMap:g,collectionRef:b,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=K.forwardRef((p,w)=>{const{scope:x,children:b}=p,g=o(l,x),y=pe(w,g.collectionRef);return r.jsx(Ss,{ref:y,children:b})});c.displayName=l;const m=e+"CollectionItemSlot",h="data-radix-collection-item",f=K.forwardRef((p,w)=>{const{scope:x,children:b,...g}=p,y=K.useRef(null),v=pe(w,y),N=o(m,x);return K.useEffect(()=>(N.itemMap.set(y,{ref:y,...g}),()=>void N.itemMap.delete(y))),r.jsx(Ss,{[h]:"",ref:v,children:b})});f.displayName=m;function d(p){const w=o(e+"CollectionConsumer",p);return K.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((N,E)=>g.indexOf(N.ref.current)-g.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},d,n]}function Mn(e,t=[]){let s=[];function n(o,i){const l=u.createContext(i),c=s.length;s=[...s,i];const m=f=>{var g;const{scope:d,children:p,...w}=f,x=((g=d==null?void 0:d[e])==null?void 0:g[c])||l,b=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:b,children:p})};m.displayName=o+"Provider";function h(f,d){var x;const p=((x=d==null?void 0:d[e])==null?void 0:x[c])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[m,h]}const a=()=>{const o=s.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Xj(a,...t)]}function Xj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:m})=>{const f=c(o)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Qj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=Qj.reduce((e,t)=>{const s=u.forwardRef((n,a)=>{const{asChild:o,...i}=n,l=o?Ss:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(l,{...i,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Vu(e,t){e&&Ms.flushSync(()=>e.dispatchEvent(t))}function Ke(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function Jj(e,t=globalThis==null?void 0:globalThis.document){const s=Ke(e);u.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var Zj="DismissableLayer",vd="dismissableLayer.update",eN="dismissableLayer.pointerDownOutside",tN="dismissableLayer.focusOutside",of,Cg=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ga=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,m=u.useContext(Cg),[h,f]=u.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=u.useState({}),w=pe(t,C=>f(C)),x=Array.from(m.layers),[b]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(b),y=h?x.indexOf(h):-1,v=m.layersWithOutsidePointerEventsDisabled.size>0,N=y>=g,E=sN(C=>{const j=C.target,T=[...m.branches].some(A=>A.contains(j));!N||T||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},d),S=nN(C=>{const j=C.target;[...m.branches].some(A=>A.contains(j))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},d);return Jj(C=>{y===m.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},d),u.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(of=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),lf(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=of)}},[h,d,s,m]),u.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),lf())},[h,m]),u.useEffect(()=>{const C=()=>p({});return document.addEventListener(vd,C),()=>document.removeEventListener(vd,C)},[]),r.jsx(le.div,{...c,ref:w,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,E.onPointerDownCapture)})});Ga.displayName=Zj;var rN="DismissableLayerBranch",Eg=u.forwardRef((e,t)=>{const s=u.useContext(Cg),n=u.useRef(null),a=pe(t,n);return u.useEffect(()=>{const o=n.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),r.jsx(le.div,{...e,ref:a})});Eg.displayName=rN;function sN(e,t=globalThis==null?void 0:globalThis.document){const s=Ke(e),n=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Pg(eN,s,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function nN(e,t=globalThis==null?void 0:globalThis.document){const s=Ke(e),n=u.useRef(!1);return u.useEffect(()=>{const a=o=>{o.target&&!n.current&&Pg(tN,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lf(){const e=new CustomEvent(vd);document.dispatchEvent(e)}function Pg(e,t,s,{discrete:n}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Vu(a,o):a.dispatchEvent(o)}var aN=Ga,oN=Eg,Be=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},iN="Portal",rl=u.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[a,o]=u.useState(!1);Be(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?hg.createPortal(r.jsx(le.div,{...n,ref:t}),i):null});rl.displayName=iN;function lN(e,t){return u.useReducer((s,n)=>t[s][n]??s,e)}var Ds=e=>{const{present:t,children:s}=e,n=cN(t),a=typeof s=="function"?s({present:n.isPresent}):u.Children.only(s),o=pe(n.ref,dN(a));return typeof s=="function"||n.isPresent?u.cloneElement(a,{ref:o}):null};Ds.displayName="Presence";function cN(e){const[t,s]=u.useState(),n=u.useRef({}),a=u.useRef(e),o=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=lN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const m=yo(n.current);o.current=l==="mounted"?m:"none"},[l]),Be(()=>{const m=n.current,h=a.current;if(h!==e){const d=o.current,p=yo(m);e?c("MOUNT"):p==="none"||(m==null?void 0:m.display)==="none"?c("UNMOUNT"):c(h&&d!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Be(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,f=p=>{const x=yo(n.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},d=p=>{p.target===t&&(o.current=yo(n.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(m=>{m&&(n.current=getComputedStyle(m)),s(m)},[])}}function yo(e){return(e==null?void 0:e.animationName)||"none"}function dN(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ia({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,a]=uN({defaultProp:t,onChange:s}),o=e!==void 0,i=o?e:n,l=Ke(s),c=u.useCallback(m=>{if(o){const f=typeof m=="function"?m(e):m;f!==e&&l(f)}else a(m)},[o,e,a,l]);return[i,c]}function uN({defaultProp:e,onChange:t}){const s=u.useState(e),[n]=s,a=u.useRef(n),o=Ke(t);return u.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),s}var mN="VisuallyHidden",Ya=u.forwardRef((e,t)=>r.jsx(le.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ya.displayName=mN;var hN=Ya,Wu="ToastProvider",[Hu,fN,xN]=tl("Toast"),[Tg,SE]=Mn("Toast",[xN]),[pN,sl]=Tg(Wu),_g=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=u.useState(null),[m,h]=u.useState(0),f=u.useRef(!1),d=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wu}\`. Expected non-empty \`string\`.`),r.jsx(Hu.Provider,{scope:t,children:r.jsx(pN,{scope:t,label:s,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:m,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>h(p=>p+1),[]),onToastRemove:u.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:i})})};_g.displayName=Wu;var Ag="ToastViewport",gN=["F8"],wd="toast.viewportPause",bd="toast.viewportResume",Ig=u.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=gN,label:a="Notifications ({hotkey})",...o}=e,i=sl(Ag,s),l=fN(s),c=u.useRef(null),m=u.useRef(null),h=u.useRef(null),f=u.useRef(null),d=pe(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;u.useEffect(()=>{const b=g=>{var v;n.length!==0&&n.every(N=>g[N]||g.code===N)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),u.useEffect(()=>{const b=c.current,g=f.current;if(w&&b&&g){const y=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(wd);g.dispatchEvent(S),i.isClosePausedRef.current=!0}},v=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(bd);g.dispatchEvent(S),i.isClosePausedRef.current=!1}},N=S=>{!b.contains(S.relatedTarget)&&v()},E=()=>{b.contains(document.activeElement)||v()};return b.addEventListener("focusin",y),b.addEventListener("focusout",N),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[w,i.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:b})=>{const y=l().map(v=>{const N=v.ref.current,E=[N,..._N(N)];return b==="forwards"?E:E.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return u.useEffect(()=>{const b=f.current;if(b){const g=y=>{var E,S,C;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const j=document.activeElement,T=y.shiftKey;if(y.target===b&&T){(E=m.current)==null||E.focus();return}const F=x({tabbingDirection:T?"backwards":"forwards"}),U=F.findIndex(I=>I===j);cc(F.slice(U+1))?y.preventDefault():T?(S=m.current)==null||S.focus():(C=h.current)==null||C.focus()}};return b.addEventListener("keydown",g),()=>b.removeEventListener("keydown",g)}},[l,x]),r.jsxs(oN,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&r.jsx(jd,{ref:m,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});cc(b)}}),r.jsx(Hu.Slot,{scope:s,children:r.jsx(le.ol,{tabIndex:-1,...o,ref:d})}),w&&r.jsx(jd,{ref:h,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});cc(b)}})]})});Ig.displayName=Ag;var Mg="ToastFocusProxy",jd=u.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=e,o=sl(Mg,s);return r.jsx(Ya,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var m;const l=i.relatedTarget;!((m=o.viewport)!=null&&m.contains(l))&&n()}})});jd.displayName=Mg;var nl="Toast",yN="toast.swipeStart",vN="toast.swipeMove",wN="toast.swipeCancel",bN="toast.swipeEnd",Rg=u.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Ia({prop:n,defaultProp:a,onChange:o});return r.jsx(Ds,{present:s||l,children:r.jsx(kN,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Ke(e.onPause),onResume:Ke(e.onResume),onSwipeStart:ee(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,m=>{const{x:h,y:f}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Rg.displayName=nl;var[jN,NN]=Tg(nl,{onClose(){}}),kN=u.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:m,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:p,...w}=e,x=sl(nl,s),[b,g]=u.useState(null),y=pe(t,I=>g(I)),v=u.useRef(null),N=u.useRef(null),E=a||x.duration,S=u.useRef(0),C=u.useRef(E),j=u.useRef(0),{onToastAdd:T,onToastRemove:A}=x,L=Ke(()=>{var O;(b==null?void 0:b.contains(document.activeElement))&&((O=x.viewport)==null||O.focus()),i()}),F=u.useCallback(I=>{!I||I===1/0||(window.clearTimeout(j.current),S.current=new Date().getTime(),j.current=window.setTimeout(L,I))},[L]);u.useEffect(()=>{const I=x.viewport;if(I){const O=()=>{F(C.current),m==null||m()},B=()=>{const q=new Date().getTime()-S.current;C.current=C.current-q,window.clearTimeout(j.current),c==null||c()};return I.addEventListener(wd,B),I.addEventListener(bd,O),()=>{I.removeEventListener(wd,B),I.removeEventListener(bd,O)}}},[x.viewport,E,c,m,F]),u.useEffect(()=>{o&&!x.isClosePausedRef.current&&F(E)},[o,E,x.isClosePausedRef,F]),u.useEffect(()=>(T(),()=>A()),[T,A]);const U=u.useMemo(()=>b?Ug(b):null,[b]);return x.viewport?r.jsxs(r.Fragment,{children:[U&&r.jsx(SN,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),r.jsx(jN,{scope:s,onClose:L,children:Ms.createPortal(r.jsx(Hu.ItemSlot,{scope:s,children:r.jsx(aN,{asChild:!0,onEscapeKeyDown:ee(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||L(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ee(e.onPointerDown,I=>{I.button===0&&(v.current={x:I.clientX,y:I.clientY})}),onPointerMove:ee(e.onPointerMove,I=>{if(!v.current)return;const O=I.clientX-v.current.x,B=I.clientY-v.current.y,q=!!N.current,_=["left","right"].includes(x.swipeDirection),P=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=_?P(0,O):0,R=_?0:P(0,B),V=I.pointerType==="touch"?10:2,W={x:M,y:R},D={originalEvent:I,delta:W};q?(N.current=W,vo(vN,f,D,{discrete:!1})):cf(W,x.swipeDirection,V)?(N.current=W,vo(yN,h,D,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(O)>V||Math.abs(B)>V)&&(v.current=null)}),onPointerUp:ee(e.onPointerUp,I=>{const O=N.current,B=I.target;if(B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),N.current=null,v.current=null,O){const q=I.currentTarget,_={originalEvent:I,delta:O};cf(O,x.swipeDirection,x.swipeThreshold)?vo(bN,p,_,{discrete:!0}):vo(wN,d,_,{discrete:!0}),q.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),SN=e=>{const{__scopeToast:t,children:s,...n}=e,a=sl(nl,t),[o,i]=u.useState(!1),[l,c]=u.useState(!1);return PN(()=>i(!0)),u.useEffect(()=>{const m=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:r.jsx(rl,{asChild:!0,children:r.jsx(Ya,{...n,children:o&&r.jsxs(r.Fragment,{children:[a.label," ",s]})})})},CN="ToastTitle",Dg=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Dg.displayName=CN;var EN="ToastDescription",Lg=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});Lg.displayName=EN;var Og="ToastAction",$g=u.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(zg,{altText:s,asChild:!0,children:r.jsx(Gu,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Og}\`. Expected non-empty \`string\`.`),null)});$g.displayName=Og;var Fg="ToastClose",Gu=u.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,a=NN(Fg,s);return r.jsx(zg,{asChild:!0,children:r.jsx(le.button,{type:"button",...n,ref:t,onClick:ee(e.onClick,a.onClose)})})});Gu.displayName=Fg;var zg=u.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...a}=e;return r.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Ug(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TN(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Ug(n))}}),t}function vo(e,t,s,{discrete:n}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),n?Vu(a,o):a.dispatchEvent(o)}var cf=(e,t,s=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>s:!o&&a>s};function PN(e=()=>{}){const t=Ke(e);Be(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function TN(e){return e.nodeType===e.ELEMENT_NODE}function _N(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function cc(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var AN=_g,Bg=Ig,Vg=Rg,Wg=Dg,Hg=Lg,Gg=$g,Yg=Gu;function qg(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=qg(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function Kg(){for(var e,t,s=0,n="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=qg(e))&&(n&&(n+=" "),n+=t);return n}const df=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uf=Kg,Yu=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return uf(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(m=>{const h=s==null?void 0:s[m],f=o==null?void 0:o[m];if(h===null)return null;const d=df(h)||df(f);return a[m][d]}),l=s&&Object.entries(s).reduce((m,h)=>{let[f,d]=h;return d===void 0||(m[f]=d),m},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((m,h)=>{let{class:f,className:d,...p}=h;return Object.entries(p).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...o,...l}[x]):{...o,...l}[x]===b})?[...m,f,d]:m},[]);return uf(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xg=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...MN,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:Xg("lucide",a),...l},[...i.map(([m,h])=>u.createElement(m,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const s=u.forwardRef(({className:n,...a},o)=>u.createElement(RN,{ref:o,iconNode:t,className:Xg(`lucide-${IN(e)}`,n),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=se("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=se("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=se("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=se("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=se("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=se("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=se("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=se("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Zu="-",s2=e=>{const t=a2(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Zu);return l[0]===""&&l.length!==1&&l.shift(),ty(l,t)||n2(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},ty=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),a=n?ty(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Zu);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},pf=/^\[(.+)\]$/,n2=e=>{if(pf.test(e)){const t=pf.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},a2=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return i2(Object.entries(e.classGroups),s).forEach(([o,i])=>{Sd(i,n,o,t)}),n},Sd=(e,t,s,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:gf(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(o2(a)){Sd(a(n),t,s,n);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{Sd(i,gf(t,o),s,n)})})},gf=(e,t)=>{let s=e;return t.split(Zu).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},o2=e=>e.isThemeGetter,i2=(e,t)=>t?e.map(([s,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,l2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,n=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},ry="!",c2=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let m=0,h=0,f;for(let b=0;b<l.length;b++){let g=l[b];if(m===0){if(g===a&&(n||l.slice(b,b+o)===t)){c.push(l.slice(h,b)),h=b+o;continue}if(g==="/"){f=b;continue}}g==="["?m++:g==="]"&&m--}const d=c.length===0?l:l.substring(h),p=d.startsWith(ry),w=p?d.substring(1):d,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:i}):i},d2=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},u2=e=>({cache:l2(e.cacheSize),parseClassName:c2(e),...s2(e)}),m2=/\s+/,h2=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(m2);let l="";for(let c=i.length-1;c>=0;c-=1){const m=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}=s(m);let w=!!p,x=n(w?d.substring(0,p):d);if(!x){if(!w){l=m+(l.length>0?" "+l:l);continue}if(x=n(d),!x){l=m+(l.length>0?" "+l:l);continue}w=!1}const b=d2(h).join(":"),g=f?b+ry:b,y=g+x;if(o.includes(y))continue;o.push(y);const v=a(x,w);for(let N=0;N<v.length;++N){const E=v[N];o.push(g+E)}l=m+(l.length>0?" "+l:l)}return l};function f2(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=sy(t))&&(n&&(n+=" "),n+=s);return n}const sy=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=sy(e[n]))&&(s&&(s+=" "),s+=t);return s};function x2(e,...t){let s,n,a,o=i;function i(c){const m=t.reduce((h,f)=>f(h),e());return s=u2(m),n=s.cache.get,a=s.cache.set,o=l,l(c)}function l(c){const m=n(c);if(m)return m;const h=h2(c,s);return a(c,h),h}return function(){return o(f2.apply(null,arguments))}}const we=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ny=/^\[(?:([a-z-]+):)?(.+)\]$/i,p2=/^\d+\/\d+$/,g2=new Set(["px","full","screen"]),y2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=e=>dn(e)||g2.has(e)||p2.test(e),Rr=e=>Rn(e,"length",_2),dn=e=>!!e&&!Number.isNaN(Number(e)),uc=e=>Rn(e,"number",dn),Yn=e=>!!e&&Number.isInteger(Number(e)),N2=e=>e.endsWith("%")&&dn(e.slice(0,-1)),oe=e=>ny.test(e),Dr=e=>y2.test(e),k2=new Set(["length","size","percentage"]),S2=e=>Rn(e,k2,ay),C2=e=>Rn(e,"position",ay),E2=new Set(["image","url"]),P2=e=>Rn(e,E2,I2),T2=e=>Rn(e,"",A2),qn=()=>!0,Rn=(e,t,s)=>{const n=ny.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},_2=e=>v2.test(e)&&!w2.test(e),ay=()=>!1,A2=e=>b2.test(e),I2=e=>j2.test(e),M2=()=>{const e=we("colors"),t=we("spacing"),s=we("blur"),n=we("brightness"),a=we("borderColor"),o=we("borderRadius"),i=we("borderSpacing"),l=we("borderWidth"),c=we("contrast"),m=we("grayscale"),h=we("hueRotate"),f=we("invert"),d=we("gap"),p=we("gradientColorStops"),w=we("gradientColorStopPositions"),x=we("inset"),b=we("margin"),g=we("opacity"),y=we("padding"),v=we("saturate"),N=we("scale"),E=we("sepia"),S=we("skew"),C=we("space"),j=we("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",oe,t],F=()=>[oe,t],U=()=>["",pr,Rr],I=()=>["auto",dn,oe],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",oe],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[dn,oe];return{cacheSize:500,separator:":",theme:{colors:[qn],spacing:[pr,Rr],blur:["none","",Dr,oe],brightness:R(),borderColor:[e],borderRadius:["none","","full",Dr,oe],borderSpacing:F(),borderWidth:U(),contrast:R(),grayscale:P(),hueRotate:R(),invert:P(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[N2,Rr],inset:L(),margin:L(),opacity:R(),padding:F(),saturate:R(),scale:R(),sepia:P(),skew:R(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),oe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yn,oe]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Yn,oe]}],"grid-cols":[{"grid-cols":[qn]}],"col-start-end":[{col:["auto",{span:["full",Yn,oe]},oe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[qn]}],"row-start-end":[{row:["auto",{span:[Yn,oe]},oe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,t]}],"min-w":[{"min-w":[oe,t,"min","max","fit"]}],"max-w":[{"max-w":[oe,t,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uc]}],"font-family":[{font:[qn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",dn,uc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Rr]}],"underline-offset":[{"underline-offset":["auto",pr,oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),C2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",S2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[pr,oe]}],"outline-w":[{outline:[pr,Rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[pr,Rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dr,T2]}],"shadow-color":[{shadow:[qn]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dr,oe]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Yn,oe]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pr,Rr,uc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},R2=x2(M2);function ce(...e){return R2(Kg(e))}const D2=AN,oy=u.forwardRef(({className:e,...t},s)=>r.jsx(Bg,{ref:s,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));oy.displayName=Bg.displayName;const L2=Yu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iy=u.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(Vg,{ref:n,className:ce(L2({variant:t}),e),...s}));iy.displayName=Vg.displayName;const O2=u.forwardRef(({className:e,...t},s)=>r.jsx(Gg,{ref:s,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));O2.displayName=Gg.displayName;const ly=u.forwardRef(({className:e,...t},s)=>r.jsx(Yg,{ref:s,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(Ie,{className:"h-4 w-4"})}));ly.displayName=Yg.displayName;const cy=u.forwardRef(({className:e,...t},s)=>r.jsx(Wg,{ref:s,className:ce("text-sm font-semibold",e),...t}));cy.displayName=Wg.displayName;const dy=u.forwardRef(({className:e,...t},s)=>r.jsx(Hg,{ref:s,className:ce("text-sm opacity-90",e),...t}));dy.displayName=Hg.displayName;function $2(){const{toasts:e}=Pt();return r.jsxs(D2,{children:[e.map(function({id:t,title:s,description:n,action:a,...o}){return r.jsxs(iy,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(cy,{children:s}),n&&r.jsx(dy,{children:n})]}),a,r.jsx(ly,{})]},t)}),r.jsx(oy,{})]})}const ie="https://xsmmarket.com/api";console.log("🌐 API_URL configured as:",ie);const kn="token",em="refreshToken",tm="tokenExpiry",La="userData",Cd=()=>{const e=localStorage.getItem(tm);if(!e)return!0;const t=parseInt(e),s=Date.now(),n=5*60*1e3;return s>=t-n},ol=e=>{localStorage.setItem(kn,e.accessToken),e.refreshToken&&localStorage.setItem(em,e.refreshToken);const t=(e.expiresIn||24*60*60)*1e3,s=Date.now()+t;localStorage.setItem(tm,s.toString())},Go=()=>{localStorage.removeItem(kn),localStorage.removeItem(em),localStorage.removeItem(tm),localStorage.removeItem(La)},yf=async()=>{try{const e=localStorage.getItem(em);if(!e)return console.log("No refresh token available"),!1;const t=await fetch(`${ie}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)return console.log("Failed to refresh token"),!1;const s=await t.json();return ol({accessToken:s.token||s.accessToken,refreshToken:s.refreshToken,expiresIn:s.expiresIn||24*60*60}),console.log("Token refreshed successfully"),!0}catch(e){return console.error("Error refreshing token:",e),!1}},rr=async e=>{let t;try{t=await e.json()}catch(s){throw console.error("Error parsing response:",s),new Error("Server error. Please try again later.")}if(!e.ok){console.error("Server error response:",t);let s=t.message||"Server error. Please try again later.";throw(s.includes("SQLSTATE")||s.includes("PDO")||s.includes("mysql"))&&(s="Service temporarily unavailable. Please try again in a few moments."),new Error(s)}return t},il=async(e,t={})=>{if(Cd()&&(console.log("Token expired, attempting refresh..."),!await yf()))throw console.log("Could not refresh token, user needs to login again"),Go(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");const s=localStorage.getItem(kn),n={"Content-Type":"application/json",...t.headers||{},...s?{Authorization:`Bearer ${s}`}:{}},a=await fetch(e,{...t,headers:n});if(a.status===401&&s)if(console.log("Received 401, attempting token refresh..."),await yf()){const i=localStorage.getItem(kn),l=await fetch(e,{...t,headers:{...n,Authorization:`Bearer ${i}`}});if(l.status===401)throw Go(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");return l}else throw Go(),window.dispatchEvent(new CustomEvent("auth:logout")),new Error("Session expired. Please login again.");return a},uy=async(e,t,s)=>{try{console.log("🔄 Starting login process for:",e);const n=await fetch(`${ie}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,recaptchaToken:s}),credentials:"include"}),a=await n.json();if(console.log("📡 Login response received:",{ok:n.ok,status:n.status,data:{...a,token:a.token?"exists":"missing"}}),!n.ok){if(a.requiresVerification)return{requiresVerification:!0,email:a.email,message:a.message};if(a.authProvider==="google")return{authProvider:"google",message:a.message};throw new Error(a.message||"Failed to login")}return a.token&&(console.log("💾 Storing token data..."),ol({accessToken:a.token,refreshToken:a.refreshToken,expiresIn:a.expiresIn||24*60*60})),a.user&&(console.log("👤 Storing user data:",a.user),ll(a.user)),console.log("✅ Login process completed successfully"),a}catch(n){throw n instanceof Error?n:new Error("An unexpected error occurred during login")}},my=async(e,t,s,n,a)=>{try{console.log("Attempting to register with:",{username:e,email:t,fullName:a,password:s?"[FILTERED]":void 0}),console.log(`Sending POST request to ${ie}/auth/register`);const o=await fetch(`${ie}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:e.trim(),email:t.trim().toLowerCase(),password:s,recaptchaToken:n,fullName:(a==null?void 0:a.trim())||""}),mode:"cors",credentials:"include"}).catch(l=>{throw console.error("Network error during registration fetch:",l),new Error(`Network error: Unable to connect to server at ${ie}. Please check your backend server is running.`)});console.log("Registration response status:",o.status);const i=await rr(o);return console.log("%c Registration response data:","background: #4CAF50; color: white; padding: 4px; border-radius: 2px;",i),i.requiresVerification?{requiresVerification:!0,email:i.email,message:i.message}:(i.token&&localStorage.setItem("token",i.token),i.user&&ll(i.user),i)}catch(o){if(console.error("Registration error:",o),o instanceof Error){let i=o.message;throw i.startsWith("HTTP error!")&&(i="Server error. Please try again later."),(i.includes("NetworkError")||i.includes("fetch"))&&(i="Unable to connect to the server. Please check your internet connection."),new Error(i)}else throw new Error("An unexpected error occurred during registration. Please try again.")}},F2=()=>{Go(),console.log("User logged out successfully")},Yo=()=>{const e=localStorage.getItem(kn);return console.log("🔍 Checking authentication:",{hasToken:!!e,tokenLength:e==null?void 0:e.length,isExpired:e?Cd():"no token"}),e?Cd()?(console.log("❌ Token is expired"),!1):(console.log("✅ User is authenticated"),!0):!1},z2=()=>Yo()?localStorage.getItem(kn):null,vf=()=>{const e=localStorage.getItem(La);if(console.log("👤 Getting current user:",{hasUserData:!!e,dataLength:e==null?void 0:e.length}),e)try{const t=JSON.parse(e);return console.log("👤 Parsed user data:",t),t}catch(t){return console.error("❌ Error parsing user data:",t),localStorage.removeItem(La),null}return console.log("❌ No user data found"),null},ll=e=>{localStorage.setItem(La,JSON.stringify(e))},rm=async e=>{try{console.log("🚀 Starting Google sign-in process..."),console.log("📡 API URL:",ie),console.log("🔑 Token length:",e.length);const t=await fetch(`${ie}/auth/google-signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e}),credentials:"include"}).catch(n=>{throw console.error("❌ Network error during Google sign-in fetch:",n),console.error("🔍 Error details:",{name:n.name,message:n.message,stack:n.stack}),n.name==="TypeError"&&n.message.includes("fetch")?new Error("Failed to connect to the authentication server. Please check if the backend is running on "+ie):n});console.log("📡 Response received:",{status:t.status,statusText:t.statusText,ok:t.ok});const s=await t.json().catch(n=>{throw console.error("❌ Failed to parse response as JSON:",n),new Error("Server returned invalid response format")});if(console.log("📋 Response data:",s),!t.ok){const n=s.message||`HTTP ${t.status}: ${t.statusText}`;throw console.error("❌ Backend rejected Google sign-in:",n),new Error(n)}return console.log("🔍 Google sign-in response:",s),s.token&&(console.log("💾 Storing authentication tokens..."),ol({accessToken:s.token,refreshToken:s.refreshToken,expiresIn:s.expiresIn||24*60*60})),s.user&&(console.log("� Storing Google user data:",s.user),ll(s.user)),console.log("✅ Google sign-in completed successfully"),s}catch(t){throw console.error("💥 Google sign-in failed:",t),t instanceof Error?t:new Error("An unexpected error occurred during Google sign-in")}},U2=async(e,t)=>{try{const s=await fetch(`${ie}/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t}),credentials:"include"}),n=await rr(s);return n.token&&ol({accessToken:n.token,refreshToken:n.refreshToken,expiresIn:n.expiresIn||24*60*60}),n.user&&ll(n.user),n}catch(s){throw s instanceof Error?s:new Error("An unexpected error occurred during OTP verification")}},B2=async e=>{try{const t=await fetch(`${ie}/auth/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e}),credentials:"include"});return await rr(t)}catch(t){throw t instanceof Error?t:new Error("An unexpected error occurred while resending OTP")}},V2=async()=>{try{const e=await il(`${ie}/user/profile`);return(await rr(e)).user}catch(e){throw e instanceof Error?e:new Error("Failed to fetch user profile")}},wf=async e=>{try{const t=await il(`${ie}/user/profile`,{method:"PUT",body:JSON.stringify(e)}),s=await rr(t);return s.user&&localStorage.setItem(La,JSON.stringify(s.user)),s.user}catch(t){throw t instanceof Error?t:new Error("Failed to update user profile")}},hy=async e=>{try{const t=await fetch(`${ie}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});return await rr(t)}catch(t){throw t instanceof Error?t:new Error("Failed to process forgot password request")}},W2=async e=>{try{const t=await il(`${ie}/user/email/change-request`,{method:"POST",body:JSON.stringify({newEmail:e})});return await rr(t)}catch(t){throw t instanceof Error?t:new Error("Failed to request email change")}},H2=async(e,t)=>{try{const s=await fetch(`${ie}/user/email/verify-current`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await rr(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify current email")}},G2=async(e,t)=>{try{const s=await fetch(`${ie}/user/email/verify-new`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await rr(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify new email")}},Y2=async(e,t)=>{try{const s=await il(`${ie}/user/password/change-request`,{method:"POST",body:JSON.stringify({currentPassword:e,newPassword:t})});return await rr(s)}catch(s){throw s instanceof Error?s:new Error("Failed to request password change")}},q2=async(e,t)=>{try{const s=await fetch(`${ie}/user/password/verify-change`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,otp:t})});return await rr(s)}catch(s){throw s instanceof Error?s:new Error("Failed to verify password change")}},K2=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Not authenticated");try{const t=await fetch(`${ie}/user/email/cooldown-status`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to get cooldown status")}return await t.json()}catch(t){throw t instanceof Error?t:new Error("Failed to get email change cooldown status")}},X2=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Not authenticated");try{const t=await fetch(`${ie}/user/password/cooldown-status`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to get cooldown status")}return await t.json()}catch(t){throw t instanceof Error?t:new Error("Failed to get password change cooldown status")}},fy=async e=>{try{const t=z2(),s=await fetch(`${ie}/user/u/${e}`,{method:"GET",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}});if(!s.ok){if(s.status===404)throw new Error("User not found");const a=await s.json();throw new Error(a.message||"Failed to fetch profile")}return await s.json()}catch(t){throw t instanceof Error?t:new Error("Failed to get public profile")}},xy=u.createContext(void 0),Q2=({children:e})=>{const[t,s]=u.useState(Yo()),[n,a]=u.useState(vf());return u.useEffect(()=>{const o=()=>{const c=Yo();if(s(c),c){const m=vf();a(m)}else a(null)};window.addEventListener("storage",o);const i=()=>{console.log("Auth logout event received"),s(!1),a(null)};window.addEventListener("auth:logout",i),o();const l=setInterval(()=>{const c=Yo();t&&!c&&(console.log("Token expired, logging out user"),s(!1),a(null))},5*60*1e3);return()=>{window.removeEventListener("storage",o),window.removeEventListener("auth:logout",i),clearInterval(l)}},[t]),r.jsx(xy.Provider,{value:{isLoggedIn:t,setIsLoggedIn:s,user:n,setUser:a},children:e})},py=u.createContext(void 0),J2=({id:e,type:t,title:s,message:n,duration:a=5e3,autoClose:o=!0,visible:i,onRemove:l})=>{const[c,m]=K.useState(!1);K.useEffect(()=>{if(o&&i){const p=setTimeout(()=>{h()},a);return()=>clearTimeout(p)}},[i,a,o]);const h=()=>{m(!0),setTimeout(()=>{l(e)},300)},f=()=>{switch(t){case"success":return r.jsx(ue,{className:"w-5 h-5 text-green-500"});case"error":return r.jsx(Qg,{className:"w-5 h-5 text-red-500"});case"warning":return r.jsx(ls,{className:"w-5 h-5 text-yellow-500"});case"info":return r.jsx(KN,{className:"w-5 h-5 text-blue-500"})}},d=()=>{switch(t){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}};return r.jsx("div",{className:`
        transform transition-all duration-300 ease-in-out mb-3
        ${i&&!c?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,children:r.jsx("div",{className:`border rounded-lg shadow-lg p-4 max-w-sm ${d()}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:f()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-sm",children:s}),n&&r.jsx("p",{className:"text-sm opacity-90 mt-1",children:n})]}),r.jsx("button",{onClick:h,className:"flex-shrink-0 ml-2 p-1 rounded-full hover:bg-black/10 transition-colors",children:r.jsx(Ie,{className:"w-4 h-4"})})]})})})},Z2=({children:e})=>{const[t,s]=u.useState([]),n=f=>{const d=Math.random().toString(36).substr(2,9),p={...f,id:d,visible:!0};return s(w=>[...w,p]),d},a=f=>{s(d=>d.filter(p=>p.id!==f))},h={notifications:t,showSuccess:(f,d,p)=>n({type:"success",title:f,message:d,...p}),showError:(f,d,p)=>n({type:"error",title:f,message:d,...p}),showWarning:(f,d,p)=>n({type:"warning",title:f,message:d,...p}),showInfo:(f,d,p)=>n({type:"info",title:f,message:d,...p}),removeNotification:a,clearAll:()=>{s([])}};return r.jsxs(py.Provider,{value:h,children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 pointer-events-none",children:r.jsx("div",{className:"space-y-2 pointer-events-auto",children:t.map(f=>r.jsx(J2,{...f,onRemove:a},f.id))})})]})},Ls=()=>{const e=u.useContext(py);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e};var bf=["light","dark"],e4="(prefers-color-scheme: dark)",t4=u.createContext(void 0),r4={setTheme:e=>{},themes:[]},s4=()=>{var e;return(e=u.useContext(t4))!=null?e:r4};u.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let m=o==="system",h=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,f=a?bf.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(w,x=!1,b=!0)=>{let g=i?i[w]:w,y=x?w+"|| ''":`'${g}'`,v="";return a&&b&&!x&&bf.includes(w)&&(v+=`d.style.colorScheme = '${w}';`),s==="class"?x||g?v+=`c.add(${y})`:v+="null":g&&(v+=`d[s](n,${y})`),v},p=e?`!function(){${h}${d(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${e4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}${m?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${d(i?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var n4=e=>{switch(e){case"success":return i4;case"info":return c4;case"warning":return l4;case"error":return d4;default:return null}},a4=Array(12).fill(0),o4=({visible:e})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},K.createElement("div",{className:"sonner-spinner"},a4.map((t,s)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),i4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),l4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),u4=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Ed=1,m4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ed++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:s}),{...l,...e,id:a,dismissible:i,title:s}):l):this.addToast({title:s,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=s!==void 0;return n.then(async o=>{if(f4(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:s,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:s,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:s,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(s),s=void 0),(o=t.finally)==null||o.call(t)}),s},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Ed++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},gt=new m4,h4=(e,t)=>{let s=(t==null?void 0:t.id)||Ed++;return gt.addToast({title:e,...t,id:s}),s},f4=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",x4=h4,p4=()=>gt.toasts;Object.assign(x4,{success:gt.success,info:gt.info,warning:gt.warning,error:gt.error,custom:gt.custom,message:gt.message,promise:gt.promise,dismiss:gt.dismiss,loading:gt.loading},{getHistory:p4});function g4(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}g4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wo(e){return e.label!==void 0}var y4=3,v4="32px",w4=4e3,b4=356,j4=14,N4=20,k4=200;function S4(...e){return e.filter(Boolean).join(" ")}var C4=e=>{var t,s,n,a,o,i,l,c,m,h;let{invert:f,toast:d,unstyled:p,interacting:w,setHeights:x,visibleToasts:b,heights:g,index:y,toasts:v,expanded:N,removeToast:E,defaultRichColors:S,closeButton:C,style:j,cancelButtonStyle:T,actionButtonStyle:A,className:L="",descriptionClassName:F="",duration:U,position:I,gap:O,loadingIcon:B,expandByDefault:q,classNames:_,icons:P,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:R,cn:V}=e,[W,D]=K.useState(!1),[k,$]=K.useState(!1),[z,G]=K.useState(!1),[X,ne]=K.useState(!1),[H,Q]=K.useState(0),[te,he]=K.useState(0),Ut=K.useRef(null),We=K.useRef(null),_t=y===0,Bt=y+1<=b,J=d.type,Z=d.dismissible!==!1,Xe=d.className||"",lt=d.descriptionClassName||"",_e=K.useMemo(()=>g.findIndex(ae=>ae.toastId===d.id)||0,[g,d.id]),Qe=K.useMemo(()=>{var ae;return(ae=d.closeButton)!=null?ae:C},[d.closeButton,C]),Vt=K.useMemo(()=>d.duration||U||w4,[d.duration,U]),Re=K.useRef(0),De=K.useRef(0),Wt=K.useRef(0),xr=K.useRef(null),[Ja,xw]=I.split("-"),zm=K.useMemo(()=>g.reduce((ae,ve,ge)=>ge>=_e?ae:ae+ve.height,0),[g,_e]),Um=u4(),pw=d.invert||f,Ml=J==="loading";De.current=K.useMemo(()=>_e*O+zm,[_e,zm]),K.useEffect(()=>{D(!0)},[]),K.useLayoutEffect(()=>{if(!W)return;let ae=We.current,ve=ae.style.height;ae.style.height="auto";let ge=ae.getBoundingClientRect().height;ae.style.height=ve,he(ge),x(sr=>sr.find(nr=>nr.toastId===d.id)?sr.map(nr=>nr.toastId===d.id?{...nr,height:ge}:nr):[{toastId:d.id,height:ge,position:d.position},...sr])},[W,d.title,d.description,x,d.id]);let Ir=K.useCallback(()=>{$(!0),Q(De.current),x(ae=>ae.filter(ve=>ve.toastId!==d.id)),setTimeout(()=>{E(d)},k4)},[d,E,x,De]);K.useEffect(()=>{if(d.promise&&J==="loading"||d.duration===1/0||d.type==="loading")return;let ae,ve=Vt;return N||w||R&&Um?(()=>{if(Wt.current<Re.current){let ge=new Date().getTime()-Re.current;ve=ve-ge}Wt.current=new Date().getTime()})():ve!==1/0&&(Re.current=new Date().getTime(),ae=setTimeout(()=>{var ge;(ge=d.onAutoClose)==null||ge.call(d,d),Ir()},ve)),()=>clearTimeout(ae)},[N,w,q,d,Vt,Ir,d.promise,J,R,Um]),K.useEffect(()=>{let ae=We.current;if(ae){let ve=ae.getBoundingClientRect().height;return he(ve),x(ge=>[{toastId:d.id,height:ve,position:d.position},...ge]),()=>x(ge=>ge.filter(sr=>sr.toastId!==d.id))}},[x,d.id]),K.useEffect(()=>{d.delete&&Ir()},[Ir,d.delete]);function gw(){return P!=null&&P.loading?K.createElement("div",{className:"sonner-loader","data-visible":J==="loading"},P.loading):B?K.createElement("div",{className:"sonner-loader","data-visible":J==="loading"},B):K.createElement(o4,{visible:J==="loading"})}return K.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:We,className:V(L,Xe,_==null?void 0:_.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[J],(s=d==null?void 0:d.classNames)==null?void 0:s[J]),"data-sonner-toast":"","data-rich-colors":(n=d.richColors)!=null?n:S,"data-styled":!(d.jsx||d.unstyled||p),"data-mounted":W,"data-promise":!!d.promise,"data-removed":k,"data-visible":Bt,"data-y-position":Ja,"data-x-position":xw,"data-index":y,"data-front":_t,"data-swiping":z,"data-dismissible":Z,"data-type":J,"data-invert":pw,"data-swipe-out":X,"data-expanded":!!(N||q&&W),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${k?H:De.current}px`,"--initial-height":q?"auto":`${te}px`,...j,...d.style},onPointerDown:ae=>{Ml||!Z||(Ut.current=new Date,Q(De.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(G(!0),xr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,ve,ge,sr;if(X||!Z)return;xr.current=null;let nr=Number(((ae=We.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Za=new Date().getTime()-((ve=Ut.current)==null?void 0:ve.getTime()),yw=Math.abs(nr)/Za;if(Math.abs(nr)>=N4||yw>.11){Q(De.current),(ge=d.onDismiss)==null||ge.call(d,d),Ir(),ne(!0);return}(sr=We.current)==null||sr.style.setProperty("--swipe-amount","0px"),G(!1)},onPointerMove:ae=>{var ve;if(!xr.current||!Z)return;let ge=ae.clientY-xr.current.y,sr=ae.clientX-xr.current.x,nr=(Ja==="top"?Math.min:Math.max)(0,ge),Za=ae.pointerType==="touch"?10:2;Math.abs(nr)>Za?(ve=We.current)==null||ve.style.setProperty("--swipe-amount",`${ge}px`):Math.abs(sr)>Za&&(xr.current=null)}},Qe&&!d.jsx?K.createElement("button",{"aria-label":M,"data-disabled":Ml,"data-close-button":!0,onClick:Ml||!Z?()=>{}:()=>{var ae;Ir(),(ae=d.onDismiss)==null||ae.call(d,d)},className:V(_==null?void 0:_.closeButton,(a=d==null?void 0:d.classNames)==null?void 0:a.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||K.isValidElement(d.title)?d.jsx||d.title:K.createElement(K.Fragment,null,J||d.icon||d.promise?K.createElement("div",{"data-icon":"",className:V(_==null?void 0:_.icon,(o=d==null?void 0:d.classNames)==null?void 0:o.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||gw():null,d.type!=="loading"?d.icon||(P==null?void 0:P[J])||n4(J):null):null,K.createElement("div",{"data-content":"",className:V(_==null?void 0:_.content,(i=d==null?void 0:d.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:V(_==null?void 0:_.title,(l=d==null?void 0:d.classNames)==null?void 0:l.title)},d.title),d.description?K.createElement("div",{"data-description":"",className:V(F,lt,_==null?void 0:_.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},d.description):null),K.isValidElement(d.cancel)?d.cancel:d.cancel&&wo(d.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||T,onClick:ae=>{var ve,ge;wo(d.cancel)&&Z&&((ge=(ve=d.cancel).onClick)==null||ge.call(ve,ae),Ir())},className:V(_==null?void 0:_.cancelButton,(m=d==null?void 0:d.classNames)==null?void 0:m.cancelButton)},d.cancel.label):null,K.isValidElement(d.action)?d.action:d.action&&wo(d.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:ae=>{var ve,ge;wo(d.action)&&(ae.defaultPrevented||((ge=(ve=d.action).onClick)==null||ge.call(ve,ae),Ir()))},className:V(_==null?void 0:_.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function jf(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var E4=e=>{let{invert:t,position:s="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:o,className:i,offset:l,theme:c="light",richColors:m,duration:h,style:f,visibleToasts:d=y4,toastOptions:p,dir:w=jf(),gap:x=j4,loadingIcon:b,icons:g,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:v,cn:N=S4}=e,[E,S]=K.useState([]),C=K.useMemo(()=>Array.from(new Set([s].concat(E.filter(R=>R.position).map(R=>R.position)))),[E,s]),[j,T]=K.useState([]),[A,L]=K.useState(!1),[F,U]=K.useState(!1),[I,O]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=K.useRef(null),q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=K.useRef(null),P=K.useRef(!1),M=K.useCallback(R=>{var V;(V=E.find(W=>W.id===R.id))!=null&&V.delete||gt.dismiss(R.id),S(W=>W.filter(({id:D})=>D!==R.id))},[E]);return K.useEffect(()=>gt.subscribe(R=>{if(R.dismiss){S(V=>V.map(W=>W.id===R.id?{...W,delete:!0}:W));return}setTimeout(()=>{hg.flushSync(()=>{S(V=>{let W=V.findIndex(D=>D.id===R.id);return W!==-1?[...V.slice(0,W),{...V[W],...R},...V.slice(W+1)]:[R,...V]})})})}),[]),K.useEffect(()=>{if(c!=="system"){O(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:R})=>{O(R?"dark":"light")})},[c]),K.useEffect(()=>{E.length<=1&&L(!1)},[E]),K.useEffect(()=>{let R=V=>{var W,D;n.every(k=>V[k]||V.code===k)&&(L(!0),(W=B.current)==null||W.focus()),V.code==="Escape"&&(document.activeElement===B.current||(D=B.current)!=null&&D.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[n]),K.useEffect(()=>{if(B.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,P.current=!1)}},[B.current]),E.length?K.createElement("section",{"aria-label":`${y} ${q}`,tabIndex:-1},C.map((R,V)=>{var W;let[D,k]=R.split("-");return K.createElement("ol",{key:R,dir:w==="auto"?jf():w,tabIndex:-1,ref:B,className:i,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":D,"data-x-position":k,style:{"--front-toast-height":`${((W=j[0])==null?void 0:W.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||v4,"--width":`${b4}px`,"--gap":`${x}px`,...f},onBlur:$=>{P.current&&!$.currentTarget.contains($.relatedTarget)&&(P.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||P.current||(P.current=!0,_.current=$.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{F||L(!1)},onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},E.filter($=>!$.position&&V===0||$.position===R).map(($,z)=>{var G,X;return K.createElement(C4,{key:$.id,icons:g,index:z,toast:$,defaultRichColors:m,duration:(G=p==null?void 0:p.duration)!=null?G:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:d,closeButton:(X=p==null?void 0:p.closeButton)!=null?X:o,interacting:F,position:R,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:M,toasts:E.filter(ne=>ne.position==$.position),heights:j.filter(ne=>ne.position==$.position),setHeights:T,expandByDefault:a,gap:x,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:v,cn:N})}))})):null};const P4=({...e})=>{const{theme:t="system"}=s4();return r.jsx(E4,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var T4=dx.useId||(()=>{}),_4=0;function Sn(e){const[t,s]=u.useState(T4());return Be(()=>{s(n=>n??String(_4++))},[e]),t?`radix-${t}`:""}const A4=["top","right","bottom","left"],ts=Math.min,wt=Math.max,Si=Math.round,bo=Math.floor,rs=e=>({x:e,y:e}),I4={left:"right",right:"left",bottom:"top",top:"bottom"},M4={start:"end",end:"start"};function Pd(e,t,s){return wt(e,ts(t,s))}function Pr(e,t){return typeof e=="function"?e(t):e}function Tr(e){return e.split("-")[0]}function Dn(e){return e.split("-")[1]}function sm(e){return e==="x"?"y":"x"}function nm(e){return e==="y"?"height":"width"}function ss(e){return["top","bottom"].includes(Tr(e))?"y":"x"}function am(e){return sm(ss(e))}function R4(e,t,s){s===void 0&&(s=!1);const n=Dn(e),a=am(e),o=nm(a);let i=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Ci(i)),[i,Ci(i)]}function D4(e){const t=Ci(e);return[Td(e),t,Td(t)]}function Td(e){return e.replace(/start|end/g,t=>M4[t])}function L4(e,t,s){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function O4(e,t,s,n){const a=Dn(e);let o=L4(Tr(e),s==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(Td)))),o}function Ci(e){return e.replace(/left|right|bottom|top/g,t=>I4[t])}function $4(e){return{top:0,right:0,bottom:0,left:0,...e}}function gy(e){return typeof e!="number"?$4(e):{top:e,right:e,bottom:e,left:e}}function Ei(e){const{x:t,y:s,width:n,height:a}=e;return{width:n,height:a,top:s,left:t,right:t+n,bottom:s+a,x:t,y:s}}function Nf(e,t,s){let{reference:n,floating:a}=e;const o=ss(t),i=am(t),l=nm(i),c=Tr(t),m=o==="y",h=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,d=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:h,y:n.y-a.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Dn(t)){case"start":p[i]-=d*(s&&m?-1:1);break;case"end":p[i]+=d*(s&&m?-1:1);break}return p}const F4=async(e,t,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let m=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:f}=Nf(m,n,c),d=n,p={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:g}=l[x],{x:y,y:v,data:N,reset:E}=await g({x:h,y:f,initialPlacement:n,placement:d,strategy:a,middlewareData:p,rects:m,platform:i,elements:{reference:e,floating:t}});h=y??h,f=v??f,p={...p,[b]:{...p[b],...N}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(m=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:h,y:f}=Nf(m,d,c)),x=-1)}return{x:h,y:f,placement:d,strategy:a,middlewareData:p}};async function Oa(e,t){var s;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Pr(t,e),w=gy(p),b=l[d?f==="floating"?"reference":"floating":f],g=Ei(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(b)))==null||s?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:m,rootBoundary:h,strategy:c})),y=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},E=Ei(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-E.top+w.top)/N.y,bottom:(E.bottom-g.bottom+w.bottom)/N.y,left:(g.left-E.left+w.left)/N.x,right:(E.right-g.right+w.right)/N.x}}const z4=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:m,padding:h=0}=Pr(e,t)||{};if(m==null)return{};const f=gy(h),d={x:s,y:n},p=am(a),w=nm(p),x=await i.getDimensions(m),b=p==="y",g=b?"top":"left",y=b?"bottom":"right",v=b?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[p]-d[p]-o.floating[w],E=d[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(m));let C=S?S[v]:0;(!C||!await(i.isElement==null?void 0:i.isElement(S)))&&(C=l.floating[v]||o.floating[w]);const j=N/2-E/2,T=C/2-x[w]/2-1,A=ts(f[g],T),L=ts(f[y],T),F=A,U=C-x[w]-L,I=C/2-x[w]/2+j,O=Pd(F,I,U),B=!c.arrow&&Dn(a)!=null&&I!==O&&o.reference[w]/2-(I<F?A:L)-x[w]/2<0,q=B?I<F?I-F:I-U:0;return{[p]:d[p]+q,data:{[p]:O,centerOffset:I-O-q,...B&&{alignmentOffset:q}},reset:B}}}),U4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:m}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=Pr(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const g=Tr(a),y=ss(l),v=Tr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(m.floating)),E=d||(v||!x?[Ci(l)]:D4(l)),S=w!=="none";!d&&S&&E.push(...O4(l,x,w,N));const C=[l,...E],j=await Oa(t,b),T=[];let A=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&T.push(j[g]),f){const I=R4(a,i,N);T.push(j[I[0]],j[I[1]])}if(A=[...A,{placement:a,overflows:T}],!T.every(I=>I<=0)){var L,F;const I=(((L=o.flip)==null?void 0:L.index)||0)+1,O=C[I];if(O)return{data:{index:I,overflows:A},reset:{placement:O}};let B=(F=A.filter(q=>q.overflows[0]<=0).sort((q,_)=>q.overflows[1]-_.overflows[1])[0])==null?void 0:F.placement;if(!B)switch(p){case"bestFit":{var U;const q=(U=A.filter(_=>{if(S){const P=ss(_.placement);return P===y||P==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(P=>P>0).reduce((P,M)=>P+M,0)]).sort((_,P)=>_[1]-P[1])[0])==null?void 0:U[0];q&&(B=q);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function kf(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sf(e){return A4.some(t=>e[t]>=0)}const B4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...a}=Pr(e,t);switch(n){case"referenceHidden":{const o=await Oa(t,{...a,elementContext:"reference"}),i=kf(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Sf(i)}}}case"escaped":{const o=await Oa(t,{...a,altBoundary:!0}),i=kf(o,s.floating);return{data:{escapedOffsets:i,escaped:Sf(i)}}}default:return{}}}}};async function V4(e,t){const{placement:s,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Tr(s),l=Dn(s),c=ss(s)==="y",m=["left","top"].includes(i)?-1:1,h=o&&c?-1:1,f=Pr(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*h,y:d*m}:{x:d*m,y:p*h}}const W4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await V4(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},H4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...c}=Pr(e,t),m={x:s,y:n},h=await Oa(t,c),f=ss(Tr(a)),d=sm(f);let p=m[d],w=m[f];if(o){const b=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+h[b],v=p-h[g];p=Pd(y,p,v)}if(i){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=w+h[b],v=w-h[g];w=Pd(y,w,v)}const x=l.fn({...t,[d]:p,[f]:w});return{...x,data:{x:x.x-s,y:x.y-n,enabled:{[d]:o,[f]:i}}}}}},G4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:m=!0}=Pr(e,t),h={x:s,y:n},f=ss(a),d=sm(f);let p=h[d],w=h[f];const x=Pr(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=d==="y"?"height":"width",N=o.reference[d]-o.floating[v]+b.mainAxis,E=o.reference[d]+o.reference[v]-b.mainAxis;p<N?p=N:p>E&&(p=E)}if(m){var g,y;const v=d==="y"?"width":"height",N=["top","left"].includes(Tr(a)),E=o.reference[f]-o.floating[v]+(N&&((g=i.offset)==null?void 0:g[f])||0)+(N?0:b.crossAxis),S=o.reference[f]+o.reference[v]+(N?0:((y=i.offset)==null?void 0:y[f])||0)-(N?b.crossAxis:0);w<E?w=E:w>S&&(w=S)}return{[d]:p,[f]:w}}}},Y4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...m}=Pr(e,t),h=await Oa(t,m),f=Tr(a),d=Dn(a),p=ss(a)==="y",{width:w,height:x}=o.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=d===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,b=d==="end"?"top":"bottom");const y=x-h.top-h.bottom,v=w-h.left-h.right,N=ts(x-h[b],y),E=ts(w-h[g],v),S=!t.middlewareData.shift;let C=N,j=E;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(j=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=y),S&&!d){const A=wt(h.left,0),L=wt(h.right,0),F=wt(h.top,0),U=wt(h.bottom,0);p?j=w-2*(A!==0||L!==0?A+L:wt(h.left,h.right)):C=x-2*(F!==0||U!==0?F+U:wt(h.top,h.bottom))}await c({...t,availableWidth:j,availableHeight:C});const T=await i.getDimensions(l.floating);return w!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function cl(){return typeof window<"u"}function Ln(e){return yy(e)?(e.nodeName||"").toLowerCase():"#document"}function kt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fr(e){var t;return(t=(yy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yy(e){return cl()?e instanceof Node||e instanceof kt(e).Node:!1}function er(e){return cl()?e instanceof Element||e instanceof kt(e).Element:!1}function hr(e){return cl()?e instanceof HTMLElement||e instanceof kt(e).HTMLElement:!1}function Cf(e){return!cl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kt(e).ShadowRoot}function qa(e){const{overflow:t,overflowX:s,overflowY:n,display:a}=tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(a)}function q4(e){return["table","td","th"].includes(Ln(e))}function dl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function om(e){const t=im(),s=er(e)?tr(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function K4(e){let t=ns(e);for(;hr(t)&&!Cn(t);){if(om(t))return t;if(dl(t))return null;t=ns(t)}return null}function im(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cn(e){return["html","body","#document"].includes(Ln(e))}function tr(e){return kt(e).getComputedStyle(e)}function ul(e){return er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(Ln(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cf(e)&&e.host||fr(e);return Cf(t)?t.host:t}function vy(e){const t=ns(e);return Cn(t)?e.ownerDocument?e.ownerDocument.body:e.body:hr(t)&&qa(t)?t:vy(t)}function $a(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=vy(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=kt(a);if(o){const l=_d(i);return t.concat(i,i.visualViewport||[],qa(a)?a:[],l&&s?$a(l):[])}return t.concat(a,$a(a,[],s))}function _d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wy(e){const t=tr(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=hr(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:n,l=Si(s)!==o||Si(n)!==i;return l&&(s=o,n=i),{width:s,height:n,$:l}}function lm(e){return er(e)?e:e.contextElement}function un(e){const t=lm(e);if(!hr(t))return rs(1);const s=t.getBoundingClientRect(),{width:n,height:a,$:o}=wy(t);let i=(o?Si(s.width):s.width)/n,l=(o?Si(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const X4=rs(0);function by(e){const t=kt(e);return!im()||!t.visualViewport?X4:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Q4(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==kt(e)?!1:t}function Es(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=lm(e);let i=rs(1);t&&(n?er(n)&&(i=un(n)):i=un(e));const l=Q4(o,s,n)?by(o):rs(0);let c=(a.left+l.x)/i.x,m=(a.top+l.y)/i.y,h=a.width/i.x,f=a.height/i.y;if(o){const d=kt(o),p=n&&er(n)?kt(n):n;let w=d,x=_d(w);for(;x&&n&&p!==w;){const b=un(x),g=x.getBoundingClientRect(),y=tr(x),v=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*b.x,N=g.top+(x.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,m*=b.y,h*=b.x,f*=b.y,c+=v,m+=N,w=kt(x),x=_d(w)}}return Ei({width:h,height:f,x:c,y:m})}function J4(e){let{elements:t,rect:s,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=fr(n),l=t?dl(t.floating):!1;if(n===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},m=rs(1);const h=rs(0),f=hr(n);if((f||!f&&!o)&&((Ln(n)!=="body"||qa(i))&&(c=ul(n)),hr(n))){const d=Es(n);m=un(n),h.x=d.x+n.clientLeft,h.y=d.y+n.clientTop}return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-c.scrollLeft*m.x+h.x,y:s.y*m.y-c.scrollTop*m.y+h.y}}function Z4(e){return Array.from(e.getClientRects())}function Ad(e,t){const s=ul(e).scrollLeft;return t?t.left+s:Es(fr(e)).left+s}function ek(e){const t=fr(e),s=ul(e),n=e.ownerDocument.body,a=wt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=wt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+Ad(e);const l=-s.scrollTop;return tr(n).direction==="rtl"&&(i+=wt(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function tk(e,t){const s=kt(e),n=fr(e),a=s.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const m=im();(!m||m&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function rk(e,t){const s=Es(e,!0,t==="fixed"),n=s.top+e.clientTop,a=s.left+e.clientLeft,o=hr(e)?un(e):rs(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,m=n*o.y;return{width:i,height:l,x:c,y:m}}function Ef(e,t,s){let n;if(t==="viewport")n=tk(e,s);else if(t==="document")n=ek(fr(e));else if(er(t))n=rk(t,s);else{const a=by(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return Ei(n)}function jy(e,t){const s=ns(e);return s===t||!er(s)||Cn(s)?!1:tr(s).position==="fixed"||jy(s,t)}function sk(e,t){const s=t.get(e);if(s)return s;let n=$a(e,[],!1).filter(l=>er(l)&&Ln(l)!=="body"),a=null;const o=tr(e).position==="fixed";let i=o?ns(e):e;for(;er(i)&&!Cn(i);){const l=tr(i),c=om(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||qa(i)&&!c&&jy(e,i))?n=n.filter(h=>h!==i):a=l,i=ns(i)}return t.set(e,n),n}function nk(e){let{element:t,boundary:s,rootBoundary:n,strategy:a}=e;const i=[...s==="clippingAncestors"?dl(t)?[]:sk(t,this._c):[].concat(s),n],l=i[0],c=i.reduce((m,h)=>{const f=Ef(t,h,a);return m.top=wt(f.top,m.top),m.right=ts(f.right,m.right),m.bottom=ts(f.bottom,m.bottom),m.left=wt(f.left,m.left),m},Ef(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ak(e){const{width:t,height:s}=wy(e);return{width:t,height:s}}function ok(e,t,s){const n=hr(t),a=fr(t),o=s==="fixed",i=Es(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=rs(0);if(n||!n&&!o)if((Ln(t)!=="body"||qa(a))&&(l=ul(t)),n){const p=Es(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=Ad(a));let m=0,h=0;if(a&&!n&&!o){const p=a.getBoundingClientRect();h=p.top+l.scrollTop,m=p.left+l.scrollLeft-Ad(a,p)}const f=i.left+l.scrollLeft-c.x-m,d=i.top+l.scrollTop-c.y-h;return{x:f,y:d,width:i.width,height:i.height}}function mc(e){return tr(e).position==="static"}function Pf(e,t){if(!hr(e)||tr(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return fr(e)===s&&(s=s.ownerDocument.body),s}function Ny(e,t){const s=kt(e);if(dl(e))return s;if(!hr(e)){let a=ns(e);for(;a&&!Cn(a);){if(er(a)&&!mc(a))return a;a=ns(a)}return s}let n=Pf(e,t);for(;n&&q4(n)&&mc(n);)n=Pf(n,t);return n&&Cn(n)&&mc(n)&&!om(n)?s:n||K4(e)||s}const ik=async function(e){const t=this.getOffsetParent||Ny,s=this.getDimensions,n=await s(e.floating);return{reference:ok(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lk(e){return tr(e).direction==="rtl"}const ck={convertOffsetParentRelativeRectToViewportRelativeRect:J4,getDocumentElement:fr,getClippingRect:nk,getOffsetParent:Ny,getElementRects:ik,getClientRects:Z4,getDimensions:ak,getScale:un,isElement:er,isRTL:lk};function dk(e,t){let s=null,n;const a=fr(e);function o(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:m,top:h,width:f,height:d}=e.getBoundingClientRect();if(l||t(),!f||!d)return;const p=bo(h),w=bo(a.clientWidth-(m+f)),x=bo(a.clientHeight-(h+d)),b=bo(m),y={rootMargin:-p+"px "+-w+"px "+-x+"px "+-b+"px",threshold:wt(0,ts(1,c))||1};let v=!0;function N(E){const S=E[0].intersectionRatio;if(S!==c){if(!v)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}v=!1}try{s=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,y)}s.observe(e)}return i(!0),o}function uk(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,m=lm(e),h=a||o?[...m?$a(m):[],...$a(t)]:[];h.forEach(g=>{a&&g.addEventListener("scroll",s,{passive:!0}),o&&g.addEventListener("resize",s)});const f=m&&l?dk(m,s):null;let d=-1,p=null;i&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===m&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),s()}),m&&!c&&p.observe(m),p.observe(t));let w,x=c?Es(e):null;c&&b();function b(){const g=Es(e);x&&(g.x!==x.x||g.y!==x.y||g.width!==x.width||g.height!==x.height)&&s(),x=g,w=requestAnimationFrame(b)}return s(),()=>{var g;h.forEach(y=>{a&&y.removeEventListener("scroll",s),o&&y.removeEventListener("resize",s)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const mk=W4,hk=H4,fk=U4,xk=Y4,pk=B4,Tf=z4,gk=G4,yk=(e,t,s)=>{const n=new Map,a={platform:ck,...s},o={...a.platform,_c:n};return F4(e,t,{...a,platform:o})};var qo=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Pi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Pi(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=s;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Pi(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ky(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _f(e,t){const s=ky(e);return Math.round(t*s)/s}function hc(e){const t=u.useRef(e);return qo(()=>{t.current=e}),t}function vk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:m}=e,[h,f]=u.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[d,p]=u.useState(n);Pi(d,n)||p(n);const[w,x]=u.useState(null),[b,g]=u.useState(null),y=u.useCallback(_=>{_!==S.current&&(S.current=_,x(_))},[]),v=u.useCallback(_=>{_!==C.current&&(C.current=_,g(_))},[]),N=o||w,E=i||b,S=u.useRef(null),C=u.useRef(null),j=u.useRef(h),T=c!=null,A=hc(c),L=hc(a),F=hc(m),U=u.useCallback(()=>{if(!S.current||!C.current)return;const _={placement:t,strategy:s,middleware:d};L.current&&(_.platform=L.current),yk(S.current,C.current,_).then(P=>{const M={...P,isPositioned:F.current!==!1};I.current&&!Pi(j.current,M)&&(j.current=M,Ms.flushSync(()=>{f(M)}))})},[d,t,s,L,F]);qo(()=>{m===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[m]);const I=u.useRef(!1);qo(()=>(I.current=!0,()=>{I.current=!1}),[]),qo(()=>{if(N&&(S.current=N),E&&(C.current=E),N&&E){if(A.current)return A.current(N,E,U);U()}},[N,E,U,A,T]);const O=u.useMemo(()=>({reference:S,floating:C,setReference:y,setFloating:v}),[y,v]),B=u.useMemo(()=>({reference:N,floating:E}),[N,E]),q=u.useMemo(()=>{const _={position:s,left:0,top:0};if(!B.floating)return _;const P=_f(B.floating,h.x),M=_f(B.floating,h.y);return l?{..._,transform:"translate("+P+"px, "+M+"px)",...ky(B.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:P,top:M}},[s,l,B.floating,h.x,h.y]);return u.useMemo(()=>({...h,update:U,refs:O,elements:B,floatingStyles:q}),[h,U,O,B,q])}const wk=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:a}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?Tf({element:n.current,padding:a}).fn(s):{}:n?Tf({element:n,padding:a}).fn(s):{}}}},bk=(e,t)=>({...mk(e),options:[e,t]}),jk=(e,t)=>({...hk(e),options:[e,t]}),Nk=(e,t)=>({...gk(e),options:[e,t]}),kk=(e,t)=>({...fk(e),options:[e,t]}),Sk=(e,t)=>({...xk(e),options:[e,t]}),Ck=(e,t)=>({...pk(e),options:[e,t]}),Ek=(e,t)=>({...wk(e),options:[e,t]});var Pk="Arrow",Sy=u.forwardRef((e,t)=>{const{children:s,width:n=10,height:a=5,...o}=e;return r.jsx(le.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sy.displayName=Pk;var Tk=Sy;function _k(e,t=[]){let s=[];function n(o,i){const l=u.createContext(i),c=s.length;s=[...s,i];function m(f){const{scope:d,children:p,...w}=f,x=(d==null?void 0:d[e][c])||l,b=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:b,children:p})}function h(f,d){const p=(d==null?void 0:d[e][c])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return m.displayName=o+"Provider",[m,h]}const a=()=>{const o=s.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Ak(a,...t)]}function Ak(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:m})=>{const f=c(o)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}function Ik(e){const[t,s]=u.useState(void 0);return Be(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,m=Array.isArray(c)?c[0]:c;i=m.inlineSize,l=m.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var cm="Popper",[Cy,On]=_k(cm),[Mk,Ey]=Cy(cm),Py=e=>{const{__scopePopper:t,children:s}=e,[n,a]=u.useState(null);return r.jsx(Mk,{scope:t,anchor:n,onAnchorChange:a,children:s})};Py.displayName=cm;var Ty="PopperAnchor",_y=u.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...a}=e,o=Ey(Ty,s),i=u.useRef(null),l=pe(t,i);return u.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:r.jsx(le.div,{...a,ref:l})});_y.displayName=Ty;var dm="PopperContent",[Rk,Dk]=Cy(dm),Ay=u.forwardRef((e,t)=>{var z,G,X,ne,H,Q;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:p="optimized",onPlaced:w,...x}=e,b=Ey(dm,s),[g,y]=u.useState(null),v=pe(t,te=>y(te)),[N,E]=u.useState(null),S=Ik(N),C=(S==null?void 0:S.width)??0,j=(S==null?void 0:S.height)??0,T=n+(o!=="center"?"-"+o:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(m)?m:[m],F=L.length>0,U={padding:A,boundary:L.filter(Ok),altBoundary:F},{refs:I,floatingStyles:O,placement:B,isPositioned:q,middlewareData:_}=vk({strategy:"fixed",placement:T,whileElementsMounted:(...te)=>uk(...te,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[bk({mainAxis:a+j,alignmentAxis:i}),c&&jk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nk():void 0,...U}),c&&kk({...U}),Sk({...U,apply:({elements:te,rects:he,availableWidth:Ut,availableHeight:We})=>{const{width:_t,height:Bt}=he.reference,J=te.floating.style;J.setProperty("--radix-popper-available-width",`${Ut}px`),J.setProperty("--radix-popper-available-height",`${We}px`),J.setProperty("--radix-popper-anchor-width",`${_t}px`),J.setProperty("--radix-popper-anchor-height",`${Bt}px`)}}),N&&Ek({element:N,padding:l}),$k({arrowWidth:C,arrowHeight:j}),d&&Ck({strategy:"referenceHidden",...U})]}),[P,M]=Ry(B),R=Ke(w);Be(()=>{q&&(R==null||R())},[q,R]);const V=(z=_.arrow)==null?void 0:z.x,W=(G=_.arrow)==null?void 0:G.y,D=((X=_.arrow)==null?void 0:X.centerOffset)!==0,[k,$]=u.useState();return Be(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]),r.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:q?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:k,"--radix-popper-transform-origin":[(ne=_.transformOrigin)==null?void 0:ne.x,(H=_.transformOrigin)==null?void 0:H.y].join(" "),...((Q=_.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(Rk,{scope:s,placedSide:P,onArrowChange:E,arrowX:V,arrowY:W,shouldHideArrow:D,children:r.jsx(le.div,{"data-side":P,"data-align":M,...x,ref:v,style:{...x.style,animation:q?void 0:"none"}})})})});Ay.displayName=dm;var Iy="PopperArrow",Lk={top:"bottom",right:"left",bottom:"top",left:"right"},My=u.forwardRef(function(t,s){const{__scopePopper:n,...a}=t,o=Dk(Iy,n),i=Lk[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(Tk,{...a,ref:s,style:{...a.style,display:"block"}})})});My.displayName=Iy;function Ok(e){return e!==null}var $k=e=>({name:"transformOrigin",options:e,fn(t){var b,g,y;const{placement:s,rects:n,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[m,h]=Ry(s),f={start:"0%",center:"50%",end:"100%"}[h],d=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let w="",x="";return m==="bottom"?(w=i?f:`${d}px`,x=`${-c}px`):m==="top"?(w=i?f:`${d}px`,x=`${n.floating.height+c}px`):m==="right"?(w=`${-c}px`,x=i?f:`${p}px`):m==="left"&&(w=`${n.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:w,y:x}}}});function Ry(e){const[t,s="center"]=e.split("-");return[t,s]}var Dy=Py,um=_y,mm=Ay,hm=My,[ml,CE]=Mn("Tooltip",[On]),fm=On(),Ly="TooltipProvider",Fk=700,Af="tooltip.open",[zk,Oy]=ml(Ly),$y=e=>{const{__scopeTooltip:t,delayDuration:s=Fk,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=u.useState(!0),c=u.useRef(!1),m=u.useRef(0);return u.useEffect(()=>{const h=m.current;return()=>window.clearTimeout(h)},[]),r.jsx(zk,{scope:t,isOpenDelayed:i,delayDuration:s,onOpen:u.useCallback(()=>{window.clearTimeout(m.current),l(!1)},[]),onClose:u.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:u.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:o})};$y.displayName=Ly;var Fy="Tooltip",[EE,hl]=ml(Fy),Id="TooltipTrigger",Uk=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,a=hl(Id,s),o=Oy(Id,s),i=fm(s),l=u.useRef(null),c=pe(t,l,a.onTriggerChange),m=u.useRef(!1),h=u.useRef(!1),f=u.useCallback(()=>m.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.jsx(um,{asChild:!0,...i,children:r.jsx(le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ee(e.onPointerMove,d=>{d.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{m.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(e.onFocus,()=>{m.current||a.onOpen()}),onBlur:ee(e.onBlur,a.onClose),onClick:ee(e.onClick,a.onClose)})})});Uk.displayName=Id;var Bk="TooltipPortal",[PE,Vk]=ml(Bk,{forceMount:void 0}),En="TooltipContent",zy=u.forwardRef((e,t)=>{const s=Vk(En,e.__scopeTooltip),{forceMount:n=s.forceMount,side:a="top",...o}=e,i=hl(En,e.__scopeTooltip);return r.jsx(Ds,{present:n||i.open,children:i.disableHoverableContent?r.jsx(Uy,{side:a,...o,ref:t}):r.jsx(Wk,{side:a,...o,ref:t})})}),Wk=u.forwardRef((e,t)=>{const s=hl(En,e.__scopeTooltip),n=Oy(En,e.__scopeTooltip),a=u.useRef(null),o=pe(t,a),[i,l]=u.useState(null),{trigger:c,onClose:m}=s,h=a.current,{onPointerInTransitChange:f}=n,d=u.useCallback(()=>{l(null),f(!1)},[f]),p=u.useCallback((w,x)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},y=qk(g,b.getBoundingClientRect()),v=Kk(g,y),N=Xk(x.getBoundingClientRect()),E=Jk([...v,...N]);l(E),f(!0)},[f]);return u.useEffect(()=>()=>d(),[d]),u.useEffect(()=>{if(c&&h){const w=b=>p(b,h),x=b=>p(b,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,p,d]),u.useEffect(()=>{if(i){const w=x=>{const b=x.target,g={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),v=!Qk(g,i);y?d():v&&(d(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,i,m,d]),r.jsx(Uy,{...e,ref:o})}),[Hk,Gk]=ml(Fy,{isInside:!1}),Uy=u.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=hl(En,s),m=fm(s),{onClose:h}=c;return u.useEffect(()=>(document.addEventListener(Af,h),()=>document.removeEventListener(Af,h)),[h]),u.useEffect(()=>{if(c.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),r.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:r.jsxs(mm,{"data-state":c.stateAttribute,...m,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(Sg,{children:n}),r.jsx(Hk,{scope:s,isInside:!0,children:r.jsx(hN,{id:c.contentId,role:"tooltip",children:a||n})})]})})});zy.displayName=En;var By="TooltipArrow",Yk=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,a=fm(s);return Gk(By,s).isInside?null:r.jsx(hm,{...a,...n,ref:t})});Yk.displayName=By;function qk(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(s,n,a,o)){case o:return"left";case a:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Kk(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function Xk(e){const{top:t,right:s,bottom:n,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:n},{x:a,y:n}]}function Qk(e,t){const{x:s,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,m=t[i].x,h=t[i].y;c>n!=h>n&&s<(m-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function Jk(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),Zk(t)}function Zk(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var eS=$y,Vy=zy;const tS=eS,rS=u.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(Vy,{ref:n,sideOffset:t,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));rS.displayName=Vy.displayName;function sS(e={}){const{nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}=e,[a,o]=u.useState(!1),i=u.useRef(s);i.current=s;const l=u.useRef(n);return l.current=n,u.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=t,c.onload=()=>{var m;o(!0),(m=i.current)===null||m===void 0||m.call(i)},c.onerror=()=>{var m;o(!1),(m=l.current)===null||m===void 0||m.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[t]),a}const Wy=u.createContext(null);function nS({clientId:e,nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n,children:a}){const o=sS({nonce:t,onScriptLoadSuccess:s,onScriptLoadError:n}),i=u.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:o}),[e,o]);return K.createElement(Wy.Provider,{value:i},a)}function aS(){const e=u.useContext(Wy);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function oS(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const iS={large:40,medium:32,small:20};function xm({onSuccess:e,onError:t,useOneTap:s,promptMomentNotification:n,type:a="standard",theme:o="outline",size:i="large",text:l,shape:c,logo_alignment:m,width:h,locale:f,click_listener:d,containerProps:p,...w}){const x=u.useRef(null),{clientId:b,scriptLoadedSuccessfully:g}=aS(),y=u.useRef(e);y.current=e;const v=u.useRef(t);v.current=t;const N=u.useRef(n);return N.current=n,u.useEffect(()=>{var E,S,C,j,T,A,L,F,U;if(g)return(C=(S=(E=window==null?void 0:window.google)===null||E===void 0?void 0:E.accounts)===null||S===void 0?void 0:S.id)===null||C===void 0||C.initialize({client_id:b,callback:I=>{var O;if(!(I!=null&&I.credential))return(O=v.current)===null||O===void 0?void 0:O.call(v);const{credential:B,select_by:q}=I;y.current({credential:B,clientId:oS(I),select_by:q})},...w}),(A=(T=(j=window==null?void 0:window.google)===null||j===void 0?void 0:j.accounts)===null||T===void 0?void 0:T.id)===null||A===void 0||A.renderButton(x.current,{type:a,theme:o,size:i,text:l,shape:c,logo_alignment:m,width:h,locale:f,click_listener:d}),s&&((U=(F=(L=window==null?void 0:window.google)===null||L===void 0?void 0:L.accounts)===null||F===void 0?void 0:F.id)===null||U===void 0||U.prompt(N.current)),()=>{var I,O,B;s&&((B=(O=(I=window==null?void 0:window.google)===null||I===void 0?void 0:I.accounts)===null||O===void 0?void 0:O.id)===null||B===void 0||B.cancel())}},[b,g,s,a,o,i,l,c,m,h,f]),K.createElement("div",{...p,ref:x,style:{height:iS[i],...p==null?void 0:p.style}})}const Me=()=>{const e=u.useContext(xy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},lS=()=>{const{setIsLoggedIn:e,setUser:t}=Me(),{toast:s}=Pt();return u.useEffect(()=>{const n=()=>{console.log("📱 Token Manager: Session expired, logging out user"),e(!1),t(null),s({variant:"destructive",title:"Session Expired",description:"Your session has expired. Please login again to continue.",duration:5e3})};window.addEventListener("auth:logout",n);const a=setInterval(()=>{const o=localStorage.getItem("token"),i=localStorage.getItem("tokenExpiry");if(o&&i){const l=parseInt(i),c=Date.now(),m=l-c;console.log("📱 Token Manager: Token check",{hasToken:!!o,expiryTime:new Date(l).toLocaleString(),timeUntilExpiry:Math.round(m/1e3/60)+" minutes"}),m>0&&m<=10*60*1e3&&s({title:"Session Expiring Soon",description:"Your session will expire in 10 minutes. Please save any work.",duration:8e3})}},5*60*1e3);return()=>{window.removeEventListener("auth:logout",n),clearInterval(a)}},[e,t,s]),{checkTokenStatus:()=>{const n=localStorage.getItem("token"),a=localStorage.getItem("tokenExpiry");if(!n)return{hasToken:!1};const o=parseInt(a||"0"),i=Date.now(),l=o-i;return{hasToken:!0,isExpired:l<=0,expiresAt:new Date(o),timeUntilExpiry:Math.round(l/1e3)}}}};class cS extends K.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("🚨 Error Boundary caught an error:",t),console.error("🚨 Error Info:",s)}render(){var t;return this.state.hasError?this.props.fallback?r.jsx(this.props.fallback,{error:this.state.error}):r.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[r.jsx("h2",{className:"text-red-600 text-xl font-bold mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"The application encountered an error. Please refresh the page or contact support."}),r.jsxs("details",{className:"bg-gray-100 rounded p-3 text-sm",children:[r.jsx("summary",{className:"cursor-pointer font-medium",children:"Error Details"}),r.jsx("pre",{className:"mt-2 whitespace-pre-wrap text-xs",children:(t=this.state.error)==null?void 0:t.toString()})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}let jo=null;const dS=()=>"https://xsmmarket.com/api",uS=async()=>{if(jo!==null)return jo;try{const e=localStorage.getItem("token");if(!e)return{adminEmail:null,adminUsername:null};const t=await fetch(`${dS()}/admin/email`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const s=await t.json();return jo={adminEmail:s.adminEmail||null,adminUsername:s.adminUsername||null},jo}}catch(e){console.error("❌ Failed to fetch admin data:",e)}return{adminEmail:null,adminUsername:null}},mS=async(e,t)=>{try{const s=localStorage.getItem("userData");if(s&&JSON.parse(s).isAdmin===!0)return console.log("✅ User is admin (isAdmin flag set to true)"),!0;const{adminEmail:n,adminUsername:a}=await uS(),o=n&&e&&e.toLowerCase()===n.toLowerCase(),i=a&&t&&t.toLowerCase()===a.toLowerCase(),l=o||i;return console.log(l?"✅ User is admin (matched admin email/username)":"❌ User is not admin"),l}catch(s){return console.error("❌ Error checking admin status:",s),!1}},_r=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_r.displayName="Card";const Ps=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Ps.displayName="CardHeader";const Ti=u.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ti.displayName="CardTitle";const _i=u.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:ce("text-sm text-muted-foreground",e),...t}));_i.displayName="CardDescription";const Ts=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("p-6 pt-0",e),...t}));Ts.displayName="CardContent";const pm=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("flex items-center p-6 pt-0",e),...t}));pm.displayName="CardFooter";const ht=u.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));ht.displayName="Input";const hS=Yu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Lt=u.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:ce(hS({variant:t}),e),...s}));Lt.displayName="Alert";const Ko=u.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));Ko.displayName="AlertTitle";const Ot=u.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));Ot.displayName="AlertDescription";const fS=Yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=u.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},o)=>{const i=n?Ss:"button";return r.jsx(i,{className:ce(fS({variant:t,size:s,className:e})),ref:o,...a})});Ge.displayName="Button";var Hy={exports:{}},xS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pS=xS,gS=pS;function Gy(){}function Yy(){}Yy.resetWarningCache=Gy;var yS=function(){function e(n,a,o,i,l,c){if(c!==gS){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yy,resetWarningCache:Gy};return s.PropTypes=s,s};Hy.exports=yS();var vS=Hy.exports;const ct=Ri(vS);var wS=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Md.apply(this,arguments)}function bS(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function No(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Rd(e,t)}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rd(e,t)}var fl=function(e){jS(t,e);function t(){var n;return n=e.call(this)||this,n.handleExpired=n.handleExpired.bind(No(n)),n.handleErrored=n.handleErrored.bind(No(n)),n.handleChange=n.handleChange.bind(No(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(No(n)),n}var s=t.prototype;return s.getCaptchaFunction=function(a){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[a]:this.props.grecaptcha[a]:null},s.getValue=function(){var a=this.getCaptchaFunction("getResponse");return a&&this._widgetId!==void 0?a(this._widgetId):null},s.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},s.execute=function(){var a=this.getCaptchaFunction("execute");if(a&&this._widgetId!==void 0)return a(this._widgetId);this._executeRequested=!0},s.executeAsync=function(){var a=this;return new Promise(function(o,i){a.executionResolve=o,a.executionReject=i,a.execute()})},s.reset=function(){var a=this.getCaptchaFunction("reset");a&&this._widgetId!==void 0&&a(this._widgetId)},s.forceReset=function(){var a=this.getCaptchaFunction("reset");a&&a()},s.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},s.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},s.handleChange=function(a){this.props.onChange&&this.props.onChange(a),this.executionResolve&&(this.executionResolve(a),delete this.executionReject,delete this.executionResolve)},s.explicitRender=function(){var a=this.getCaptchaFunction("render");if(a&&this._widgetId===void 0){var o=document.createElement("div");this._widgetId=a(o,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(o)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},s.componentDidMount=function(){this.explicitRender()},s.componentDidUpdate=function(){this.explicitRender()},s.handleRecaptchaRef=function(a){this.captcha=a},s.render=function(){var a=this.props;a.sitekey,a.onChange,a.theme,a.type,a.tabindex,a.onExpired,a.onErrored,a.size,a.stoken,a.grecaptcha,a.badge,a.hl,a.isolated;var o=bS(a,wS);return u.createElement("div",Md({},o,{ref:this.handleRecaptchaRef}))},t}(u.Component);fl.displayName="ReCAPTCHA";fl.propTypes={sitekey:ct.string.isRequired,onChange:ct.func,grecaptcha:ct.object,theme:ct.oneOf(["dark","light"]),type:ct.oneOf(["image","audio"]),tabindex:ct.number,onExpired:ct.func,onErrored:ct.func,size:ct.oneOf(["compact","normal","invisible"]),stoken:ct.string,hl:ct.string,badge:ct.oneOf(["bottomright","bottomleft","inline"]),isolated:ct.bool};fl.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var qy={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=typeof Symbol=="function"&&Symbol.for,gm=Ve?Symbol.for("react.element"):60103,ym=Ve?Symbol.for("react.portal"):60106,xl=Ve?Symbol.for("react.fragment"):60107,pl=Ve?Symbol.for("react.strict_mode"):60108,gl=Ve?Symbol.for("react.profiler"):60114,yl=Ve?Symbol.for("react.provider"):60109,vl=Ve?Symbol.for("react.context"):60110,vm=Ve?Symbol.for("react.async_mode"):60111,wl=Ve?Symbol.for("react.concurrent_mode"):60111,bl=Ve?Symbol.for("react.forward_ref"):60112,jl=Ve?Symbol.for("react.suspense"):60113,NS=Ve?Symbol.for("react.suspense_list"):60120,Nl=Ve?Symbol.for("react.memo"):60115,kl=Ve?Symbol.for("react.lazy"):60116,kS=Ve?Symbol.for("react.block"):60121,SS=Ve?Symbol.for("react.fundamental"):60117,CS=Ve?Symbol.for("react.responder"):60118,ES=Ve?Symbol.for("react.scope"):60119;function Tt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gm:switch(e=e.type,e){case vm:case wl:case xl:case gl:case pl:case jl:return e;default:switch(e=e&&e.$$typeof,e){case vl:case bl:case kl:case Nl:case yl:return e;default:return t}}case ym:return t}}}function Ky(e){return Tt(e)===wl}xe.AsyncMode=vm;xe.ConcurrentMode=wl;xe.ContextConsumer=vl;xe.ContextProvider=yl;xe.Element=gm;xe.ForwardRef=bl;xe.Fragment=xl;xe.Lazy=kl;xe.Memo=Nl;xe.Portal=ym;xe.Profiler=gl;xe.StrictMode=pl;xe.Suspense=jl;xe.isAsyncMode=function(e){return Ky(e)||Tt(e)===vm};xe.isConcurrentMode=Ky;xe.isContextConsumer=function(e){return Tt(e)===vl};xe.isContextProvider=function(e){return Tt(e)===yl};xe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gm};xe.isForwardRef=function(e){return Tt(e)===bl};xe.isFragment=function(e){return Tt(e)===xl};xe.isLazy=function(e){return Tt(e)===kl};xe.isMemo=function(e){return Tt(e)===Nl};xe.isPortal=function(e){return Tt(e)===ym};xe.isProfiler=function(e){return Tt(e)===gl};xe.isStrictMode=function(e){return Tt(e)===pl};xe.isSuspense=function(e){return Tt(e)===jl};xe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xl||e===wl||e===gl||e===pl||e===jl||e===NS||typeof e=="object"&&e!==null&&(e.$$typeof===kl||e.$$typeof===Nl||e.$$typeof===yl||e.$$typeof===vl||e.$$typeof===bl||e.$$typeof===SS||e.$$typeof===CS||e.$$typeof===ES||e.$$typeof===kS)};xe.typeOf=Tt;qy.exports=xe;var PS=qy.exports,wm=PS,TS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_S={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Xy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bm={};bm[wm.ForwardRef]=AS;bm[wm.Memo]=Xy;function If(e){return wm.isMemo(e)?Xy:bm[e.$$typeof]||TS}var IS=Object.defineProperty,MS=Object.getOwnPropertyNames,Mf=Object.getOwnPropertySymbols,RS=Object.getOwnPropertyDescriptor,DS=Object.getPrototypeOf,Rf=Object.prototype;function Qy(e,t,s){if(typeof t!="string"){if(Rf){var n=DS(t);n&&n!==Rf&&Qy(e,n,s)}var a=MS(t);Mf&&(a=a.concat(Mf(t)));for(var o=If(e),i=If(t),l=0;l<a.length;++l){var c=a[l];if(!_S[c]&&!(s&&s[c])&&!(i&&i[c])&&!(o&&o[c])){var m=RS(t,c);try{IS(e,c,m)}catch{}}}}return e}var LS=Qy;const OS=Ri(LS);function Dd(){return Dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Dd.apply(this,arguments)}function $S(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function FS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Gt={},zS=0;function US(e,t){return t=t||{},function(n){var a=n.displayName||n.name||"Component",o=function(l){FS(c,l);function c(h,f){var d;return d=l.call(this,h,f)||this,d.state={},d.__scriptURL="",d}var m=c.prototype;return m.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+zS++),this.__scriptLoaderID},m.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},m.asyncScriptLoaderHandleLoad=function(f){var d=this;this.setState(f,function(){return d.props.asyncScriptOnLoad&&d.props.asyncScriptOnLoad(d.state)})},m.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=Gt[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var d in f.observers)f.observers[d](f);delete window[t.callbackName]},m.componentDidMount=function(){var f=this,d=this.setupScriptURL(),p=this.asyncScriptLoaderGetScriptLoaderID(),w=t,x=w.globalName,b=w.callbackName,g=w.scriptId;if(x&&typeof window[x]<"u"&&(Gt[d]={loaded:!0,observers:{}}),Gt[d]){var y=Gt[d];if(y&&(y.loaded||y.errored)){this.asyncScriptLoaderHandleLoad(y);return}y.observers[p]=function(C){return f.asyncScriptLoaderHandleLoad(C)};return}var v={};v[p]=function(C){return f.asyncScriptLoaderHandleLoad(C)},Gt[d]={loaded:!1,observers:v};var N=document.createElement("script");N.src=d,N.async=!0;for(var E in t.attributes)N.setAttribute(E,t.attributes[E]);g&&(N.id=g);var S=function(j){if(Gt[d]){var T=Gt[d],A=T.observers;for(var L in A)j(A[L])&&delete A[L]}};b&&typeof window<"u"&&(window[b]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),N.onload=function(){var C=Gt[d];C&&(C.loaded=!0,S(function(j){return b?!1:(j(C),!0)}))},N.onerror=function(){var C=Gt[d];C&&(C.errored=!0,S(function(j){return j(C),!0}))},document.body.appendChild(N)},m.componentWillUnmount=function(){var f=this.__scriptURL;if(t.removeOnUnmount===!0)for(var d=document.getElementsByTagName("script"),p=0;p<d.length;p+=1)d[p].src.indexOf(f)>-1&&d[p].parentNode&&d[p].parentNode.removeChild(d[p]);var w=Gt[f];w&&(delete w.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete Gt[f])},m.render=function(){var f=t.globalName,d=this.props;d.asyncScriptOnLoad;var p=d.forwardedRef,w=$S(d,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(w[f]=typeof window[f]<"u"?window[f]:void 0),w.ref=p,u.createElement(n,w)},c}(u.Component),i=u.forwardRef(function(l,c){return u.createElement(o,Dd({},l,{forwardedRef:c}))});return i.displayName="AsyncScriptLoader("+a+")",i.propTypes={asyncScriptOnLoad:ct.func},OS(i,n)}}var Ld="onloadcallback",BS="grecaptcha";function Od(){return typeof window<"u"&&window.recaptchaOptions||{}}function VS(){var e=Od(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+Ld+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+Ld+"&render=explicit"}const jm=US(VS,{callbackName:Ld,globalName:BS,attributes:Od().nonce?{nonce:Od().nonce}:{}})(fl),Nm=({email:e,onVerificationSuccess:t,onBack:s})=>{const[n,a]=u.useState(["","","","","",""]),[o,i]=u.useState(!1),[l,c]=u.useState(!1),[m,h]=u.useState(""),[f,d]=u.useState(""),[p,w]=u.useState(300),x=u.useRef([]);u.useEffect(()=>{var S;(S=x.current[0])==null||S.focus()},[]),u.useEffect(()=>{if(p>0){const S=setTimeout(()=>w(p-1),1e3);return()=>clearTimeout(S)}},[p]);const b=(S,C)=>{var T;if(C.length>1)return;const j=[...n];j[S]=C,a(j),C&&S<5&&((T=x.current[S+1])==null||T.focus()),m&&h("")},g=(S,C)=>{var j;C.key==="Backspace"&&!n[S]&&S>0&&((j=x.current[S-1])==null||j.focus())},y=S=>{var j;S.preventDefault();const C=S.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(C)){const T=[...n];for(let L=0;L<C.length&&L<6;L++)T[L]=C[L];a(T);const A=Math.min(C.length,5);(j=x.current[A])==null||j.focus()}},v=async S=>{S.preventDefault();const C=n.join("");if(C.length!==6){h("Please enter all 6 digits");return}i(!0),h("");try{const j=await U2(e,C);d("Email verified successfully!"),t&&t(j.token,j.user)}catch(j){console.error("OTP verification error:",j),h(j.message||"Invalid or expired OTP")}finally{i(!1)}},N=async()=>{var S;c(!0),h("");try{await B2(e),d("New OTP sent to your email"),w(300),a(["","","","","",""]),(S=x.current[0])==null||S.focus()}catch(C){console.error("Resend OTP error:",C),h(C.message||"Failed to resend OTP")}finally{c(!1)}},E=S=>{const C=Math.floor(S/60),j=S%60;return`${C}:${j.toString().padStart(2,"0")}`};return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(_r,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Ps,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-xsm-yellow/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(bn,{className:"w-8 h-8 text-xsm-yellow"})}),r.jsx(Ti,{className:"text-2xl font-bold text-xsm-yellow",children:"Verify Your Email"}),r.jsxs(_i,{className:"text-xsm-light-gray",children:["We've sent a 6-digit verification code to",r.jsx("br",{}),r.jsx("span",{className:"font-medium text-white",children:e})]})]}),r.jsxs(Ts,{className:"space-y-6",children:[m&&r.jsx(Lt,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:r.jsx(Ot,{className:"text-red-300",children:m})}),f&&r.jsx(Lt,{className:"bg-green-900/20 border-green-700",children:r.jsx(Ot,{className:"text-green-300",children:f})}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium text-white",children:"Enter verification code"}),r.jsx("div",{className:"flex justify-between space-x-2",onPaste:y,children:n.map((S,C)=>r.jsx(ht,{ref:j=>x.current[C]=j,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:S,onChange:j=>b(C,j.target.value),onKeyDown:j=>g(C,j),className:"w-12 h-12 text-center text-lg font-bold bg-xsm-dark-gray border-xsm-medium-gray text-white focus:border-xsm-yellow",disabled:o},C))})]}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-sm text-xsm-light-gray",children:p>0?r.jsxs(r.Fragment,{children:["Code expires in ",r.jsx("span",{className:"font-mono text-xsm-yellow",children:E(p)})]}):r.jsx("span",{className:"text-red-400",children:"Code has expired"})})}),r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",disabled:o||n.join("").length!==6,children:o?r.jsxs(r.Fragment,{children:[r.jsx(Ku,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Email"})]}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Didn't receive the code?"}),r.jsx(Ge,{type:"button",variant:"ghost",onClick:N,disabled:l||p>240,className:"text-xsm-yellow hover:text-yellow-400 hover:bg-xsm-medium-gray",children:l?r.jsxs(r.Fragment,{children:[r.jsx(cn,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Resend Code"})]}),s&&r.jsx("div",{className:"text-center",children:r.jsx(Ge,{type:"button",variant:"ghost",onClick:s,className:"text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:"Back to Registration"})})]})]})})},WS=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),HS=({onBack:e,onClose:t})=>{const[s,n]=u.useState(""),[a,o]=u.useState(""),[i,l]=u.useState(!1),[c,m]=u.useState(!1),{toast:h}=Pt(),f=async d=>{if(d.preventDefault(),o(""),!s){o("Please enter your email address");return}if(!WS(s)){o("Please enter a valid email address");return}l(!0);try{const p=await hy(s);m(!0),h({title:"Success!",description:p.message||"A new password has been sent to your email address."})}catch(p){const w=p instanceof Error?p.message:"Failed to send new password";o(w),h({variant:"destructive",title:"Error",description:w})}finally{l(!1)}};return c?r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("button",{onClick:e,className:"mr-3 text-xsm-light-gray hover:text-white transition-colors",children:r.jsx(Ma,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Password Sent!"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(bn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Check Your Email"}),r.jsxs("p",{className:"text-sm text-xsm-light-gray mb-4",children:["We've sent a new temporary password to ",r.jsx("span",{className:"text-white font-medium",children:s})]}),r.jsx("p",{className:"text-xs text-xsm-light-gray mb-6",children:"Please check your email and use the new password to login. You can change this password later in your profile settings."}),r.jsx(Ge,{onClick:t,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",children:"Back to Login"})]})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("button",{onClick:e,className:"mr-3 text-xsm-light-gray hover:text-white transition-colors",disabled:i,children:r.jsx(Ma,{className:"w-5 h-5"})}),r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Forgot Password"})]}),a&&r.jsx(Lt,{variant:"destructive",className:"mb-4",children:r.jsx(Ot,{children:a})}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx(bn,{className:"w-12 h-12 text-xsm-yellow mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Enter your email address and we'll send you a new temporary password."}),r.jsx("p",{className:"text-xs text-xsm-light-gray mt-2",children:"You can change this password later in your profile settings."})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email address"}),r.jsx(ht,{id:"email",name:"email",type:"email",required:!0,value:s,onChange:d=>n(d.target.value),placeholder:"Enter your email",disabled:i,className:"bg-xsm-black"})]}),r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:i,children:i?"Sending...":"Send New Password"})]})]})},GS=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Jy=({onClose:e,onNavigate:t})=>{const[s,n]=u.useState(!0),[a,o]=u.useState(""),[i,l]=u.useState(""),[c,m]=u.useState(""),[h,f]=u.useState(""),[d,p]=u.useState(""),[w,x]=u.useState(!1),[b,g]=u.useState(!1),[y,v]=u.useState(!1),[N,E]=u.useState(""),[S,C]=u.useState(!1),[j,T]=u.useState(!1),[A,L]=u.useState(null),[F,U]=u.useState(!1),I=u.useRef(null),{toast:O}=Pt(),{setIsLoggedIn:B,setUser:q}=Me(),_=D=>{L(D)},P=()=>{I.current&&I.current.reset(),L(null)},M=async D=>{if(D.preventDefault(),p(""),x(!0),!A){p("Please complete the reCAPTCHA verification"),O({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"}),x(!1);return}try{const k=await uy(a,i,A);if(k.user)B(!0),q(k.user),O({title:"Success!",description:"You have successfully logged in."}),e();else throw new Error("Login succeeded but user data is missing")}catch(k){P();const $=k instanceof Error?k.message:"Failed to login";$.includes("verify your email")?(p($),O({variant:"destructive",title:"Email Verification Required",description:$+" Click the button below to verify your email."}),setTimeout(()=>{p($+" Click 'Verify Email' below to verify now.")},100)):(p($),O({variant:"destructive",title:"Error",description:$}))}finally{x(!1)}},R=async D=>{if(D.preventDefault(),console.log("Signup form submitted"),p(""),!A){p("Please complete the reCAPTCHA verification"),O({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"});return}if(!h||!a||!i||!c){const k="Username, email, password, and confirm password are required";p(k),O({variant:"destructive",title:"Error",description:k});return}if(!F){const k="Please agree to the Terms and Conditions to continue";p(k),O({variant:"destructive",title:"Error",description:k});return}if(!GS(a)){const k="Please enter a valid email address";p(k),O({variant:"destructive",title:"Error",description:k});return}if(h.length<3){const k="Username must be at least 3 characters long";p(k),O({variant:"destructive",title:"Error",description:k});return}if(i!==c){const k="Passwords don't match";p(k),O({variant:"destructive",title:"Error",description:k});return}if(i.length<6){const k="Password must be at least 6 characters long";p(k),O({variant:"destructive",title:"Error",description:k});return}x(!0),console.log("Attempting to register user:",{username:h,email:a});try{console.log("Sending registration request to backend...");const k=await my(h,a,i,A);console.log("Registration response:",k),k&&k.requiresVerification?(E(a),g(!0),O({title:"Registration Successful!",description:"Please check your email for verification code."})):k&&k.user?(q(k.user),B(!0),O({title:"Account Created!",description:`Welcome to XSM Market, ${k.user.username}!`}),e()):(O({title:"Success with Warning",description:"Account created but user data incomplete. Please try logging in."}),n(!0))}catch(k){P(),console.error("Registration failed:",k);const $=k instanceof Error?k.message:"Failed to register";$.includes("Email already registered")?p("This email is already registered. Please use a different email or try logging in."):$.includes("Username already taken")?p("This username is already taken. Please choose a different username."):$.includes("Network error")?p("Cannot connect to the server. Please check your connection."):p($),O({variant:"destructive",title:"Registration Failed",description:d})}finally{x(!1)}},V=async D=>{console.log("Google Sign-In Success:",D),x(!0),p("");try{if(!D.credential)throw new Error("No credential received from Google");const k=await rm(D.credential);if(k.user)B(!0),q(k.user),O({title:"Success!",description:`Welcome ${k.user.username}! You have successfully signed in with Google.`}),e();else throw new Error("Google sign-in succeeded but user data is missing")}catch(k){console.error("Google Sign-In Error:",k),p(k instanceof Error?k.message:"Failed to sign in with Google"),O({variant:"destructive",title:"Error",description:k instanceof Error?k.message:"Failed to sign in with Google"})}finally{x(!1)}},W=(D,k)=>{q(k),B(!0),O({title:"Welcome to XSM Market!",description:"Your email has been verified successfully!"}),e()};return y?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn p-4",onClick:D=>{D.target===D.currentTarget&&e()},children:r.jsxs(_r,{className:"w-full max-w-sm mx-4 bg-xsm-dark-gray border-xsm-medium-gray relative animate-scaleIn max-h-[90vh] overflow-y-auto",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-400 hover:text-white",children:r.jsx(Ie,{className:"w-4 h-4"})}),r.jsx(HS,{onBack:()=>v(!1),onClose:e})]})}):b?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn",onClick:D=>{D.target===D.currentTarget&&e()},children:r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg p-6 max-w-md w-full mx-4 animate-scaleIn",children:r.jsx(Nm,{email:N,onVerificationSuccess:W,onBack:()=>g(!1)})})}):r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fadeIn p-4",onClick:D=>{D.target===D.currentTarget&&e()},children:r.jsxs(_r,{className:"w-full max-w-sm mx-4 bg-xsm-dark-gray border-xsm-medium-gray relative animate-scaleIn",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-400 hover:text-white z-10",children:r.jsx(Ie,{className:"w-4 h-4"})}),r.jsxs("div",{className:"p-2",children:[r.jsx("h2",{className:"text-base font-bold text-xsm-yellow mb-2 text-center",children:s?"Sign in to your account":"Create your account"}),d&&r.jsx(Lt,{variant:"destructive",className:"mb-2",children:r.jsx(Ot,{className:"text-xs",children:d})}),r.jsxs("form",{onSubmit:s?M:R,className:"space-y-1.5",noValidate:!0,children:[!s&&r.jsx(r.Fragment,{children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-xs font-medium text-white mb-0.5",children:"Username"}),r.jsx(ht,{id:"username",name:"username",type:"text",required:!0,value:h,onChange:D=>f(D.target.value),placeholder:"Choose a username",disabled:w,className:"bg-xsm-black h-8 text-sm"})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-white mb-0.5",children:"Email address"}),r.jsx(ht,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:D=>o(D.target.value),placeholder:"Enter your email",disabled:w,className:"bg-xsm-black h-8 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-white mb-0.5",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ht,{id:"password",name:"password",type:S?"text":"password",autoComplete:s?"current-password":"new-password",required:!0,value:i,onChange:D=>l(D.target.value),placeholder:s?"Enter your password":"Create a password",disabled:w,className:"bg-xsm-black pr-10 h-8 text-sm"}),r.jsx("button",{type:"button",onClick:()=>C(!S),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:w,children:S?r.jsx(Jr,{className:"h-3 w-3"}):r.jsx(nt,{className:"h-3 w-3"})})]})]}),!s&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-medium text-white mb-0.5",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ht,{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",required:!0,value:c,onChange:D=>m(D.target.value),placeholder:"Confirm your password",disabled:w,className:"bg-xsm-black pr-10 h-8 text-sm"}),r.jsx("button",{type:"button",onClick:()=>T(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:w,children:j?r.jsx(Jr,{className:"h-3 w-3"}):r.jsx(nt,{className:"h-3 w-3"})})]})]}),!s&&r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx("input",{type:"checkbox",id:"agreeToTerms",checked:F,onChange:D=>U(D.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-300 text-xsm-yellow focus:ring-xsm-yellow",disabled:w,required:!0}),r.jsxs("label",{htmlFor:"agreeToTerms",className:"text-sm text-white",children:["I agree to the"," ",r.jsx("button",{type:"button",onClick:()=>{t&&(t("terms"),e())},className:"text-xsm-yellow hover:text-yellow-500 underline",children:"Terms and Conditions"})]})]}),s&&r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",disabled:w,children:"Forgot your password?"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(jm,{ref:I,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:_,theme:"dark"})}),r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:w||!A,children:w?s?"Signing in...":"Creating account...":s?"Sign in":"Sign up"}),d&&d.includes("verify your email")&&r.jsx("div",{children:r.jsx(Ge,{type:"button",variant:"outline",className:"w-full border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>g(!0),disabled:w,children:"Verify Email Now"})}),r.jsxs("div",{className:"relative my-2",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(xm,{onSuccess:V,onError:()=>{p("Google sign-in was cancelled or failed"),O({variant:"destructive",title:"Error",description:"Google sign-in was cancelled or failed"})},useOneTap:!1,theme:"filled_black",size:"large",text:s?"signin_with":"signup_with",shape:"rectangular",width:"100%"})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:[s?"Don't have an account?":"Already have an account?"," ",r.jsx("button",{onClick:()=>n(!s),className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:w,children:s?"Sign up":"Sign in"})]})})]})]})})};var km="Avatar",[YS,TE]=Mn(km),[qS,Zy]=YS(km),e0=u.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[a,o]=u.useState("idle");return r.jsx(qS,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:r.jsx(le.span,{...n,ref:t})})});e0.displayName=km;var t0="AvatarImage",r0=u.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=Zy(t0,s),l=KS(n,o.referrerPolicy),c=Ke(m=>{a(m),i.onImageLoadingStatusChange(m)});return Be(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(le.img,{...o,ref:t,src:n}):null});r0.displayName=t0;var s0="AvatarFallback",n0=u.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...a}=e,o=Zy(s0,s),[i,l]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?r.jsx(le.span,{...a,ref:t}):null});n0.displayName=s0;function KS(e,t){const[s,n]=u.useState("idle");return Be(()=>{if(!e){n("error");return}let a=!0;const o=new window.Image,i=l=>()=>{a&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{a=!1}},[e,t]),s}var a0=e0,o0=r0,i0=n0;const l0=u.forwardRef(({className:e,...t},s)=>r.jsx(a0,{ref:s,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));l0.displayName=a0.displayName;const c0=u.forwardRef(({className:e,...t},s)=>r.jsx(o0,{ref:s,className:ce("aspect-square h-full w-full",e),...t}));c0.displayName=o0.displayName;const d0=u.forwardRef(({className:e,...t},s)=>r.jsx(i0,{ref:s,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d0.displayName=i0.displayName;var XS=u.createContext(void 0);function Sm(e){const t=u.useContext(XS);return e||t||"ltr"}var fc=0;function u0(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Df()),document.body.insertAdjacentElement("beforeend",e[1]??Df()),fc++,()=>{fc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fc--}},[])}function Df(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xc="focusScope.autoFocusOnMount",pc="focusScope.autoFocusOnUnmount",Lf={bubbles:!1,cancelable:!0},QS="FocusScope",Cm=u.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=u.useState(null),m=Ke(a),h=Ke(o),f=u.useRef(null),d=pe(t,x=>c(x)),p=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let x=function(v){if(p.paused||!l)return;const N=v.target;l.contains(N)?f.current=N:Lr(f.current,{select:!0})},b=function(v){if(p.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||Lr(f.current,{select:!0}))},g=function(v){if(document.activeElement===document.body)for(const E of v)E.removedNodes.length>0&&Lr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,p.paused]),u.useEffect(()=>{if(l){$f.add(p);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(xc,Lf);l.addEventListener(xc,m),l.dispatchEvent(g),g.defaultPrevented||(JS(sC(m0(l)),{select:!0}),document.activeElement===x&&Lr(l))}return()=>{l.removeEventListener(xc,m),setTimeout(()=>{const g=new CustomEvent(pc,Lf);l.addEventListener(pc,h),l.dispatchEvent(g),g.defaultPrevented||Lr(x??document.body,{select:!0}),l.removeEventListener(pc,h),$f.remove(p)},0)}}},[l,m,h,p]);const w=u.useCallback(x=>{if(!s&&!n||p.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(b&&g){const y=x.currentTarget,[v,N]=ZS(y);v&&N?!x.shiftKey&&g===N?(x.preventDefault(),s&&Lr(v,{select:!0})):x.shiftKey&&g===v&&(x.preventDefault(),s&&Lr(N,{select:!0})):g===y&&x.preventDefault()}},[s,n,p.paused]);return r.jsx(le.div,{tabIndex:-1,...i,ref:d,onKeyDown:w})});Cm.displayName=QS;function JS(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Lr(n,{select:t}),document.activeElement!==s)return}function ZS(e){const t=m0(e),s=Of(t,e),n=Of(t.reverse(),e);return[s,n]}function m0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Of(e,t){for(const s of e)if(!eC(s,{upTo:t}))return s}function eC(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function tC(e){return e instanceof HTMLInputElement&&"select"in e}function Lr(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&tC(e)&&t&&e.select()}}var $f=rC();function rC(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Ff(e,t),e.unshift(t)},remove(t){var s;e=Ff(e,t),(s=e[0])==null||s.resume()}}}function Ff(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function sC(e){return e.filter(t=>t.tagName!=="A")}function nC(e,t=[]){let s=[];function n(o,i){const l=u.createContext(i),c=s.length;s=[...s,i];function m(f){const{scope:d,children:p,...w}=f,x=(d==null?void 0:d[e][c])||l,b=u.useMemo(()=>w,Object.values(w));return r.jsx(x.Provider,{value:b,children:p})}function h(f,d){const p=(d==null?void 0:d[e][c])||l,w=u.useContext(p);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return m.displayName=o+"Provider",[m,h]}const a=()=>{const o=s.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,aC(a,...t)]}function aC(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:m})=>{const f=c(o)[`__scope${m}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var gc="rovingFocusGroup.onEntryFocus",oC={bubbles:!1,cancelable:!0},Sl="RovingFocusGroup",[$d,h0,iC]=tl(Sl),[lC,f0]=nC(Sl,[iC]),[cC,dC]=lC(Sl),x0=u.forwardRef((e,t)=>r.jsx($d.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx($d.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(uC,{...e,ref:t})})}));x0.displayName=Sl;var uC=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...f}=e,d=u.useRef(null),p=pe(t,d),w=Sm(o),[x=null,b]=Ia({prop:i,defaultProp:l,onChange:c}),[g,y]=u.useState(!1),v=Ke(m),N=h0(s),E=u.useRef(!1),[S,C]=u.useState(0);return u.useEffect(()=>{const j=d.current;if(j)return j.addEventListener(gc,v),()=>j.removeEventListener(gc,v)},[v]),r.jsx(cC,{scope:s,orientation:n,dir:w,loop:a,currentTabStopId:x,onItemFocus:u.useCallback(j=>b(j),[b]),onItemShiftTab:u.useCallback(()=>y(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(j=>j+1),[]),onFocusableItemRemove:u.useCallback(()=>C(j=>j-1),[]),children:r.jsx(le.div,{tabIndex:g||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{E.current=!0}),onFocus:ee(e.onFocus,j=>{const T=!E.current;if(j.target===j.currentTarget&&T&&!g){const A=new CustomEvent(gc,oC);if(j.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=N().filter(B=>B.focusable),F=L.find(B=>B.active),U=L.find(B=>B.id===x),O=[F,U,...L].filter(Boolean).map(B=>B.ref.current);y0(O,h)}}E.current=!1}),onBlur:ee(e.onBlur,()=>y(!1))})})}),p0="RovingFocusGroupItem",g0=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:o,...i}=e,l=Sn(),c=o||l,m=dC(p0,s),h=m.currentTabStopId===c,f=h0(s),{onFocusableItemAdd:d,onFocusableItemRemove:p}=m;return u.useEffect(()=>{if(n)return d(),()=>p()},[n,d,p]),r.jsx($d.ItemSlot,{scope:s,id:c,focusable:n,active:a,children:r.jsx(le.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...i,ref:t,onMouseDown:ee(e.onMouseDown,w=>{n?m.onItemFocus(c):w.preventDefault()}),onFocus:ee(e.onFocus,()=>m.onItemFocus(c)),onKeyDown:ee(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=fC(w,m.orientation,m.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const y=g.indexOf(w.currentTarget);g=m.loop?xC(g,y+1):g.slice(y+1)}setTimeout(()=>y0(g))}})})})});g0.displayName=p0;var mC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hC(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fC(e,t,s){const n=hC(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mC[n]}function y0(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function xC(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var pC=x0,gC=g0,yC=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zs=new WeakMap,ko=new WeakMap,So={},yc=0,v0=function(e){return e&&(e.host||v0(e.parentNode))},vC=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=v0(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},wC=function(e,t,s,n){var a=vC(t,Array.isArray(e)?e:[e]);So[s]||(So[s]=new WeakMap);var o=So[s],i=[],l=new Set,c=new Set(a),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};a.forEach(m);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(d){if(l.has(d))h(d);else try{var p=d.getAttribute(n),w=p!==null&&p!=="false",x=(zs.get(d)||0)+1,b=(o.get(d)||0)+1;zs.set(d,x),o.set(d,b),i.push(d),x===1&&w&&ko.set(d,!0),b===1&&d.setAttribute(s,"true"),w||d.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",d,g)}})};return h(t),l.clear(),yc++,function(){i.forEach(function(f){var d=zs.get(f)-1,p=o.get(f)-1;zs.set(f,d),o.set(f,p),d||(ko.has(f)||f.removeAttribute(n),ko.delete(f)),p||f.removeAttribute(s)}),yc--,yc||(zs=new WeakMap,zs=new WeakMap,ko=new WeakMap,So={})}},w0=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=yC(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),wC(n,a,s,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(t){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},cr.apply(this,arguments)};function b0(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]]);return s}function bC(e,t,s){if(s||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Xo="right-scroll-bar-position",Qo="width-before-scroll-bar",jC="with-scroll-bars-hidden",NC="--removed-body-scroll-bar-size";function vc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kC(e,t){var s=u.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=t,s.facade}var SC=typeof window<"u"?u.useLayoutEffect:u.useEffect,zf=new WeakMap;function CC(e,t){var s=kC(null,function(n){return e.forEach(function(a){return vc(a,n)})});return SC(function(){var n=zf.get(s);if(n){var a=new Set(n),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||vc(l,null)}),o.forEach(function(l){a.has(l)||vc(l,i)})}zf.set(s,e)},[e]),s}function EC(e){return e}function PC(e,t){t===void 0&&(t=EC);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,n);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){n=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var h=i;i=[],h.forEach(o)},m=function(){return Promise.resolve().then(c)};m(),s={push:function(h){i.push(h),m()},filter:function(h){return i=i.filter(h),s}}}};return a}function TC(e){e===void 0&&(e={});var t=PC(null);return t.options=cr({async:!0,ssr:!1},e),t}var j0=function(e){var t=e.sideCar,s=b0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,cr({},s))};j0.isSideCarExport=!0;function _C(e,t){return e.useMedium(t),j0}var N0=TC(),wc=function(){},Cl=u.forwardRef(function(e,t){var s=u.useRef(null),n=u.useState({onScrollCapture:wc,onWheelCapture:wc,onTouchMoveCapture:wc}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,m=e.removeScrollBar,h=e.enabled,f=e.shards,d=e.sideCar,p=e.noIsolation,w=e.inert,x=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,y=e.gapMode,v=b0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=d,E=CC([s,t]),S=cr(cr({},v),a);return u.createElement(u.Fragment,null,h&&u.createElement(N,{sideCar:N0,removeScrollBar:m,shards:f,noIsolation:p,inert:w,setCallbacks:o,allowPinchZoom:!!x,lockRef:s,gapMode:y}),i?u.cloneElement(u.Children.only(l),cr(cr({},S),{ref:E})):u.createElement(g,cr({},S,{className:c,ref:E}),l))});Cl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cl.classNames={fullWidth:Qo,zeroRight:Xo};var AC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AC();return t&&e.setAttribute("nonce",t),e}function MC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DC=function(){var e=0,t=null;return{add:function(s){e==0&&(t=IC())&&(MC(t,s),RC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LC=function(){var e=DC();return function(t,s){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},k0=function(){var e=LC(),t=function(s){var n=s.styles,a=s.dynamic;return e(n,a),null};return t},OC={left:0,top:0,right:0,gap:0},bc=function(e){return parseInt(e||"",10)||0},$C=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[bc(s),bc(n),bc(a)]},FC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OC;var t=$C(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},zC=k0(),mn="data-scroll-locked",UC=function(e,t,s,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(jC,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(mn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xo,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qo,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xo," .").concat(Xo,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Qo," .").concat(Qo,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mn,`] {
    `).concat(NC,": ").concat(l,`px;
  }
`)},Uf=function(){var e=parseInt(document.body.getAttribute(mn)||"0",10);return isFinite(e)?e:0},BC=function(){u.useEffect(function(){return document.body.setAttribute(mn,(Uf()+1).toString()),function(){var e=Uf()-1;e<=0?document.body.removeAttribute(mn):document.body.setAttribute(mn,e.toString())}},[])},VC=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;BC();var o=u.useMemo(function(){return FC(a)},[a]);return u.createElement(zC,{styles:UC(o,!t,a,s?"":"!important")})},Fd=!1;if(typeof window<"u")try{var Co=Object.defineProperty({},"passive",{get:function(){return Fd=!0,!0}});window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Fd=!1}var Us=Fd?{passive:!1}:!1,WC=function(e){return e.tagName==="TEXTAREA"},S0=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!WC(e)&&s[t]==="visible")},HC=function(e){return S0(e,"overflowY")},GC=function(e){return S0(e,"overflowX")},Bf=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=C0(e,n);if(a){var o=E0(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},YC=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},qC=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},C0=function(e,t){return e==="v"?HC(t):GC(t)},E0=function(e,t){return e==="v"?YC(t):qC(t)},KC=function(e,t){return e==="h"&&t==="rtl"?-1:1},XC=function(e,t,s,n,a){var o=KC(e,window.getComputedStyle(t).direction),i=o*n,l=s.target,c=t.contains(l),m=!1,h=i>0,f=0,d=0;do{var p=E0(e,l),w=p[0],x=p[1],b=p[2],g=x-b-o*w;(w||g)&&C0(e,l)&&(f+=g,d+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!a)||!h&&(Math.abs(d)<1||!a))&&(m=!0),m},Eo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vf=function(e){return[e.deltaX,e.deltaY]},Wf=function(e){return e&&"current"in e?e.current:e},QC=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JC=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZC=0,Bs=[];function e3(e){var t=u.useRef([]),s=u.useRef([0,0]),n=u.useRef(),a=u.useState(ZC++)[0],o=u.useState(k0)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=bC([e.lockRef.current],(e.shards||[]).map(Wf),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var g=Eo(x),y=s.current,v="deltaX"in x?x.deltaX:y[0]-g[0],N="deltaY"in x?x.deltaY:y[1]-g[1],E,S=x.target,C=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&S.type==="range")return!1;var j=Bf(C,S);if(!j)return!0;if(j?E=C:(E=C==="v"?"h":"v",j=Bf(C,S)),!j)return!1;if(!n.current&&"changedTouches"in x&&(v||N)&&(n.current=E),!E)return!0;var T=n.current||E;return XC(T,b,x,T==="h"?v:N,!0)},[]),c=u.useCallback(function(x){var b=x;if(!(!Bs.length||Bs[Bs.length-1]!==o)){var g="deltaY"in b?Vf(b):Eo(b),y=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&QC(E.delta,g)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var v=(i.current.shards||[]).map(Wf).filter(Boolean).filter(function(E){return E.contains(b.target)}),N=v.length>0?l(b,v[0]):!i.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),m=u.useCallback(function(x,b,g,y){var v={name:x,delta:b,target:g,should:y,shadowParent:t3(g)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),h=u.useCallback(function(x){s.current=Eo(x),n.current=void 0},[]),f=u.useCallback(function(x){m(x.type,Vf(x),x.target,l(x,e.lockRef.current))},[]),d=u.useCallback(function(x){m(x.type,Eo(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Bs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Us),document.addEventListener("touchmove",c,Us),document.addEventListener("touchstart",h,Us),function(){Bs=Bs.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Us),document.removeEventListener("touchmove",c,Us),document.removeEventListener("touchstart",h,Us)}},[]);var p=e.removeScrollBar,w=e.inert;return u.createElement(u.Fragment,null,w?u.createElement(o,{styles:JC(a)}):null,p?u.createElement(VC,{gapMode:e.gapMode}):null)}function t3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const r3=_C(N0,e3);var Em=u.forwardRef(function(e,t){return u.createElement(Cl,cr({},e,{ref:t,sideCar:r3}))});Em.classNames=Cl.classNames;var zd=["Enter"," "],s3=["ArrowDown","PageUp","Home"],P0=["ArrowUp","PageDown","End"],n3=[...s3,...P0],a3={ltr:[...zd,"ArrowRight"],rtl:[...zd,"ArrowLeft"]},o3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ka="Menu",[Fa,i3,l3]=tl(Ka),[Os,T0]=Mn(Ka,[l3,On,f0]),El=On(),_0=f0(),[c3,$s]=Os(Ka),[d3,Xa]=Os(Ka),A0=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=El(t),[c,m]=u.useState(null),h=u.useRef(!1),f=Ke(o),d=Sm(a);return u.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),r.jsx(Dy,{...l,children:r.jsx(c3,{scope:t,open:s,onOpenChange:f,content:c,onContentChange:m,children:r.jsx(d3,{scope:t,onClose:u.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:d,modal:i,children:n})})})};A0.displayName=Ka;var u3="MenuAnchor",Pm=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=El(s);return r.jsx(um,{...a,...n,ref:t})});Pm.displayName=u3;var Tm="MenuPortal",[m3,I0]=Os(Tm,{forceMount:void 0}),M0=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:a}=e,o=$s(Tm,t);return r.jsx(m3,{scope:t,forceMount:s,children:r.jsx(Ds,{present:s||o.open,children:r.jsx(rl,{asChild:!0,container:a,children:n})})})};M0.displayName=Tm;var $t="MenuContent",[h3,_m]=Os($t),R0=u.forwardRef((e,t)=>{const s=I0($t,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=$s($t,e.__scopeMenu),i=Xa($t,e.__scopeMenu);return r.jsx(Fa.Provider,{scope:e.__scopeMenu,children:r.jsx(Ds,{present:n||o.open,children:r.jsx(Fa.Slot,{scope:e.__scopeMenu,children:i.modal?r.jsx(f3,{...a,ref:t}):r.jsx(x3,{...a,ref:t})})})})}),f3=u.forwardRef((e,t)=>{const s=$s($t,e.__scopeMenu),n=u.useRef(null),a=pe(t,n);return u.useEffect(()=>{const o=n.current;if(o)return w0(o)},[]),r.jsx(Am,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),x3=u.forwardRef((e,t)=>{const s=$s($t,e.__scopeMenu);return r.jsx(Am,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Am=u.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:d,onDismiss:p,disableOutsideScroll:w,...x}=e,b=$s($t,s),g=Xa($t,s),y=El(s),v=_0(s),N=i3(s),[E,S]=u.useState(null),C=u.useRef(null),j=pe(t,C,b.onContentChange),T=u.useRef(0),A=u.useRef(""),L=u.useRef(0),F=u.useRef(null),U=u.useRef("right"),I=u.useRef(0),O=w?Em:u.Fragment,B=w?{as:Ss,allowPinchZoom:!0}:void 0,q=P=>{var z,G;const M=A.current+P,R=N().filter(X=>!X.disabled),V=document.activeElement,W=(z=R.find(X=>X.ref.current===V))==null?void 0:z.textValue,D=R.map(X=>X.textValue),k=E3(D,M,W),$=(G=R.find(X=>X.textValue===k))==null?void 0:G.ref.current;(function X(ne){A.current=ne,window.clearTimeout(T.current),ne!==""&&(T.current=window.setTimeout(()=>X(""),1e3))})(M),$&&setTimeout(()=>$.focus())};u.useEffect(()=>()=>window.clearTimeout(T.current),[]),u0();const _=u.useCallback(P=>{var R,V;return U.current===((R=F.current)==null?void 0:R.side)&&T3(P,(V=F.current)==null?void 0:V.area)},[]);return r.jsx(h3,{scope:s,searchRef:A,onItemEnter:u.useCallback(P=>{_(P)&&P.preventDefault()},[_]),onItemLeave:u.useCallback(P=>{var M;_(P)||((M=C.current)==null||M.focus(),S(null))},[_]),onTriggerLeave:u.useCallback(P=>{_(P)&&P.preventDefault()},[_]),pointerGraceTimerRef:L,onPointerGraceIntentChange:u.useCallback(P=>{F.current=P},[]),children:r.jsx(O,{...B,children:r.jsx(Cm,{asChild:!0,trapped:a,onMountAutoFocus:ee(o,P=>{var M;P.preventDefault(),(M=C.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:r.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:d,onDismiss:p,children:r.jsx(pC,{asChild:!0,...v,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:S,onEntryFocus:ee(c,P=>{g.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(mm,{role:"menu","aria-orientation":"vertical","data-state":X0(b.open),"data-radix-menu-content":"",dir:g.dir,...y,...x,ref:j,style:{outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,P=>{const R=P.target.closest("[data-radix-menu-content]")===P.currentTarget,V=P.ctrlKey||P.altKey||P.metaKey,W=P.key.length===1;R&&(P.key==="Tab"&&P.preventDefault(),!V&&W&&q(P.key));const D=C.current;if(P.target!==D||!n3.includes(P.key))return;P.preventDefault();const $=N().filter(z=>!z.disabled).map(z=>z.ref.current);P0.includes(P.key)&&$.reverse(),S3($)}),onBlur:ee(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:ee(e.onPointerMove,za(P=>{const M=P.target,R=I.current!==P.clientX;if(P.currentTarget.contains(M)&&R){const V=P.clientX>I.current?"right":"left";U.current=V,I.current=P.clientX}}))})})})})})})});R0.displayName=$t;var p3="MenuGroup",Im=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"group",...n,ref:t})});Im.displayName=p3;var g3="MenuLabel",D0=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{...n,ref:t})});D0.displayName=g3;var Ai="MenuItem",Hf="menu.itemSelect",Pl=u.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...a}=e,o=u.useRef(null),i=Xa(Ai,e.__scopeMenu),l=_m(Ai,e.__scopeMenu),c=pe(t,o),m=u.useRef(!1),h=()=>{const f=o.current;if(!s&&f){const d=new CustomEvent(Hf,{bubbles:!0,cancelable:!0});f.addEventListener(Hf,p=>n==null?void 0:n(p),{once:!0}),Vu(f,d),d.defaultPrevented?m.current=!1:i.onClose()}};return r.jsx(L0,{...a,ref:c,disabled:s,onClick:ee(e.onClick,h),onPointerDown:f=>{var d;(d=e.onPointerDown)==null||d.call(e,f),m.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var d;m.current||(d=f.currentTarget)==null||d.click()}),onKeyDown:ee(e.onKeyDown,f=>{const d=l.searchRef.current!=="";s||d&&f.key===" "||zd.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Pl.displayName=Ai;var L0=u.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...o}=e,i=_m(Ai,s),l=_0(s),c=u.useRef(null),m=pe(t,c),[h,f]=u.useState(!1),[d,p]=u.useState("");return u.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[o.children]),r.jsx(Fa.ItemSlot,{scope:s,disabled:n,textValue:a??d,children:r.jsx(gC,{asChild:!0,...l,focusable:!n,children:r.jsx(le.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:m,onPointerMove:ee(e.onPointerMove,za(w=>{n?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,za(w=>i.onItemLeave(w))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),y3="MenuCheckboxItem",O0=u.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...a}=e;return r.jsx(B0,{scope:e.__scopeMenu,checked:s,children:r.jsx(Pl,{role:"menuitemcheckbox","aria-checked":Ii(s)?"mixed":s,...a,ref:t,"data-state":Rm(s),onSelect:ee(a.onSelect,()=>n==null?void 0:n(Ii(s)?!0:!s),{checkForDefaultPrevented:!1})})})});O0.displayName=y3;var $0="MenuRadioGroup",[v3,w3]=Os($0,{value:void 0,onValueChange:()=>{}}),F0=u.forwardRef((e,t)=>{const{value:s,onValueChange:n,...a}=e,o=Ke(n);return r.jsx(v3,{scope:e.__scopeMenu,value:s,onValueChange:o,children:r.jsx(Im,{...a,ref:t})})});F0.displayName=$0;var z0="MenuRadioItem",U0=u.forwardRef((e,t)=>{const{value:s,...n}=e,a=w3(z0,e.__scopeMenu),o=s===a.value;return r.jsx(B0,{scope:e.__scopeMenu,checked:o,children:r.jsx(Pl,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Rm(o),onSelect:ee(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,s)},{checkForDefaultPrevented:!1})})})});U0.displayName=z0;var Mm="MenuItemIndicator",[B0,b3]=Os(Mm,{checked:!1}),V0=u.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...a}=e,o=b3(Mm,s);return r.jsx(Ds,{present:n||Ii(o.checked)||o.checked===!0,children:r.jsx(le.span,{...a,ref:t,"data-state":Rm(o.checked)})})});V0.displayName=Mm;var j3="MenuSeparator",W0=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});W0.displayName=j3;var N3="MenuArrow",H0=u.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,a=El(s);return r.jsx(hm,{...a,...n,ref:t})});H0.displayName=N3;var k3="MenuSub",[_E,G0]=Os(k3),Zn="MenuSubTrigger",Y0=u.forwardRef((e,t)=>{const s=$s(Zn,e.__scopeMenu),n=Xa(Zn,e.__scopeMenu),a=G0(Zn,e.__scopeMenu),o=_m(Zn,e.__scopeMenu),i=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,m={__scopeMenu:e.__scopeMenu},h=u.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return u.useEffect(()=>h,[h]),u.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),r.jsx(Pm,{asChild:!0,...m,children:r.jsx(L0,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":X0(s.open),...e,ref:el(t,a.onTriggerChange),onClick:f=>{var d;(d=e.onClick)==null||d.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,za(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!s.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:ee(e.onPointerLeave,za(f=>{var p,w;h();const d=(p=s.content)==null?void 0:p.getBoundingClientRect();if(d){const x=(w=s.content)==null?void 0:w.dataset.side,b=x==="right",g=b?-5:5,y=d[b?"left":"right"],v=d[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:y,y:d.top},{x:v,y:d.top},{x:v,y:d.bottom},{x:y,y:d.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var p;const d=o.searchRef.current!=="";e.disabled||d&&f.key===" "||a3[n.dir].includes(f.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),f.preventDefault())})})})});Y0.displayName=Zn;var q0="MenuSubContent",K0=u.forwardRef((e,t)=>{const s=I0($t,e.__scopeMenu),{forceMount:n=s.forceMount,...a}=e,o=$s($t,e.__scopeMenu),i=Xa($t,e.__scopeMenu),l=G0(q0,e.__scopeMenu),c=u.useRef(null),m=pe(t,c);return r.jsx(Fa.Provider,{scope:e.__scopeMenu,children:r.jsx(Ds,{present:n||o.open,children:r.jsx(Fa.Slot,{scope:e.__scopeMenu,children:r.jsx(Am,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:ee(e.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),d=o3[i.dir].includes(h.key);f&&d&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});K0.displayName=q0;function X0(e){return e?"open":"closed"}function Ii(e){return e==="indeterminate"}function Rm(e){return Ii(e)?"indeterminate":e?"checked":"unchecked"}function S3(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function C3(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function E3(e,t,s){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=C3(e,Math.max(o,0));a.length===1&&(i=i.filter(m=>m!==s));const c=i.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function P3(e,t){const{x:s,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,m=t[i].x,h=t[i].y;c>n!=h>n&&s<(m-l)*(n-c)/(h-c)+l&&(a=!a)}return a}function T3(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return P3(s,t)}function za(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _3=A0,A3=Pm,I3=M0,M3=R0,R3=Im,D3=D0,L3=Pl,O3=O0,$3=F0,F3=U0,z3=V0,U3=W0,B3=H0,V3=Y0,W3=K0,Dm="DropdownMenu",[H3,AE]=Mn(Dm,[T0]),it=T0(),[G3,Q0]=H3(Dm),J0=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=it(t),m=u.useRef(null),[h=!1,f]=Ia({prop:a,defaultProp:o,onChange:i});return r.jsx(G3,{scope:t,triggerId:Sn(),triggerRef:m,contentId:Sn(),open:h,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(d=>!d),[f]),modal:l,children:r.jsx(_3,{...c,open:h,onOpenChange:f,dir:n,modal:l,children:s})})};J0.displayName=Dm;var Z0="DropdownMenuTrigger",ev=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=e,o=Q0(Z0,s),i=it(s);return r.jsx(A3,{asChild:!0,...i,children:r.jsx(le.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:el(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ev.displayName=Z0;var Y3="DropdownMenuPortal",tv=e=>{const{__scopeDropdownMenu:t,...s}=e,n=it(t);return r.jsx(I3,{...n,...s})};tv.displayName=Y3;var rv="DropdownMenuContent",sv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=Q0(rv,s),o=it(s),i=u.useRef(!1);return r.jsx(M3,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,m=c.button===0&&c.ctrlKey===!0,h=c.button===2||m;(!a.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=rv;var q3="DropdownMenuGroup",K3=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(R3,{...a,...n,ref:t})});K3.displayName=q3;var X3="DropdownMenuLabel",nv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(D3,{...a,...n,ref:t})});nv.displayName=X3;var Q3="DropdownMenuItem",av=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(L3,{...a,...n,ref:t})});av.displayName=Q3;var J3="DropdownMenuCheckboxItem",ov=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(O3,{...a,...n,ref:t})});ov.displayName=J3;var Z3="DropdownMenuRadioGroup",e6=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx($3,{...a,...n,ref:t})});e6.displayName=Z3;var t6="DropdownMenuRadioItem",iv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(F3,{...a,...n,ref:t})});iv.displayName=t6;var r6="DropdownMenuItemIndicator",lv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(z3,{...a,...n,ref:t})});lv.displayName=r6;var s6="DropdownMenuSeparator",cv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(U3,{...a,...n,ref:t})});cv.displayName=s6;var n6="DropdownMenuArrow",a6=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(B3,{...a,...n,ref:t})});a6.displayName=n6;var o6="DropdownMenuSubTrigger",dv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(V3,{...a,...n,ref:t})});dv.displayName=o6;var i6="DropdownMenuSubContent",uv=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,a=it(s);return r.jsx(W3,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uv.displayName=i6;var l6=J0,c6=ev,d6=tv,mv=sv,hv=nv,fv=av,xv=ov,pv=iv,gv=lv,yv=cv,vv=dv,wv=uv;const Lm=l6,Om=c6,u6=u.forwardRef(({className:e,inset:t,children:s,...n},a)=>r.jsxs(vv,{ref:a,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx($N,{className:"ml-auto h-4 w-4"})]}));u6.displayName=vv.displayName;const m6=u.forwardRef(({className:e,...t},s)=>r.jsx(wv,{ref:s,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));m6.displayName=wv.displayName;const Tl=u.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(d6,{children:r.jsx(mv,{ref:n,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Tl.displayName=mv.displayName;const dr=u.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(fv,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));dr.displayName=fv.displayName;const h6=u.forwardRef(({className:e,children:t,checked:s,...n},a)=>r.jsxs(xv,{ref:a,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gv,{children:r.jsx(Cs,{className:"h-4 w-4"})})}),t]}));h6.displayName=xv.displayName;const f6=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(pv,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(gv,{children:r.jsx(BN,{className:"h-2 w-2 fill-current"})})}),t]}));f6.displayName=pv.displayName;const x6=u.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(hv,{ref:n,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));x6.displayName=hv.displayName;const bv=u.forwardRef(({className:e,...t},s)=>r.jsx(yv,{ref:s,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));bv.displayName=yv.displayName;const p6=()=>{const e=Fe(),t=In(),[s,n]=u.useState(!1),[a,o]=u.useState(!1),[i,l]=u.useState(!1),{isLoggedIn:c,setIsLoggedIn:m,user:h}=Me(),f=x=>{x==="home"&&(x="/"),e(x),window.scrollTo({top:0,behavior:"smooth"})};u.useEffect(()=>{(async()=>{if(c&&h){if(h.isAdmin===!0){console.log("✅ User is admin (isAdmin flag set to true)"),l(!0);return}if(h.email||h.username){const b=await mS(h.email,h.username);l(b)}else l(!1)}else l(!1)})()},[c,h==null?void 0:h.email,h==null?void 0:h.username,h==null?void 0:h.isAdmin]);const d=()=>{F2(),m(!1),f("home")},w=(()=>{const x=[];return x.push({id:"sell",label:"Begin Selling",icon:UN}),c&&i&&x.push({id:"admin-dashboard",label:"Admin Dashboard",icon:ey}),x})();return r.jsxs(r.Fragment,{children:[a&&r.jsx(Jy,{onClose:()=>o(!1),onNavigate:x=>{f(x)}}),r.jsxs("nav",{className:"bg-gradient-to-r from-xsm-black via-xsm-dark-gray to-xsm-black border-b border-xsm-medium-gray sticky top-0 z-50 relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/10 via-transparent to-transparent opacity-80",style:{left:"50%",transform:"translateX(-50%)",width:"50%"}}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[r.jsxs("div",{className:"flex justify-between items-center h-[60px] md:h-[72px]",children:[r.jsx("div",{className:"flex items-center",children:w.map(x=>r.jsxs("button",{onClick:()=>{c?f(x.id):o(!0)},className:x.id==="sell"?"bg-xsm-yellow text-black px-3 py-1.5 text-xs font-medium rounded hover:bg-yellow-500 transition-colors flex items-center space-x-1":`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${t.pathname===`/${x.id}`||x.id==="home"&&t.pathname==="/"?"text-xsm-yellow bg-xsm-medium-gray":"text-white hover:text-xsm-yellow"}`,children:[x.icon&&r.jsx(x.icon,{className:"w-4 h-4"}),r.jsx("span",{children:x.label})]},x.id))}),r.jsxs("div",{className:"flex-shrink-0 cursor-pointer absolute left-1/2 transform -translate-x-1/2 z-10 group",onClick:()=>f("home"),children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-radial from-xsm-yellow/30 via-xsm-medium-gray/30 to-transparent rounded-full blur-lg opacity-80 group-hover:opacity-100 transition-all duration-300 group-hover:from-xsm-yellow/50"}),r.jsx("div",{className:"absolute -inset-2 bg-gradient-radial from-xsm-yellow/15 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 animate-pulse"}),r.jsx("div",{className:"absolute -inset-6 bg-gradient-radial from-xsm-yellow/5 via-transparent to-transparent rounded-full animate-pulse opacity-70"}),r.jsx("img",{src:"/images/logo.png",alt:"XSM Market Logo",className:"h-10 md:h-[48px] object-contain relative z-10 drop-shadow-[0_0_4px_rgba(255,208,0,0.5)]"})]}),r.jsx("div",{className:"hidden md:flex items-center space-x-4",children:c?r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"text-white text-sm hidden md:block",children:["Hi, ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:(h==null?void 0:h.username)||"User"})]}),r.jsxs(Lm,{children:[r.jsx(Om,{asChild:!0,children:r.jsx("button",{className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow rounded-full overflow-hidden",children:h!=null&&h.profilePicture?r.jsx("img",{src:h.profilePicture,alt:h.username,className:"w-full h-full object-cover"}):r.jsx(ut,{className:"w-5 h-5 text-black m-1.5"})})})}),r.jsxs(Tl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(dr,{onClick:()=>f(`/u/${h==null?void 0:h.username}`),className:"cursor-pointer",children:[r.jsx(ut,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(dr,{onClick:()=>f("my-deals"),className:"cursor-pointer",children:[r.jsx(br,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"My Deals"})]}),r.jsxs(dr,{onClick:()=>f("seller-deals"),className:"cursor-pointer",children:[r.jsx(br,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Seller Deals"})]}),r.jsxs(dr,{onClick:d,className:"cursor-pointer",children:[r.jsx(ff,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Logout"})]})]})]})]}):r.jsxs("button",{onClick:()=>o(!0),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-2",children:[r.jsx(ut,{className:"w-4 h-4"}),r.jsx("span",{children:"Login"})]})}),r.jsx("div",{className:"md:hidden",children:r.jsx("button",{onClick:()=>n(!s),className:"text-white hover:text-xsm-yellow p-2",children:s?r.jsx(Ie,{className:"w-6 h-6"}):r.jsx(QN,{className:"w-6 h-6"})})})]}),r.jsx("div",{className:"md:hidden pb-4 pt-2"})]}),s&&r.jsx("div",{className:"md:hidden bg-xsm-dark-gray border-t border-xsm-medium-gray",children:r.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center px-3 py-2 space-x-2",children:[r.jsxs(l0,{className:"w-8 h-8 border-2 border-xsm-medium-gray",children:[r.jsx(c0,{src:(h==null?void 0:h.profilePicture)||"/placeholder.svg",alt:(h==null?void 0:h.username)||"User"}),r.jsx(d0,{className:"bg-xsm-medium-gray text-white",children:r.jsx(ut,{className:"w-4 h-4"})})]}),r.jsxs("span",{className:"text-white",children:["Hi, ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:(h==null?void 0:h.username)||"User"})]})]}),w.map(x=>r.jsxs("button",{onClick:()=>{c?f(x.id):o(!0),n(!1)},className:`flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${t.pathname===`/${x.id}`||x.id==="home"&&t.pathname==="/"?"text-xsm-yellow bg-xsm-medium-gray":"text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray"}`,children:[x.icon&&r.jsx(x.icon,{className:"w-5 h-5"}),r.jsx("span",{children:x.label})]},x.id)),r.jsxs("button",{onClick:()=>{f(`/u/${h==null?void 0:h.username}`),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(ut,{className:"w-5 h-5"}),r.jsx("span",{children:"Profile"})]}),r.jsxs("button",{onClick:()=>{f("my-deals"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(br,{className:"w-5 h-5"}),r.jsx("span",{children:"My Deals"})]}),r.jsxs("button",{onClick:()=>{f("seller-deals"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(br,{className:"w-5 h-5"}),r.jsx("span",{children:"Seller Deals"})]}),r.jsxs("button",{onClick:()=>{d(),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[r.jsx(ff,{className:"w-5 h-5"}),r.jsx("span",{children:"Logout"})]})]}):r.jsxs(r.Fragment,{children:[w.map(x=>r.jsxs("button",{onClick:()=>{o(!0),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-white hover:text-xsm-yellow hover:bg-xsm-medium-gray",children:[x.icon&&r.jsx(x.icon,{className:"w-5 h-5"}),r.jsx("span",{children:x.label})]},x.id)),r.jsxs("button",{onClick:()=>{f("login"),n(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium bg-xsm-yellow hover:bg-yellow-500 text-black",children:[r.jsx(ut,{className:"w-5 h-5"}),r.jsx("span",{children:"Login"})]})]})})})]})]})},$m=async(e={})=>{try{const t=new URLSearchParams;Object.keys(e).forEach(n=>{e[n]!==void 0&&e[n]!==null&&e[n]!==""&&t.append(n,e[n])});const s=await fetch(`${ie}/ads?${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to fetch ads: ${s.statusText}`);return await s.json()}catch(t){throw console.error("Get all ads error:",t),t}},g6=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${ie}/ads`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to create ad: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Create ad error:",t),t}},y6=async(e,t)=>{try{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`${ie}/ads/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.message||`Failed to update ad: ${n.statusText}`)}return await n.json()}catch(s){throw console.error("Update ad error:",s),s}},v6=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${ie}/ads/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to delete ad: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Delete ad error:",t),t}},w6=async(e={})=>{var t,s;try{const n=localStorage.getItem("token");if(!n)throw new Error("Authentication required");const a=localStorage.getItem("userData");let o=null;if(console.log("📊 getUserAdsAlternative: localStorage userData:",a),a)try{const h=JSON.parse(a);o=h.id,console.log("📊 getUserAdsAlternative: Parsed user data:",h),console.log("📊 getUserAdsAlternative: User ID from localStorage:",o)}catch{console.log("Failed to parse user data from localStorage")}if(!o){const h=await fetch(`${ie}/user/profile`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!h.ok)throw new Error("Failed to get user profile");const f=await h.json();o=((t=f.user)==null?void 0:t.id)||f.id}if(!o)throw new Error("Could not determine user ID");console.log("📊 getUserAdsAlternative: User ID determined:",o);const i=await fetch(`${ie}/ads`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch ads");const l=await i.json();console.log("📊 All ads received:",l),console.log("📊 All ads count:",((s=l.ads)==null?void 0:s.length)||0);const c=l.ads.filter(h=>{var d,p;const f=((d=h.seller)==null?void 0:d.id)==o;return console.log(`📊 Ad ${h.id}: seller.id=${(p=h.seller)==null?void 0:p.id}, expected userId=${o}, match=${f}`),f});console.log("📊 Filtered user ads:",c),console.log("📊 User ads count:",c.length);let m=c;return e.status&&(m=c.filter(h=>h.status===e.status)),{ads:m,pagination:{currentPage:1,totalPages:1,totalItems:m.length,itemsPerPage:m.length}}}catch(n){throw console.error("Get user ads alternative error:",n),n}},b6=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");const s=await fetch(`${ie}/ads/${e}/pin`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to toggle pin status: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Toggle pin ad error:",t),t}},Gf=async e=>{try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");const s=await fetch(`${ie}/ads/${e}/pull-up`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json();throw new Error(n.message||`Failed to pull up ad: ${s.statusText}`)}return await s.json()}catch(t){throw console.error("Pull up ad error:",t),t}},j6=()=>"https://xsmmarket.com/api",N6=()=>j6().replace("/api",""),k6=N6(),jv=({isOpen:e,onClose:t,channelPrice:s,channelTitle:n,sellerId:a,onNavigateToChat:o})=>{const{user:i,isLoggedIn:l}=Me(),[c,m]=u.useState("safest"),[h,f]=u.useState([]),[d,p]=u.useState(""),[w,x]=u.useState("payment-selection"),[b,g]=u.useState(!1),[y,v]=u.useState(!1),N=[{id:"bank-transfer",name:"Bank Transfer",icon:"🏦",category:"bank"},{id:"paypal",name:"PayPal",icon:"💳",category:"digital"},{id:"bitcoin",name:"Bitcoin",icon:"₿",category:"crypto"},{id:"venmo",name:"Venmo",icon:"💸",category:"digital"},{id:"zelle",name:"Zelle",icon:"⚡",category:"digital"},{id:"cashapp",name:"Cash App",icon:"💰",category:"digital"},{id:"transferwise",name:"TransferWise",icon:"🌍",category:"bank"},{id:"google-pay",name:"Google Pay",icon:"📱",category:"digital"},{id:"payoneer",name:"Payoneer",icon:"💼",category:"digital"},{id:"western-union",name:"Western Union",icon:"🌐",category:"bank"},{id:"moneygram",name:"MoneyGram",icon:"💱",category:"bank"},{id:"other",name:"Other",icon:"📋",category:"other"}],E=4.8,S=3,C=Math.max(s*E/100,S),j=U=>{f(I=>I.includes(U)?I.filter(O=>O!==U):[...I,U])},T=()=>{if(h.length===0){alert("Please select at least one payment method");return}x("email-confirmation")},A=()=>{if(!d.trim()){alert("Please enter your email address");return}x("terms-conditions")},L=async()=>{if(!b){alert("Please agree to the terms and conditions");return}if(!l||!i){alert("Please log in to create a deal");return}try{v(!0);const U=`XSM${Date.now()}${Math.floor(Math.random()*1e3)}`,I={seller_id:a,channel_id:n.toLowerCase().replace(/\s+/g,"-"),channel_title:n,channel_price:s,escrow_fee:C,transaction_type:c,buyer_email:d.trim(),transaction_id:U,payment_methods:h.map(_=>{const P=N.find(M=>M.id===_);return{id:P==null?void 0:P.id,name:P==null?void 0:P.name,category:P==null?void 0:P.category}}).filter(_=>_.id)},O=localStorage.getItem("token"),B=await fetch(`${k6}/api/deals?action=create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(I)}),q=await B.json();if(B.ok)alert(`✅ Deal Created Successfully!

Transaction ID: ${U}
Channel: ${n}
Amount: $${s}
Escrow Fee: $${C.toFixed(2)}
Email: ${d}

Your deal has been saved to the database and the seller has been notified. 
They will review your selected payment methods and respond accordingly.

Deal Status: Waiting for seller review`),F(),t();else throw new Error(q.message||"Failed to create deal")}catch(U){console.error("Error creating deal:",U),alert("Failed to create deal. Please try again.")}finally{v(!1)}},F=()=>{x("payment-selection"),f([]),p(""),m("safest"),g(!1),v(!1)};return e?r.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-xsm-gray",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create a Deal"}),r.jsx("button",{onClick:()=>{F(),t()},className:"text-white hover:text-xsm-yellow transition-colors",children:r.jsx(Ie,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[w==="payment-selection"&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[r.jsx("button",{onClick:()=>m("safest"),className:`px-6 py-3 rounded-full font-semibold transition-all ${c==="safest"?"bg-white text-black":"bg-transparent border border-white text-white hover:bg-white hover:text-black"}`,children:"Safest transaction"}),r.jsx("button",{onClick:()=>m("fastest"),className:`px-6 py-3 rounded-full font-semibold transition-all ${c==="fastest"?"bg-white text-black":"bg-transparent border border-white text-white hover:bg-white hover:text-black"}`,children:"Fastest transaction"})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Select payment methods you can use to pay the seller. The more options you choose, the greater the chance that one of them will suit the seller and he will agree to the deal."}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:N.map(U=>r.jsxs("button",{onClick:()=>j(U.id),className:`p-4 rounded-lg border-2 transition-all flex flex-col items-center space-y-2 ${h.includes(U.id)?"border-xsm-yellow bg-xsm-yellow/10 text-xsm-yellow":"border-gray-600 text-white hover:border-xsm-yellow hover:text-xsm-yellow"}`,children:[r.jsx("span",{className:"text-2xl",children:U.icon}),r.jsx("span",{className:"text-sm font-medium text-center",children:U.name})]},U.id))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Transaction steps when using the escrow service:"}),r.jsx("div",{className:"bg-xsm-gray rounded-lg p-6",children:r.jsxs("ol",{className:"space-y-3 text-white",children:[r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"1."}),r.jsxs("span",{children:["The buyer pays a ",E,"% ($",S," minimum) service fee."]})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"2."}),r.jsx("span",{children:"The seller designates the escrow agent as manager."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"3."}),r.jsx("span",{children:"After 7 days, the seller assigns primary ownership rights to the escrow agent (7 days is the minimum amount of time required in order to assign a new primary owner in the control panel.)"})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"4."}),r.jsx("span",{children:"The escrow agent verifies everything, removes the other managers, and notifies the buyer to pay the seller."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"5."}),r.jsx("span",{children:"The buyer pays the seller."})]}),r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"font-bold text-xsm-yellow mr-3",children:"6."}),r.jsx("span",{children:"After the seller's confirmation, the escrow agent assigns ownership rights to the buyer."})]})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"bg-orange-500/10 border border-orange-500 rounded-lg p-4",children:r.jsx("p",{className:"text-orange-300 text-sm",children:"In order to guarantee maximum security during the transaction, all messages must be sent through the website using the chat system where the transaction is completed, so that in case of any issues, the arbitration service can verify everything."})})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:T,disabled:h.length===0,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]})]}),w==="email-confirmation"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Deal Summary"}),r.jsxs("div",{className:"bg-xsm-gray rounded-lg p-6 space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Channel:"}),r.jsx("span",{className:"text-xsm-yellow font-semibold",children:n})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Price:"}),r.jsxs("span",{className:"text-xsm-yellow font-semibold",children:["$",s]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-white",children:["Escrow Fee (",E,"%):"]}),r.jsxs("span",{className:"text-xsm-yellow font-semibold",children:["$",C.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Transaction Type:"}),r.jsxs("span",{className:"text-xsm-yellow font-semibold capitalize",children:[c," transaction"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-white",children:"Selected Payment Methods:"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(U=>{const I=N.find(O=>O.id===U);return r.jsxs("span",{className:"bg-xsm-yellow text-black px-3 py-1 rounded-full text-sm font-medium",children:[I==null?void 0:I.icon," ",I==null?void 0:I.name]},U)})})]})]})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Email address associated with the account which should be designated as the owner"}),r.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:"On this website no emails or passwords are traded. The account will be transferred to the email address you provide below. This ensures secure account ownership transfer."}),r.jsx("input",{type:"email",value:d,onChange:U=>p(U.target.value),placeholder:"Enter your email",className:"w-full p-4 bg-xsm-gray border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-xsm-yellow focus:outline-none"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>x("payment-selection"),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back"}),r.jsx("button",{onClick:A,disabled:!d.trim(),className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Continue"})]})]}),w==="terms-conditions"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Terms & Conditions Agreement"}),r.jsx("div",{className:"bg-xsm-gray rounded-lg p-6 max-h-96 overflow-y-auto",children:r.jsxs("div",{className:"space-y-4 text-white text-sm",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"1. Escrow Service Agreement"}),r.jsx("p",{children:"By proceeding with this transaction, you agree to use our secure escrow service. All transactions must follow the established process for buyer and seller protection."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"2. Communication Policy"}),r.jsxs("p",{children:["⚠️ ",r.jsx("strong",{children:"IMPORTANT:"})," All communication regarding this transaction MUST occur through our platform's chat system. Communication outside the website and conducting deals without escrow agent is FORBIDDEN for your own safety. Any external communication may void transaction protection."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"3. Transaction Process"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[r.jsxs("li",{children:["Buyer pays ",E,"% escrow fee ($",C.toFixed(2),")"]}),r.jsx("li",{children:"Seller designates escrow agent as account manager"}),r.jsx("li",{children:"After 7 days, seller transfers primary ownership to escrow agent"}),r.jsx("li",{children:"Escrow agent verifies account and notifies buyer"}),r.jsx("li",{children:"Buyer pays seller through agreed payment method"}),r.jsx("li",{children:"After seller confirmation, account is transferred to buyer"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"4. Refund Policy"}),r.jsx("p",{children:"7-day money-back guarantee applies if seller fails to deliver as described. Escrow fee is non-refundable unless transaction is cancelled by seller."})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"5. Account Transfer"}),r.jsxs("p",{children:["The account will be transferred to the email address: ",r.jsx("strong",{className:"text-xsm-yellow",children:d}),". Ensure this email is accessible and secure."]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-xsm-yellow mb-2",children:"6. Dispute Resolution"}),r.jsx("p",{children:"Any disputes will be resolved through our arbitration service. All chat communications will be reviewed for fair resolution."})]}),r.jsx("div",{className:"bg-orange-500/10 border border-orange-500 rounded-lg p-4 mt-6",children:r.jsxs("p",{className:"text-orange-300 font-medium",children:["🔒 ",r.jsx("strong",{children:"Security Notice:"})," Never share your account credentials outside our platform. Our escrow service handles all transfers securely."]})})]})})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:U=>g(U.target.checked),className:"mt-1 w-5 h-5 text-xsm-yellow bg-xsm-gray border-gray-600 rounded focus:ring-xsm-yellow focus:ring-2"}),r.jsx("span",{className:"text-white text-sm",children:"I have read and agree to the terms and conditions above. I understand that all communication must happen through the platform chat for transaction security."})]})}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-xsm-yellow font-semibold mb-3",children:"Transaction Summary"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Channel:"}),r.jsx("p",{className:"text-white font-medium",children:n})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Price:"}),r.jsxs("p",{className:"text-white font-medium",children:["$",s]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Escrow Fee:"}),r.jsxs("p",{className:"text-white font-medium",children:["$",C.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Transfer Email:"}),r.jsx("p",{className:"text-white font-medium break-all",children:d})]})]})]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>x("email-confirmation"),className:"flex-1 py-3 px-6 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back"}),r.jsx("button",{onClick:L,disabled:!b||y,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold flex items-center justify-center space-x-2",children:y?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Cs,{className:"w-5 h-5"}),r.jsx("span",{children:"I Agree - Create Deal"})]})})]})]})]})]})}):null},S6=({onShowMore:e,onNavigateToChat:t,searchQuery:s="",selectedPlatform:n="All Platforms",selectedCategories:a=[],selectedTypes:o=[],subscriberRange:i={min:"",max:""},priceRange:l={min:"",max:""},incomeRange:c={min:"",max:""},monetizationEnabled:m=!1})=>{const[h,f]=u.useState([]),[d,p]=u.useState([]),[w,x]=u.useState(!0),[b,g]=u.useState(null),[y,v]=u.useState(!1),[N,E]=u.useState(null),{user:S,isLoggedIn:C}=Me();u.useEffect(()=>{(async()=>{try{console.log("📡 AdList: Fetching ads..."),x(!0),g(null);const O=await $m({platform:"all",category:"all",sortBy:"createdAt",sortOrder:"DESC"});if(console.log("📡 AdList: Response received:",O),O&&O.ads){const B=O.ads.map(q=>{var _,P,M,R,V,W;return{...q,id:Number(q.id),seller:{id:Number(((_=q.seller)==null?void 0:_.id)||((P=q.User)==null?void 0:P.id)||0),username:((M=q.seller)==null?void 0:M.username)||((R=q.User)==null?void 0:R.username)||"Anonymous",profilePicture:((V=q.seller)==null?void 0:V.profilePicture)||((W=q.User)==null?void 0:W.profilePicture)||""}}});console.log("📡 AdList: Formatted ads:",B.length),f(B)}else console.warn("📡 AdList: No ads in response"),f([])}catch(O){console.error("❌ AdList: Error fetching ads:",O),g(O.message||"Failed to fetch ads"),f([])}finally{x(!1)}})()},[]),u.useEffect(()=>{console.log("🔍 AdList: Applying filters...",{searchQuery:s,selectedPlatform:n,selectedCategories:a,selectedTypes:o,subscriberRange:i,priceRange:l,incomeRange:c,monetizationEnabled:m});let I=[...h];if(s.trim()){const O=s.toLowerCase();I=I.filter(B=>B.title.toLowerCase().includes(O)||B.category.toLowerCase().includes(O)||B.description.toLowerCase().includes(O))}n&&n!=="All Platforms"&&(I=I.filter(O=>O.platform.toLowerCase()===n.toLowerCase())),a.length>0&&(I=I.filter(O=>a.includes(O.category))),o.length>0&&(I=I.filter(O=>o.some(B=>B==="Non Monitied"?!O.isMonetized:B==="Premium"?O.premium:B==="Monetized"?O.isMonetized&&O.monthlyIncome>0:B==="New"))),m&&(I=I.filter(O=>O.isMonetized&&O.monthlyIncome>0)),(i.min||i.max)&&(I=I.filter(O=>{const B=i.min?parseInt(i.min):0,q=i.max?parseInt(i.max):1/0;return O.subscribers>=B&&O.subscribers<=q})),(l.min||l.max)&&(I=I.filter(O=>{const B=l.min?parseInt(l.min):0,q=l.max?parseInt(l.max):1/0;return O.price>=B&&O.price<=q})),(c.min||c.max)&&(I=I.filter(O=>{if(!O.monthlyIncome)return!1;const B=c.min?parseInt(c.min):0,q=c.max?parseInt(c.max):1/0;return O.monthlyIncome>=B&&O.monthlyIncome<=q})),console.log("📊 AdList: Filtered results:",I.length,"out of",h.length),p(I)},[h,s,n,a,o,i,l,c,m]);const j=I=>I>=1e6?(I/1e6).toFixed(1)+"M":I>=1e3?(I/1e3).toFixed(1)+"K":I.toString(),T=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(I),A=(I,O)=>{if(O.stopPropagation(),!C){alert("Please log in to start a deal");return}E(I),v(!0)},L=()=>{v(!1),E(null)},F=I=>{const O={youtube:"text-red-500",facebook:"text-blue-500",instagram:"text-pink-500",twitter:"text-blue-400",tiktok:"text-black"};return r.jsx("span",{className:`text-sm font-semibold ${O[I]||"text-white"}`,children:I.toUpperCase()})};if(w)return r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((I,O)=>r.jsxs("div",{className:"xsm-card animate-pulse",children:[r.jsx("div",{className:"h-48 bg-xsm-medium-gray rounded mb-4"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded mb-2"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded w-3/4"})]},O))});if(b)return r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"text-6xl mb-4",children:"😞"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Error loading ads"}),r.jsx("p",{className:"text-xsm-light-gray",children:b})]});if(h.length===0&&!w)return r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📭"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No ads found"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Be the first to create a listing!"})]});const U=d.length>0?d:h;return U.length===0&&h.length>0?r.jsxs("div",{className:"text-center py-16",children:[r.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No ads match your filters"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Try adjusting your search criteria"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(I=>r.jsxs("div",{className:"xsm-card group transition-all duration-300 cursor-pointer",onClick:()=>e(I),children:[r.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-xsm-medium-gray to-xsm-dark-gray rounded-lg mb-4 overflow-hidden group/image",children:[r.jsx("div",{className:"w-full h-full overflow-hidden",children:r.jsx("img",{src:I.primary_image||(I.screenshots&&I.screenshots.length>0?I.screenshots[0].url||I.screenshots[0]:null)||I.thumbnail||"/placeholder.svg",alt:I.title,className:"w-full h-full object-cover transition-all duration-500 ease-in-out",style:{objectPosition:"center"},onError:O=>{const B=O.target;B.onerror=null,B.src="/placeholder.svg"}})}),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover/image:opacity-100 transition-opacity duration-300"}),r.jsx("div",{className:"absolute top-2 left-2",children:F(I.platform)}),r.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[I.verified&&r.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-xs font-bold",children:"✓ VERIFIED"}),I.premium&&r.jsx("span",{className:"xsm-badge-premium",children:"PREMIUM"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsx("h3",{className:"text-white font-semibold text-lg line-clamp-2 group-hover:text-xsm-yellow transition-colors flex-1",children:I.title}),r.jsx("div",{className:"text-green-400 font-bold whitespace-nowrap text-lg",children:T(I.price)})]}),r.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Category:"}),r.jsx("span",{className:"text-xsm-light-gray",children:I.category})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Subscribers:"}),r.jsx("span",{className:"text-white",children:j(I.subscribers)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:"Monetization:"}),r.jsx("span",{className:`font-medium ${I.isMonetized?"text-green-400":"text-red-400"}`,children:I.isMonetized?"YES":"NO"})]}),I.monthlyIncome>0&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rt,{className:"w-4 h-4 text-green-400"}),r.jsxs("span",{className:"text-green-400",children:[T(I.monthlyIncome),"/mo"]})]})]}),r.jsx("div",{className:"mt-4 space-y-2",children:r.jsx("button",{onClick:O=>A(I,O),className:"w-full xsm-button bg-xsm-yellow hover:bg-yellow-400 text-black font-medium",children:"Make Purchase"})})]})]},I.id))}),y&&N&&r.jsx(jv,{isOpen:y,onClose:L,channelPrice:N.price,channelTitle:N.title,sellerId:N.seller.id.toString(),onNavigateToChat:()=>t&&t("")})]})},Nv="xsm-market-2024",C6=e=>{const t=e.toString(),s=`${Nv}-${t}-${Date.now().toString(36)}`;return btoa(s).replace(/[+/=]/g,n=>{switch(n){case"+":return"-";case"/":return"_";case"=":return"";default:return n}})},E6=e=>{try{const t=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),s="=".repeat((4-t.length%4)%4),a=atob(t+s).split("-");if(a.length>=4&&`${a[0]}-${a[1]}-${a[2]}`===Nv){const o=parseInt(a[3]);if(!isNaN(o))return o}return null}catch(t){return console.error("Error decoding ID:",t),null}},P6=(e,t)=>{const s=t.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50),n=C6(e);return`${s}-${n}`},T6=e=>{const t=e.split("-");if(t.length===0)return null;const s=t[t.length-1];return E6(s)},_6=()=>{const e=Fe(),[t,s]=u.useState(!1),[n,a]=u.useState([]),[o,i]=u.useState([]),[l,c]=u.useState(!0),{isLoggedIn:m}=Me(),{toast:h}=Pt();u.useState("newest");const[f,d]=u.useState(""),[p,w]=u.useState("All Platforms"),[x,b]=u.useState(!1),[g,y]=u.useState({min:"",max:""}),[v,N]=u.useState({min:"",max:""}),[E,S]=u.useState({min:"",max:""}),[C,j]=u.useState(!1);console.log("🏠 Home component rendering, isLoggedIn:",m);const[T,A]=u.useState(!1),[L,F]=u.useState([]),[U,I]=u.useState([]),[O,B]=u.useState(!1);u.useEffect(()=>{const D=()=>{window.scrollY>300?B(!0):B(!1)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const q=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT","Cartoon & Funny","Religious & Spiritual"],_=["Non Monitied","Premium","Monetized","New"];u.useEffect(()=>{(async()=>{try{c(!0),console.log("🔄 Fetching ads...");const k=await $m();if(console.log("📡 Ads response:",k),k&&k.ads){const $=k.ads.map(z=>{var X,ne,H;let G=[];if(z.screenshots)try{G=JSON.parse(z.screenshots),Array.isArray(G)||(G=[])}catch{G=[]}return{id:z.id.toString(),name:z.title,category:z.category||"General",subscribers:z.subscribers||0,price:z.price||0,monthlyIncome:z.monthlyIncome||0,description:z.description||"",verified:((X=z.seller)==null?void 0:X.isVerified)||!1,premium:z.isMonetized||!1,rating:4.5,views:z.views||Math.floor(Math.random()*1e6)+1e5,thumbnail:G.length>0?G[0]:z.primary_image||z.thumbnail||`https://placehold.co/600x400/333/yellow?text=${z.platform||"Channel"}`,primary_image:z.primary_image||null,additional_images:z.additional_images||[],screenshots:G,seller:{id:((ne=z.seller)==null?void 0:ne.id)||0,name:((H=z.seller)==null?void 0:H.username)||"Anonymous",rating:4.5,sales:Math.floor(Math.random()*20)+1}}});console.log("✅ Transformed ads:",$.length),a($),i($)}else console.warn("⚠️ No ads found, using empty arrays"),a([]),i([])}catch(k){console.error("❌ Failed to fetch ads:",k),h({title:"Error",description:"Failed to load channels. Please try again later.",variant:"destructive"}),a([]),i([])}finally{c(!1)}})()},[h]);const P=D=>{F(k=>k.includes(D)?k.filter($=>$!==D):[...k,D])},M=D=>{I(k=>k.includes(D)?k.filter($=>$!==D):[...k,D])},R=()=>{d(""),w("All Platforms"),b(!1),y({min:"",max:""}),N({min:"",max:""}),S({min:"",max:""}),F([]),I([]),A(!1),j(!1)},V=D=>{var G;if(!m){h({title:"Login Required",description:"Please log in to view channel details",className:"bg-amber-500 text-white"}),s(!0);return}const k=parseInt(((G=D.id)==null?void 0:G.toString())||D.id),$=D.title||D.name||"channel";console.log("Navigating to ad:",{adId:k,adTitle:$,item:D});const z=P6(k,$);console.log("Generated slug:",z),e(`/ad/${z}`)};u.useEffect(()=>{let D=[...n];if(f.trim()){const k=f.toLowerCase();D=D.filter($=>$.name.toLowerCase().includes(k)||$.category.toLowerCase().includes(k)||$.description.toLowerCase().includes(k))}L.length>0&&(D=D.filter(k=>L.includes(k.category))),U.length>0&&(D=D.filter(k=>U.some($=>$==="Non Monitied"?k.verified:$==="Premium"?k.premium:$==="Monetized"?k.monthlyIncome&&k.monthlyIncome>0:$==="New"))),x&&(D=D.filter(k=>k.monthlyIncome&&k.monthlyIncome>0)),(g.min||g.max)&&(D=D.filter(k=>{const $=g.min?parseInt(g.min):0,z=g.max?parseInt(g.max):1/0;return k.subscribers>=$&&k.subscribers<=z})),(v.min||v.max)&&(D=D.filter(k=>{const $=v.min?parseInt(v.min):0,z=v.max?parseInt(v.max):1/0;return k.price>=$&&k.price<=z})),(E.min||E.max)&&(D=D.filter(k=>{if(!k.monthlyIncome)return!1;const $=E.min?parseInt(E.min):0,z=E.max?parseInt(E.max):1/0;return k.monthlyIncome>=$&&k.monthlyIncome<=z})),i(D)},[f,p,x,g,v,E,L,U,n]);const W=[{id:"all",name:"All Platforms",logo:null},{id:"youtube",name:"YouTube",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})},{id:"tiktok",name:"TikTok",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})},{id:"twitter",name:"Twitter",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{id:"instagram",name:"Instagram",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})},{id:"facebook",name:"Facebook",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})},{id:"telegram",name:"Telegram",logo:r.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}];return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray text-lg",children:"Loading channels..."}),r.jsx("p",{className:"text-xsm-medium-gray text-sm mt-2",children:"Finding the best social media channels for you"})]})}):r.jsxs(r.Fragment,{children:[t&&r.jsx(Jy,{onClose:()=>s(!1),onNavigate:D=>{e(D),window.scrollTo({top:0,behavior:"smooth"})}}),r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray",children:[r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-10",children:[r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-6 mb-8 shadow-lg border border-xsm-medium-gray/30 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/10 via-xsm-dark-gray/80 to-xsm-dark-gray pointer-events-none"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3",children:T?r.jsxs(r.Fragment,{children:[r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>A(!1),title:"Hide Search",children:r.jsx(jn,{className:"w-6 h-6"})}),r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>j(!C),title:"Advanced Filters",children:r.jsx(e2,{className:"w-6 h-6"})})]}):r.jsx("button",{className:"h-12 w-12 flex items-center justify-center bg-xsm-yellow text-black rounded-md shadow hover:bg-yellow-500 transition-colors",onClick:()=>A(!0),title:"Show Search",children:r.jsx(jn,{className:"w-6 h-6"})})}),T&&r.jsx("button",{onClick:R,className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear All Filters"})]}),T&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-5 py-2",children:[r.jsx("span",{className:"text-sm text-white mr-2 font-medium",children:"Quick Filter:"}),W.filter(D=>D.id!=="all"&&D.id!=="telegram").map(D=>r.jsx("button",{onClick:()=>w(D.name),className:`w-12 h-12 rounded-full flex items-center justify-center transition-all border-2 shadow-lg ${p===D.name?"bg-xsm-yellow text-black border-xsm-yellow ring-2 ring-xsm-yellow ring-offset-2 ring-offset-xsm-dark-gray":"bg-xsm-black text-xsm-yellow border-xsm-yellow/50 hover:bg-xsm-yellow/10 hover:border-xsm-yellow"}`,title:D.name,children:D.logo&&u.cloneElement(D.logo,{className:"w-6 h-6"})},D.id)),r.jsx("button",{onClick:()=>w("All Platforms"),className:`text-xs py-2 px-4 rounded-full border-2 shadow-md transition-all ${p==="All Platforms"?"bg-xsm-yellow text-black border-xsm-yellow font-bold":"bg-xsm-black text-white border-xsm-yellow/50 hover:bg-xsm-yellow/10 hover:border-xsm-yellow hover:text-xsm-yellow"}`,children:"All Platforms"})]}),r.jsx("div",{className:"grid grid-cols-1 items-end",children:r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Search by name or category"}),r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",placeholder:"Search channels...",value:f,onChange:D=>d(D.target.value),className:"xsm-input w-full"})})]})})]}),(T||C)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xsm-light-gray text-sm mb-1",children:"Subscribers"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",placeholder:"Min",className:"xsm-input",value:g.min,onChange:D=>y(k=>({...k,min:D.target.value}))}),r.jsx("input",{type:"number",placeholder:"Max",className:"xsm-input",value:g.max,onChange:D=>y(k=>({...k,max:D.target.value}))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xsm-light-gray text-sm mb-1",children:"Price ($)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"number",placeholder:"Min",className:"xsm-input",value:v.min,onChange:D=>N(k=>({...k,min:D.target.value}))}),r.jsx("input",{type:"number",placeholder:"Max",className:"xsm-input",value:v.max,onChange:D=>N(k=>({...k,max:D.target.value}))})]})]})]}),C&&r.jsx("div",{className:"mt-6 pt-6 border-t border-xsm-medium-gray/30",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-medium",children:"Categories"}),L.length>0&&r.jsx("button",{onClick:()=>F([]),className:"text-xs text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:q.map(D=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:L.includes(D),onChange:()=>P(D),className:"hidden"}),r.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${L.includes(D)?"bg-xsm-yellow border-xsm-yellow":"border-xsm-light-gray"}`,children:L.includes(D)&&r.jsx(Cs,{className:"w-3 h-3 text-xsm-black"})}),r.jsx("span",{className:"text-white text-sm",children:D})]},D))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-white font-medium",children:"Channel Type"}),U.length>0&&r.jsx("button",{onClick:()=>I([]),className:"text-xs text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Clear"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.map(D=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:U.includes(D),onChange:()=>M(D),className:"hidden"}),r.jsx("div",{className:`w-4 h-4 border rounded flex items-center justify-center ${U.includes(D)?"bg-xsm-yellow border-xsm-yellow":"border-xsm-light-gray"}`,children:U.includes(D)&&r.jsx(Cs,{className:"w-3 h-3 text-xsm-black"})}),r.jsx("span",{className:"text-white text-sm",children:D})]},D))})]})]})})]})]}),r.jsx("div",{className:"w-full",children:r.jsx(S6,{onShowMore:V,onNavigateToChat:()=>e("/chat"),searchQuery:f,selectedPlatform:p,selectedCategories:L,selectedTypes:U,subscriberRange:g,priceRange:v,incomeRange:E,monetizationEnabled:x})})]}),O&&r.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 left-8 bg-xsm-yellow text-black rounded-full p-3 shadow-lg hover:bg-yellow-500 transition-colors z-50 animate-fade-in","aria-label":"Back to top",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]}),r.jsx("footer",{className:"bg-gradient-to-r from-xsm-black via-xsm-dark-gray to-xsm-black py-16 pb-8 mt-auto border-t border-xsm-medium-gray/30 relative w-full",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"space-y-8 mb-12",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-xsm-yellow/20 via-transparent to-transparent opacity-75 blur-xl"}),r.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white relative z-10 tracking-tight",children:"XSM-Market is a versatile platform for secure social media account transactions"})]}),r.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-xsm-yellow/5 to-transparent"}),r.jsx("p",{className:"text-base md:text-lg text-xsm-light-gray py-4 px-6 relative z-10",children:"XSM-Market is your trusted platform for securely making deals between sellers and buyers of all kinds of social media accounts."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-xsm-black/50 p-6 rounded-lg border border-xsm-medium-gray/30",children:[r.jsx("h3",{className:"text-xl font-medium text-xsm-yellow mb-3",children:"For Buyers"}),r.jsx("p",{className:"text-white",children:"We guarantee the transfer of your new channel to you or your money back. Our escrow service ensures your investment is protected."})]}),r.jsxs("div",{className:"bg-xsm-black/50 p-6 rounded-lg border border-xsm-medium-gray/30",children:[r.jsx("h3",{className:"text-xl font-medium text-xsm-yellow mb-3",children:"For Sellers"}),r.jsx("p",{className:"text-white",children:"You can be sure that you either get your agreed upon payment, or your channel will be returned to you. Our platform ensures secure transactions."})]})]})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm mt-12",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(Nt,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Secure Escrow"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(Ra,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Verified Growth"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[r.jsx(Ju,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("span",{children:"Instant Transfers"})]})]})]})})})]})]})},kv=async e=>{try{const t=await fetch(`${ie}/social-media/extract-profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok){const s=await t.json();throw new Error(s.message||"Failed to extract profile data")}return await t.json()}catch(t){throw console.error("Extract profile data error:",t),t}},Sv=e=>e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("instagram.com")?"instagram":e.includes("tiktok.com")?"tiktok":e.includes("twitter.com")||e.includes("x.com")?"twitter":e.includes("facebook.com")?"facebook":null,Ud=e=>e>=1e9?`${(e/1e9).toFixed(1)}B`:e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),A6=()=>localStorage.getItem("token")||sessionStorage.getItem("token"),Cv=async e=>{const t=new FormData;e.forEach((a,o)=>{t.append("screenshots[]",a)});const s=A6(),n={};s&&(n.Authorization=`Bearer ${s}`),console.log("🔄 Uploading screenshots...",{fileCount:e.length,files:e.map(a=>({name:a.name,size:a.size,type:a.type})),hasToken:!!s});try{let a=await fetch("/api/ads/upload/screenshots",{method:"POST",headers:n,body:t});if(!a.ok&&a.status===404&&(console.log("📡 Proxy failed, trying direct backend..."),a=await fetch(`${ie}/ads/upload/screenshots`,{method:"POST",headers:n,body:t})),console.log("📡 Upload response status:",a.status),!a.ok){const i=await a.text();throw console.error("❌ Upload failed:",i),new Error(`Failed to upload screenshots: ${a.status} ${a.statusText}`)}const o=await a.json();return console.log("✅ Upload successful:",o),o}catch(a){throw console.error("❌ Upload error:",a),a}},I6=()=>{const e=Fe(),t=["Unique content","Rewritten","Not unique content","Mixed"],s=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT","Cartoon & Funny","Religious & Spiritual"],[n,a]=u.useState({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,subscribers:"",profilePicture:""}),[o,i]=u.useState(!1),[l,c]=u.useState(!1),[m,h]=u.useState(null),[f,d]=u.useState(!1),[p,w]=u.useState(!1),{toast:x}=Pt(),{user:b}=Me(),[g,y]=u.useState([]),[v,N]=u.useState([]),[E,S]=u.useState(!1),C=u.useRef(null),j=u.useRef(null),T=_=>{const{name:P,value:M,type:R}=_.target;a(V=>({...V,[P]:R==="checkbox"?_.target.checked:M}))},A=_=>{const P=_.target.files;if(P){const M=Array.from(P);L(M)}},L=_=>{const P=_.filter(W=>W.type.startsWith("image/"));if(P.length!==_.length&&x({variant:"destructive",title:"Invalid files",description:"Only image files are allowed."}),g.length+P.length>5){x({variant:"destructive",title:"Too many files",description:`You can only upload up to 5 images. You currently have ${g.length} images.`});return}const R=[...g,...P];y(R);const V=P.map(W=>URL.createObjectURL(W));N(W=>[...W,...V])},F=_=>{_.preventDefault(),S(!0)},U=_=>{_.preventDefault(),S(!1)},I=_=>{_.preventDefault(),S(!1);const P=Array.from(_.dataTransfer.files);L(P)},O=_=>{URL.revokeObjectURL(v[_]);const P=g.filter((R,V)=>V!==_),M=v.filter((R,V)=>V!==_);y(P),N(M)};u.useEffect(()=>()=>{v.forEach(_=>URL.revokeObjectURL(_))},[v]);const B=async()=>{if(!n.channelUrl.trim()){x({variant:"destructive",title:"Missing URL",description:"Please enter a social media URL first"});return}c(!0);try{const P=(await kv(n.channelUrl)).data;h(P),a(M=>({...M,title:P.title||M.title,platform:P.platform||Sv(n.channelUrl)||M.platform,subscribers:P.followers||P.subscribers||M.subscribers,profilePicture:P.profilePicture||M.profilePicture})),x({title:"Profile Data Extracted Successfully! ✅",description:`Title: ${P.title}
Platform: ${P.platform}
Followers: ${Ud(P.followers||P.subscribers||0)}`})}catch(_){console.error("Profile extraction error:",_),x({variant:"destructive",title:"Extraction Failed",description:`Failed to extract profile data: ${_.message}. Please fill in the information manually.`})}finally{c(!1)}},q=async()=>{i(!0);try{if(parseFloat(n.price)<5){x({variant:"destructive",title:"Invalid Price",description:"Minimum price should be $5"}),i(!1);return}if(parseInt(n.subscribers)<100){x({variant:"destructive",title:"Invalid Subscribers",description:"Minimum subscribers should be 100"}),i(!1);return}let M="youtube";n.channelUrl.includes("facebook.com")||n.channelUrl.includes("fb.com")?M="facebook":n.channelUrl.includes("instagram.com")?M="instagram":n.channelUrl.includes("twitter.com")||n.channelUrl.includes("x.com")?M="twitter":n.channelUrl.includes("tiktok.com")&&(M="tiktok");let R=[],V="",W="";if(g.length>0)try{console.log("🔄 Attempting to upload screenshots...");const $=await Cv(g);$.screenshots&&(R=$.screenshots,R.length>0&&(V=R[0].data,W=R[0].data),console.log("✅ Screenshots uploaded successfully:",R),console.log("📸 Thumbnail set to first screenshot:",!!W))}catch($){console.error("❌ Error uploading screenshots:",$),x({variant:"destructive",title:"Upload Error",description:`Failed to upload screenshots: ${$.message}. Creating ad without screenshots.`}),R=[]}const D={title:n.title||`${M.charAt(0).toUpperCase()+M.slice(1)} Channel`,channelUrl:n.channelUrl,platform:M,category:n.category,contentType:n.contentType&&n.contentType.trim()!==""?n.contentType:null,description:n.description||"",price:parseFloat(n.price)||0,subscribers:n.subscribers?parseInt(n.subscribers):0,isMonetized:n.isMonetized?1:0,incomeDetails:n.incomeDetails||"",promotionDetails:n.promotionDetails||"",thumbnail:W||n.profilePicture||"",primary_image:V,additional_images:R.slice(1),screenshots:R,tags:[]};console.log("Submitting ad data:",D);const k=await g6(D);console.log("Ad creation result:",k),x({title:"Listing Created Successfully! 🎉",description:"Your listing is now live on the marketplace! Redirecting to your profile..."}),a({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,subscribers:"",profilePicture:""}),v.forEach($=>URL.revokeObjectURL($)),y([]),N([]),setTimeout(()=>{b!=null&&b.username?e(`/u/${b.username}`):e("/profile"),window.scrollTo({top:0,behavior:"smooth"})},1500)}catch(_){x({variant:"destructive",title:"Failed to Create Listing",description:_.message||"Something went wrong. Please try again."})}finally{i(!1)}};return u.useEffect(()=>{const _=P=>{C.current&&!C.current.contains(P.target)&&d(!1),j.current&&!j.current.contains(P.target)&&w(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"CREATE NEW LISTING"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"title",value:n.title,onChange:T,className:"xsm-input w-full",placeholder:"Listing title (e.g., 'Premium Gaming YouTube Channel')"})}),n.profilePicture&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Profile Picture (Auto-extracted)"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:n.profilePicture,alt:"Profile",className:"w-16 h-16 rounded-full object-cover",onError:_=>{const P=_.target;P.style.display="none"}}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:"Profile picture automatically extracted from your social media URL"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Social Media URL",r.jsx("span",{className:"text-sm text-xsm-light-gray ml-2",children:"(Instagram, YouTube, TikTok, Twitter, Facebook)"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",name:"channelUrl",value:n.channelUrl,onChange:T,className:"xsm-input flex-1",placeholder:"Paste your Instagram, YouTube, TikTok, Twitter, or Facebook URL here"}),r.jsx("button",{type:"button",onClick:B,disabled:l||!n.channelUrl.trim(),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 whitespace-nowrap ${l||!n.channelUrl.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-xsm-yellow text-black hover:bg-yellow-400"}`,children:l?r.jsxs(r.Fragment,{children:[r.jsx(cn,{className:"w-4 h-4 animate-spin"}),"Extracting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(jn,{className:"w-4 h-4"}),"Auto-Fill"]})})]}),m&&r.jsx("div",{className:"mt-3 p-3 bg-green-900/30 border border-green-500/50 rounded-lg",children:r.jsxs("p",{className:"text-green-400 text-sm",children:["✅ Extracted: ",r.jsx("strong",{children:m.title}),(m.followers||m.subscribers)&&r.jsxs("span",{children:[" • ",Ud(m.followers||m.subscribers)," followers"]})]})})]}),r.jsxs("div",{className:"relative",ref:j,children:[r.jsxs("div",{onClick:()=>w(!p),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${n.category?"text-white":"text-xsm-medium-gray"}`,children:n.category||"-- Select topic --"}),r.jsx(wn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),p&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.map(_=>r.jsx("div",{onClick:()=>{a(P=>({...P,category:_})),w(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${n.category===_?"bg-blue-500 text-white":"text-white"}`,children:_},_))})})]}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"price",value:n.price,onChange:T,className:"xsm-input w-full",placeholder:"Enter price ($)"})}),r.jsx("div",{children:r.jsx("input",{type:"number",name:"subscribers",value:n.subscribers,onChange:T,className:"xsm-input w-full",placeholder:"Number of subscribers/followers (optional)"})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-3 text-white",children:"Channel Status:"}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"monetizationStatus",className:"sr-only",checked:!n.isMonetized,onChange:()=>a(_=>({..._,isMonetized:!1}))}),r.jsxs("div",{className:`flex items-center ${n.isMonetized?"text-white":"text-xsm-yellow"}`,children:[r.jsx("div",{className:`w-4 h-4 mr-2 rounded-full border ${n.isMonetized?"border-white":"bg-xsm-yellow border-xsm-yellow"} flex items-center justify-center`,children:!n.isMonetized&&r.jsx("div",{className:"w-2 h-2 bg-xsm-black rounded-full"})}),"Non Monetized"]})]}),r.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:"monetizationStatus",className:"sr-only",checked:n.isMonetized,onChange:()=>a(_=>({..._,isMonetized:!0}))}),r.jsxs("div",{className:`flex items-center ${n.isMonetized?"text-xsm-yellow":"text-white"}`,children:[r.jsx("div",{className:`w-4 h-4 mr-2 rounded-full border ${n.isMonetized?"bg-xsm-yellow border-xsm-yellow":"border-white"} flex items-center justify-center`,children:n.isMonetized&&r.jsx("div",{className:"w-2 h-2 bg-xsm-black rounded-full"})}),"Monetized"]})]})]})]})}),r.jsxs("div",{className:"pt-6",children:[r.jsx("h2",{className:"text-xl font-medium mb-4",children:"Optional fields"}),r.jsx("div",{className:"mb-6",children:r.jsx("textarea",{name:"description",value:n.description,onChange:T,className:"xsm-input w-full resize-none",rows:4,placeholder:"Listing description (posting contacts is prohibited)"})}),r.jsxs("div",{className:"mb-6 relative",ref:C,children:[r.jsxs("div",{onClick:()=>d(!f),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${n.contentType?"text-white":"text-xsm-medium-gray"}`,children:n.contentType||"-- Specify the primary content published --"}),r.jsx(wn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),f&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:t.map(_=>r.jsx("div",{onClick:()=>{a(P=>({...P,contentType:_})),d(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${n.contentType===_?"bg-blue-500 text-white":"text-white"}`,children:_},_))})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("textarea",{name:"incomeDetails",value:n.incomeDetails,onChange:T,className:"xsm-input w-full resize-none mb-4",rows:4,placeholder:"Ways of Earning"}),r.jsx("textarea",{name:"promotionDetails",value:n.promotionDetails,onChange:T,className:"xsm-input w-full resize-none",rows:4,placeholder:"Ways of Promotion"})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-base font-medium mb-3 text-white",children:"Screenshots (Optional)"}),r.jsx("p",{className:"text-sm text-xsm-light-gray mb-4",children:"Add screenshots to showcase your channel (proof of income, analytics, etc.)"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg text-center transition-all duration-300 cursor-pointer ${E?"border-xsm-yellow bg-xsm-yellow/10 scale-105":g.length>0?"border-xsm-yellow/50 bg-xsm-dark-gray":"border-xsm-medium-gray hover:border-xsm-yellow hover:bg-xsm-dark-gray/50"}`,onDragOver:F,onDragLeave:U,onDrop:I,onClick:()=>{var _;return(_=document.getElementById("file-upload"))==null?void 0:_.click()},children:[g.length===0?r.jsxs("div",{className:"p-8",children:[r.jsx(Da,{className:`mx-auto mb-3 transition-colors ${E?"text-xsm-yellow animate-bounce":"text-xsm-medium-gray"}`,size:32}),r.jsx("p",{className:`mb-3 font-medium transition-colors ${E?"text-xsm-yellow":"text-xsm-medium-gray"}`,children:E?"Drop your images here!":"Drag and drop images here, or click to select"}),r.jsx("div",{className:"bg-xsm-yellow text-black px-6 py-3 rounded-lg font-medium hover:bg-yellow-400 transition-colors inline-block",children:"Choose Files"}),r.jsx("p",{className:"text-xs text-xsm-light-gray mt-3",children:"PNG, JPG, JPEG • Max 5 images • 10MB each"})]}):r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full"}),r.jsxs("p",{className:"text-sm font-medium text-white",children:[g.length," image",g.length!==1?"s":""," ready to upload"]})]}),r.jsx("button",{onClick:_=>{_.stopPropagation(),v.forEach(P=>URL.revokeObjectURL(P)),y([]),N([])},className:"text-sm text-red-400 hover:text-red-300 underline transition-colors",type:"button",children:"Clear all"})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:v.map((_,P)=>r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-xsm-dark-gray border border-xsm-medium-gray group-hover:border-xsm-yellow transition-all duration-300 group-hover:shadow-lg group-hover:shadow-xsm-yellow/20",children:[r.jsx("img",{src:_,alt:`Screenshot ${P+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-white",children:[r.jsxs("div",{className:"text-xs font-medium mb-1",children:[(g[P].size/1024/1024).toFixed(1)," MB"]}),r.jsx("div",{className:"text-xs text-gray-300 truncate max-w-20",children:g[P].name})]})})]}),r.jsx("button",{onClick:M=>{M.stopPropagation(),O(P)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1.5 shadow-lg hover:bg-red-600 transition-all duration-200 opacity-100 sm:opacity-0 group-hover:opacity-100 hover:scale-110",type:"button",title:"Remove image",children:r.jsx(Ie,{size:12})}),r.jsx("div",{className:"absolute top-2 left-2 bg-xsm-yellow text-black text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center",children:P+1})]},P))}),r.jsxs("div",{className:"border-2 border-dashed border-xsm-medium-gray rounded-lg p-4 hover:border-xsm-yellow transition-colors",children:[r.jsx(Da,{className:"mx-auto mb-2 text-xsm-medium-gray hover:text-xsm-yellow transition-colors",size:24}),r.jsx("p",{className:"text-sm text-xsm-medium-gray hover:text-white transition-colors",children:"Click to add more images"})]}),r.jsx("div",{className:"mt-4 p-3 bg-xsm-black/30 rounded-lg border border-xsm-medium-gray",children:r.jsxs("p",{className:"text-xs text-xsm-light-gray",children:["💡 ",r.jsx("strong",{children:"Tips:"})," Include analytics screenshots, income proof, or channel highlights to attract more buyers"]})})]}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden",id:"file-upload"})]})]})]}),r.jsx("div",{className:"mt-8 text-center",children:r.jsx("button",{onClick:q,disabled:o,className:`bg-xsm-yellow text-black py-3 rounded-md font-medium hover:bg-yellow-400 transition-colors w-full ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Creating Listing...":"Create Listing"})})]})]})})})},M6=()=>"https://xsmmarket.com/api",R6=()=>"https://xsmmarket.com",Ev={BASE_URL:R6(),WS_URL:"https://xsmmarket.com",CHAT_UPLOAD_URL:`${M6()}/chat`,FILE_SERVER_URL:"https://xsmmarket.com"},D6=e=>e.startsWith("http")?e:`${Ev.FILE_SERVER_URL}${e}`,or=e=>e?e.startsWith("http")?e:e.startsWith("/uploads/")?`${Ev.FILE_SERVER_URL}/api${e}`:D6(e):null,L6=`
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #ffd000 #1A1A1A;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #1A1A1A;
    border-radius: 6px;
    border: 1px solid #333333;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ffd000 0%, #ffaa00 100%);
    border-radius: 6px;
    border: 2px solid #1A1A1A;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ffdd33 0%, #ffbb33 100%);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:active {
    background: linear-gradient(180deg, #e6b800 0%, #cc9900 100%);
  }
  
  .conversation-scrollbar::-webkit-scrollbar {
    width: 12px;
  }
  
  .conversation-scrollbar::-webkit-scrollbar-track {
    background: #000000;
    border-radius: 6px;
    border: 1px solid #333333;
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ffd000 0%, #ffaa00 100%);
    border-radius: 6px;
    border: 2px solid #000000;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ffdd33 0%, #ffbb33 100%);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
  }
  
  .conversation-scrollbar::-webkit-scrollbar-thumb:active {
    background: linear-gradient(180deg, #e6b800 0%, #cc9900 100%);
  }
  
  .messages-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #333333 0%, #555555 100%);
    border: 2px solid #1A1A1A;
  }
  
  .messages-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #666666 0%, #777777 100%);
  }
`,O6=()=>{const{user:e,isLoggedIn:t}=Me(),[s,n]=$j(),[a,o]=u.useState(null),[i,l]=u.useState([]),[c,m]=u.useState(""),[h,f]=u.useState([]),[d,p]=u.useState([]),[w,x]=u.useState(""),[b,g]=u.useState(!0),y=u.useRef(null),v=u.useRef(null),[N,E]=u.useState(null),[S,C]=u.useState(null),j=u.useRef(null),[T,A]=u.useState(!1),L=u.useRef(null),[F,U]=u.useState(!1);u.useEffect(()=>{if(t&&e&&a){const k=setInterval(()=>{I()},2e3);return C(k),()=>{k&&clearInterval(k)}}},[t,e,a,N]);const I=async()=>{if(!(!a||!e))try{const k=localStorage.getItem("token"),$=await fetch(`${ie}/chat/chats/${a.id}/messages?since=${N||0}`,{headers:{Authorization:`Bearer ${k}`}});if($.ok){const z=await $.json();if(z.length>0){let G=!1;l(ne=>{const H=new Set(ne.map(te=>te.id)),Q=z.filter(te=>!H.has(te.id));return Q.length>0&&(G=!0),[...ne,...Q]});const X=z[z.length-1];E(X.id),M(X),G&&setTimeout(R,100)}}}catch(k){console.error("Error checking for new messages:",k)}};u.useEffect(()=>{t&&e&&O()},[t,e]),u.useEffect(()=>{a&&setTimeout(R,100)},[a]),u.useEffect(()=>{if(!w.trim())p(h);else{const k=h.filter($=>{var ne;const z=D($).toLowerCase(),G=((ne=$.lastMessage)==null?void 0:ne.toLowerCase())||"",X=w.toLowerCase();return z.includes(X)||G.includes(X)});p(k)}},[h,w]),u.useEffect(()=>{a&&(B(a.id),E(null))},[a]),u.useEffect(()=>{if(t&&e){const k=setInterval(()=>{O()},1e4);return()=>clearInterval(k)}},[t,e]);const O=async()=>{try{g(!0);const k=localStorage.getItem("token"),z=await(await fetch(`${ie}/chat/chats`,{headers:{Authorization:`Bearer ${k}`}})).json();f(z),p(z)}catch(k){console.error("Error fetching chats:",k)}finally{g(!1)}};u.useEffect(()=>{const k=s.get("chatId");if(k&&h.length>0){const $=h.find(z=>z.id.toString()===k);$&&(o($),B($.id),n(new URLSearchParams))}},[h,s,n]);const B=async k=>{try{const $=localStorage.getItem("token"),G=await(await fetch(`${ie}/chat/chats/${k}/messages`,{headers:{Authorization:`Bearer ${$}`}})).json();if(l(G),G.length>0){const X=G[G.length-1];E(X.id)}await fetch(`${ie}/chat/chats/${k}/read`,{method:"PUT",headers:{Authorization:`Bearer ${$}`}})}catch($){console.error("Error fetching messages:",$)}},q=async()=>{if(!(!c.trim()||!a||!e))try{const k=localStorage.getItem("token"),$=await fetch(`${ie}/chat/chats/${a.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({content:c.trim(),messageType:"text"})});if($.ok){const z=await $.json();l(G=>[...G,z]),E(z.id),M(z),m(""),setTimeout(R,100),setTimeout(()=>I(),500)}}catch(k){console.error("Error sending message:",k)}},_=async k=>{if(!(!a||!e||!k)){if(k.size>10*1024*1024){alert("Image file size must be less than 10MB");return}A(!0);try{const $=localStorage.getItem("token"),z=new FormData;z.append("file",k),z.append("messageType","image"),console.log("Uploading image:",k.name,"Size:",k.size);const G=await fetch(`${ie}/chat/chats/${a.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${$}`},body:z});if(G.ok){const X=await G.json();console.log("Image upload successful:",X),l(ne=>[...ne,X]),E(X.id),M(X),setTimeout(R,100),setTimeout(()=>I(),500)}else{const X=await G.json();throw console.error("Image upload failed:",X),new Error(X.message||"Failed to upload image")}}catch($){console.error("Error sending image:",$),alert(`Failed to send image: ${$ instanceof Error?$.message:"Unknown error"}`)}finally{A(!1)}}},P=async k=>{if(!(!a||!e||!k)){if(k.size>50*1024*1024){alert("Video file size must be less than 50MB");return}U(!0);try{const $=localStorage.getItem("token"),z=new FormData;z.append("file",k),z.append("messageType","video"),console.log("Uploading video:",k.name,"Size:",k.size);const G=await fetch(`${ie}/chat/chats/${a.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${$}`},body:z});if(G.ok){const X=await G.json();console.log("Video upload successful:",X),l(ne=>[...ne,X]),E(X.id),M(X),setTimeout(R,100),setTimeout(()=>I(),500)}else{const X=await G.json();throw console.error("Video upload failed:",X),new Error(X.message||"Failed to upload video")}}catch($){console.error("Error sending video:",$),alert(`Failed to send video: ${$ instanceof Error?$.message:"Unknown error"}`)}finally{U(!1)}}},M=k=>{let $=k.content;k.messageType==="image"?$="📷 Sent an image":k.messageType==="video"&&($="🎥 Sent a video"),f(z=>z.map(G=>G.id===k.chatId?{...G,lastMessage:$,lastMessageTime:k.createdAt}:G).sort((G,X)=>new Date(X.lastMessageTime||0).getTime()-new Date(G.lastMessageTime||0).getTime()))},R=()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},V=k=>{let $;k.includes("T")||k.includes("Z")?$=new Date(k):$=new Date(k.replace(" ","T")+"Z");const z=new Date;if($.toDateString()===z.toDateString())return $.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});{const X=new Date(z);return X.setDate(X.getDate()-1),$.toDateString()===X.toDateString()?`Yesterday ${$.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}`:$.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},W=k=>{if(!k)return"";let $;k.includes("T")||k.includes("Z")?$=new Date(k):$=new Date(k.replace(" ","T")+"Z");const G=new Date().getTime()-$.getTime(),X=Math.floor(G/(1e3*60)),ne=Math.floor(G/(1e3*60*60)),H=Math.floor(G/(1e3*60*60*24));return X<1?"now":X<60?`${X}m ago`:ne<24?`${ne}h ago`:H<7?`${H}d ago`:$.toLocaleDateString([],{month:"short",day:"numeric"})},D=k=>{if(k.type==="ad_inquiry"){if(k.otherParticipants.length>0)return k.otherParticipants[0].username;if(k.ad)return`Inquiry: ${k.ad.title}`}return k.otherParticipants.length>0?k.otherParticipants[0].username:k.name?k.name:"Unknown"};return t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:L6}}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Secure Chat"}),r.jsx("p",{className:"text-xl text-white",children:"Communicate safely with buyers and sellers through our secure messaging system"})]}),r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg overflow-hidden",style:{height:"600px"},children:r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-80 bg-xsm-black border-r border-xsm-medium-gray",children:[r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray",children:r.jsxs("h3",{className:"text-lg font-semibold text-xsm-yellow flex items-center",children:[r.jsx(jr,{className:"w-5 h-5 mr-2"}),"Conversations"]})}),r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray",children:r.jsx("input",{type:"text",value:w,onChange:k=>x(k.target.value),placeholder:"Search conversations...",className:"w-full px-4 py-2 bg-xsm-dark-gray text-white rounded-lg border border-xsm-medium-gray focus:outline-none focus:border-xsm-yellow"})}),r.jsx("div",{className:"overflow-y-auto custom-scrollbar conversation-scrollbar",style:{height:"calc(100% - 113px)"},children:b?r.jsx("div",{className:"p-4 text-center text-white",children:"Loading chats..."}):d.length===0?r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx(jr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No conversations yet"}),r.jsx("p",{className:"text-sm",children:"Start chatting by contacting a seller!"})]}):d.map(k=>r.jsxs("div",{onClick:()=>o(k),className:`p-4 border-b border-xsm-medium-gray cursor-pointer hover:bg-xsm-dark-gray transition-colors ${(a==null?void 0:a.id)===k.id?"bg-xsm-medium-gray":""}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-xsm-yellow rounded-full flex items-center justify-center text-xsm-black font-bold text-sm mr-3",children:D(k).charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium text-sm",children:D(k)}),k.ad&&r.jsxs("p",{className:"text-xs text-xsm-yellow",children:[k.ad.title," - $",k.ad.price]})]})]}),k.lastMessageTime&&r.jsx("span",{className:"text-xs text-gray-400",children:W(k.lastMessageTime)})]}),r.jsx("p",{className:"text-sm text-gray-300 truncate",children:k.lastMessage||"No messages yet"})]},k.id))})]}),r.jsx("div",{className:"flex-1 flex flex-col",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b border-xsm-medium-gray bg-xsm-black flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-xsm-yellow rounded-full flex items-center justify-center text-xsm-black font-bold",children:D(a).charAt(0).toUpperCase()}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:D(a)}),a.ad&&r.jsxs("p",{className:"text-sm text-xsm-yellow",children:[a.ad.title," - $",a.ad.price]})]})]})}),r.jsxs("div",{ref:v,className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar messages-scrollbar",children:[i.length===0?r.jsxs("div",{className:"text-center text-gray-400 py-8",children:[r.jsx(jr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No messages yet. Start the conversation!"})]}):i.map(k=>{var z;const $=k.senderId===(e==null?void 0:e.id)||String(k.senderId)===String(e==null?void 0:e.id);return console.log("Message:",k.id,"SenderId:",k.senderId,"UserId:",e==null?void 0:e.id,"IsMyMessage:",$),r.jsx("div",{className:`flex ${$?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${$?"bg-xsm-yellow text-xsm-black":"bg-xsm-medium-gray text-white"}`,children:[!$&&r.jsx("p",{className:"text-xs font-medium mb-1 opacity-75",children:(z=k.sender)==null?void 0:z.username}),k.messageType==="image"&&(k.mediaUrl||k.content)?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:or(k.mediaUrl||k.content)||k.mediaUrl||k.content,alt:"Sent image",className:"rounded-lg max-w-[200px] max-h-[200px] mb-2 border border-xsm-yellow cursor-pointer",style:{objectFit:"cover"},onClick:()=>window.open(or(k.mediaUrl||k.content)||k.mediaUrl||k.content,"_blank"),onError:G=>{console.error("Image failed to load:",{originalContent:k.content,mediaUrl:k.mediaUrl,resolvedUrl:or(k.mediaUrl||k.content)||k.mediaUrl||k.content});const X=G.target;X.style.display="none";const ne=X.nextElementSibling;ne&&(ne.style.display="flex")}}),r.jsx("div",{className:"absolute inset-0 bg-gray-700 rounded-lg flex items-center justify-center text-white text-sm",style:{display:"none"},children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🖼️"}),r.jsx("div",{children:"Image unavailable"}),r.jsx("button",{onClick:()=>{const G=or(k.content)||k.content;window.open(G,"_blank")},className:"mt-2 px-3 py-1 bg-xsm-yellow text-black rounded text-xs hover:bg-yellow-500",children:"Try Opening"})]})})]}):k.messageType==="video"&&(k.mediaUrl||k.content)?r.jsxs("div",{className:"relative rounded-lg overflow-hidden max-w-[250px] max-h-[200px] mb-2 border border-xsm-yellow bg-black",children:[r.jsxs("video",{className:"w-full h-full object-cover",controls:!0,preload:"metadata",style:{maxHeight:"200px"},onError:G=>{console.error("Video failed to load:",{originalContent:k.content,mediaUrl:k.mediaUrl,resolvedUrl:or(k.mediaUrl||k.content)||k.mediaUrl||k.content,error:G});const X=G.target;X.style.display="none";const ne=X.nextElementSibling;ne&&(ne.style.display="flex")},onLoadStart:()=>{const G=or(k.mediaUrl||k.content)||k.mediaUrl||k.content;console.log("Video load started:",G),console.log("Video message data:",k)},onCanPlay:()=>{console.log("Video can play")},onLoadedData:()=>{console.log("Video data loaded")},children:[r.jsx("source",{src:or(k.mediaUrl||k.content)||k.mediaUrl||k.content,type:"video/mp4"}),r.jsx("source",{src:or(k.mediaUrl||k.content)||k.mediaUrl||k.content,type:"video/quicktime"}),r.jsx("source",{src:or(k.mediaUrl||k.content)||k.mediaUrl||k.content,type:"video/webm"}),"Your browser does not support the video tag."]}),r.jsx("div",{className:"absolute inset-0 bg-gray-700 flex items-center justify-center text-white text-sm",style:{display:"none"},children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx("div",{className:"text-2xl mb-2",children:"🎥"}),r.jsx("div",{children:"Video file"}),r.jsx("div",{className:"text-xs mt-1 break-all px-2 max-w-[200px]",children:k.content.split("/").pop()}),r.jsx("button",{onClick:()=>{const G=or(k.content)||k.content;console.log("Attempting to open video:",G),window.open(G,"_blank")},className:"mt-2 px-3 py-1 bg-xsm-yellow text-black rounded text-xs hover:bg-yellow-500",children:"Open Video"})]})})]}):r.jsx("p",{className:"text-sm",children:k.content}),r.jsx("p",{className:`text-xs mt-1 ${$?"text-xsm-dark-gray":"text-gray-400"}`,children:V(k.createdAt)})]})},k.id)}),r.jsx("div",{ref:y})]}),r.jsx("div",{className:"p-4 border-t border-xsm-medium-gray bg-xsm-black",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>{var k;return(k=j.current)==null?void 0:k.click()},className:`p-2 text-gray-400 hover:text-xsm-yellow rounded-lg border border-xsm-yellow bg-xsm-dark-gray ${T?"opacity-50 cursor-not-allowed":""}`,title:"Attach Image",disabled:T||F,children:T?r.jsx("div",{className:"w-5 h-5 border-2 border-xsm-yellow border-t-transparent rounded-full animate-spin"}):r.jsx(qN,{className:"w-5 h-5"})}),r.jsx("input",{ref:j,type:"file",accept:"image/*",style:{display:"none"},onChange:k=>{k.target.files&&k.target.files[0]&&(_(k.target.files[0]),k.target.value="")}}),r.jsx("button",{type:"button",onClick:()=>{var k;return(k=L.current)==null?void 0:k.click()},className:`p-2 text-gray-400 hover:text-xsm-yellow rounded-lg border border-xsm-yellow bg-xsm-dark-gray ${F?"opacity-50 cursor-not-allowed":""}`,title:"Attach Video",disabled:F||T,children:F?r.jsx("div",{className:"w-5 h-5 border-2 border-xsm-yellow border-t-transparent rounded-full animate-spin"}):r.jsx(r2,{className:"w-5 h-5"})}),r.jsx("input",{ref:L,type:"file",accept:"video/*",style:{display:"none"},onChange:k=>{k.target.files&&k.target.files[0]&&(P(k.target.files[0]),k.target.value="")}}),r.jsx("input",{type:"text",value:c,onChange:k=>m(k.target.value),onKeyPress:k=>k.key==="Enter"&&q(),placeholder:"Type your message...",className:"flex-1 px-4 py-2 bg-xsm-dark-gray text-white rounded-lg border border-xsm-medium-gray focus:outline-none focus:border-xsm-yellow"}),r.jsx("button",{onClick:q,disabled:!c.trim(),className:"px-4 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Qu,{className:"w-5 h-5"})})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:r.jsxs("div",{className:"text-center",children:[r.jsx(jr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg",children:"Select a conversation to start messaging"})]})})})]})}),r.jsxs("div",{className:"mt-6 bg-xsm-black/50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-xsm-yellow mb-2",children:[r.jsx(Nt,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Security Notice"})]}),r.jsx("p",{className:"text-white text-sm",children:"All conversations are monitored for security. Never share personal financial information, passwords, or complete transactions outside our secure payment system."})]})]})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Please Login"}),r.jsx("p",{className:"text-xl text-white",children:"You need to login to access the chat system."})]})})},$6=({ad:e,isOpen:t,onClose:s,onUpdate:n})=>{const a=["Unique content","Rewritten","Not unique content","Mixed"],o=["Cars & Bikes","Luxury & Motivation","Pets & Animals","Games","Movies & Music","Fashion & Style","Education & Q&A","Food","Nature & Travel","Fitness & Sports","Models & Celebs","Reviews & How-To","YT Shorts & FB Reels","Crypto & NFT","Cartoon & Funny","Religious & Spiritual"],[i,l]=u.useState({title:"",channelUrl:"",platform:"",price:"",category:"",contentType:"",description:"",incomeDetails:"",promotionDetails:"",isMonetized:!1,subscribers:"",monthlyIncome:"",thumbnail:""}),[c,m]=u.useState(!1),[h,f]=u.useState(!1),[d,p]=u.useState(null),[w,x]=u.useState(!1),[b,g]=u.useState(!1),{toast:y}=Pt(),[v,N]=u.useState([]),[E,S]=u.useState([]),[C,j]=u.useState(!1),T=u.useRef(null),A=u.useRef(null);u.useEffect(()=>{var M,R,V;if(e&&t&&(l({title:e.title||"",channelUrl:e.channelUrl||"",platform:e.platform||"",price:((M=e.price)==null?void 0:M.toString())||"",category:e.category||"",contentType:e.contentType||"",description:e.description||"",incomeDetails:e.incomeDetails||"",promotionDetails:e.promotionDetails||"",isMonetized:e.isMonetized||!1,subscribers:((R=e.subscribers)==null?void 0:R.toString())||"",monthlyIncome:((V=e.monthlyIncome)==null?void 0:V.toString())||"",thumbnail:e.thumbnail||""}),e.screenshots&&e.screenshots.length>0)){const W=e.screenshots.map(D=>typeof D=="string"?D:D.data||D.url).filter(Boolean);S(W)}},[e,t]),u.useEffect(()=>{const M=R=>{T.current&&!T.current.contains(R.target)&&x(!1),A.current&&!A.current.contains(R.target)&&g(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const L=M=>{const{name:R,value:V,type:W}=M.target;l(D=>({...D,[R]:W==="checkbox"?M.target.checked:V}))},F=M=>{const R=M.target.files;if(R){const V=Array.from(R);U(V)}},U=M=>{const R=M.filter(W=>W.type.startsWith("image/"));if(R.length!==M.length&&y({variant:"destructive",title:"Invalid files",description:"Only image files are allowed."}),v.length+R.length>10){y({variant:"destructive",title:"Too many files",description:`You can only upload up to 10 images total. Currently have ${v.length}, trying to add ${R.length}.`});return}N(W=>[...W,...R]);const V=R.map(W=>URL.createObjectURL(W));S(W=>[...W,...V])},I=M=>{M.preventDefault(),j(!0)},O=M=>{M.preventDefault(),j(!1)},B=M=>{M.preventDefault(),j(!1);const R=Array.from(M.dataTransfer.files);U(R)},q=M=>{S(R=>R.filter((V,W)=>W!==M)),N(R=>R.filter((V,W)=>W!==M))},_=async()=>{if(!i.channelUrl.trim()){y({variant:"destructive",title:"URL Required",description:"Please enter a social media URL first."});return}f(!0),p(null);try{const M=Sv(i.channelUrl);if(!M)throw new Error("Unsupported platform. Please use Instagram, YouTube, TikTok, Twitter, or Facebook URLs.");const R=await kv(i.channelUrl);R&&(p(R),l(V=>{var W,D;return{...V,title:R.title||V.title,platform:M,subscribers:((W=R.followers)==null?void 0:W.toString())||((D=R.subscribers)==null?void 0:D.toString())||V.subscribers,thumbnail:R.profilePicture||V.thumbnail}}),y({title:"Profile Extracted! ✨",description:`Successfully extracted data from ${M.charAt(0).toUpperCase()+M.slice(1)}`}))}catch(M){console.error("Profile extraction failed:",M),y({variant:"destructive",title:"Extraction Failed",description:M.message||"Failed to extract profile data. Please fill manually."})}finally{f(!1)}},P=async M=>{if(M.preventDefault(),!i.title.trim()||!i.channelUrl.trim()||!i.platform||!i.category||!i.price){y({variant:"destructive",title:"Missing Information",description:"Please fill in all required fields (title, URL, platform, category, price)."});return}if(parseFloat(i.price)<5){y({variant:"destructive",title:"Invalid Price",description:"Minimum price should be $5."});return}if(parseInt(i.subscribers)<100){y({variant:"destructive",title:"Invalid Subscribers",description:"Minimum subscribers should be 100."});return}m(!0);try{let V=[],W=null,D=null;if(v.length>0)try{console.log("📤 Uploading new screenshots..."),V=(await Cv(v)).screenshots||[],V.length>0&&(W=V[0].data,D=V[0].data),console.log("✅ Screenshots uploaded successfully:",V),console.log("📸 Thumbnail set to first screenshot:",!!D)}catch(z){console.error("❌ Error uploading screenshots:",z),y({variant:"destructive",title:"Upload Warning",description:`Failed to upload new screenshots: ${z.message}. Updating listing without new screenshots.`}),V=[]}const k={title:i.title.trim(),channelUrl:i.channelUrl.trim(),platform:i.platform,category:i.category,contentType:i.contentType&&i.contentType.trim()!==""?i.contentType:null,description:i.description.trim(),price:parseFloat(i.price),subscribers:i.subscribers?parseInt(i.subscribers):0,monthlyIncome:i.monthlyIncome?parseFloat(i.monthlyIncome):0,isMonetized:i.isMonetized?1:0,incomeDetails:i.incomeDetails.trim(),promotionDetails:i.promotionDetails.trim(),thumbnail:D||i.thumbnail||"",...V.length>0&&{screenshots:V,primary_image:W}};console.log("Updating ad with data:",k);const $=await y6(e.id,k);console.log("Ad update result:",$),y({title:"Listing Updated Successfully! 🎉",description:"Your listing has been updated and is live on the marketplace."}),$.ad&&n($.ad),s()}catch(V){console.error("❌ Error updating ad:",V),y({variant:"destructive",title:"Update Failed",description:V.message||"Failed to update listing. Please try again."})}finally{m(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-xsm-medium-gray/20",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Edit Listing"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Title ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:i.title,onChange:L,className:"xsm-input w-full",placeholder:"Enter listing title",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Social Media URL ",r.jsx("span",{className:"text-red-400",children:"*"}),r.jsx("span",{className:"text-sm text-xsm-light-gray ml-2",children:"(Instagram, YouTube, TikTok, Twitter, Facebook)"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"text",name:"channelUrl",value:i.channelUrl,onChange:L,className:"xsm-input flex-1",placeholder:"Paste your social media URL here",required:!0}),r.jsx("button",{type:"button",onClick:_,disabled:h||!i.channelUrl.trim(),className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 whitespace-nowrap ${h||!i.channelUrl.trim()?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-xsm-yellow text-black hover:bg-yellow-400"}`,children:h?r.jsxs(r.Fragment,{children:[r.jsx(cn,{className:"w-4 h-4 animate-spin"}),"Extracting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(jn,{className:"w-4 h-4"}),"Auto-Fill"]})})]}),d&&r.jsx("div",{className:"mt-3 p-3 bg-green-900/30 border border-green-500/50 rounded-lg",children:r.jsxs("p",{className:"text-green-400 text-sm",children:["✅ Extracted: ",r.jsx("strong",{children:d.title}),(d.followers||d.subscribers)&&r.jsxs("span",{children:[" • ",Ud(d.followers||d.subscribers)," followers"]})]})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Platform ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("select",{name:"platform",value:i.platform,onChange:L,className:"xsm-input w-full",required:!0,children:[r.jsx("option",{value:"",children:"Select Platform"}),r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"instagram",children:"Instagram"}),r.jsx("option",{value:"tiktok",children:"TikTok"}),r.jsx("option",{value:"facebook",children:"Facebook"}),r.jsx("option",{value:"twitter",children:"Twitter"})]})]}),r.jsxs("div",{className:"relative",ref:A,children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Category ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsxs("div",{onClick:()=>g(!b),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${i.category?"text-white":"text-xsm-medium-gray"}`,children:i.category||"-- Select category --"}),r.jsx(wn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),b&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"max-h-60 overflow-y-auto",children:o.map(M=>r.jsx("div",{onClick:()=>{l(R=>({...R,category:M})),g(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${i.category===M?"bg-blue-500 text-white":"text-white"}`,children:M},M))})})]}),r.jsxs("div",{className:"relative",ref:T,children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Content Type"}),r.jsxs("div",{onClick:()=>x(!w),className:"xsm-input w-full flex items-center justify-between cursor-pointer",children:[r.jsx("span",{className:`${i.contentType?"text-white":"text-xsm-medium-gray"}`,children:i.contentType||"-- Select content type --"}),r.jsx(wn,{className:"w-5 h-5 text-xsm-medium-gray"})]}),w&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-xsm-black rounded-md shadow-lg border border-xsm-medium-gray overflow-hidden",children:a.map(M=>r.jsx("div",{onClick:()=>{l(R=>({...R,contentType:M})),x(!1)},className:`px-4 py-3 cursor-pointer hover:bg-xsm-medium-gray/30 ${i.contentType===M?"bg-blue-500 text-white":"text-white"}`,children:M},M))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-white font-medium mb-2",children:["Price ($) ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("input",{type:"number",name:"price",value:i.price,onChange:L,className:"xsm-input w-full",placeholder:"Enter price",min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Subscribers/Followers"}),r.jsx("input",{type:"number",name:"subscribers",value:i.subscribers,onChange:L,className:"xsm-input w-full",placeholder:"Enter subscriber count",min:"0"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Monthly Income ($)"}),r.jsx("input",{type:"number",name:"monthlyIncome",value:i.monthlyIncome,onChange:L,className:"xsm-input w-full",placeholder:"Enter monthly income",min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Monetization Status"}),r.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[r.jsx("input",{type:"checkbox",name:"isMonetized",checked:i.isMonetized,onChange:L,className:"w-4 h-4 text-xsm-yellow bg-xsm-dark-gray border-xsm-medium-gray rounded focus:ring-xsm-yellow focus:ring-2"}),r.jsx("span",{className:"text-white",children:"This channel is monetized"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:L,className:"xsm-input w-full min-h-[120px] resize-y",placeholder:"Describe your channel, content type, audience, and what makes it valuable...",rows:4})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Income Details"}),r.jsx("textarea",{name:"incomeDetails",value:i.incomeDetails,onChange:L,className:"xsm-input w-full min-h-[80px] resize-y",placeholder:"Detail your revenue sources (AdSense, sponsorships, affiliate marketing, etc.)",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Promotion Details"}),r.jsx("textarea",{name:"promotionDetails",value:i.promotionDetails,onChange:L,className:"xsm-input w-full min-h-[80px] resize-y",placeholder:"How do you promote your content? (social media, SEO, collaborations, etc.)",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Screenshots (Optional)"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer ${C?"border-xsm-yellow bg-xsm-yellow/10":"border-xsm-medium-gray/50 hover:border-xsm-medium-gray"}`,onDragOver:I,onDragLeave:O,onDrop:B,onClick:()=>{var M;return(M=document.getElementById("screenshot-upload"))==null?void 0:M.click()},children:[r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:F,className:"hidden",id:"screenshot-upload"}),E.length===0?r.jsxs(r.Fragment,{children:[r.jsx(Da,{className:"w-8 h-8 text-xsm-medium-gray mx-auto mb-3"}),r.jsx("p",{className:"text-xsm-medium-gray mb-2",children:"Drag and drop images here, or click to select"}),r.jsx("div",{className:"bg-xsm-yellow text-black px-4 py-2 rounded-lg font-medium hover:bg-yellow-400 transition-colors inline-block",children:"Choose Files"})]}):r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[E.map((M,R)=>r.jsxs("div",{className:"relative group aspect-square",children:[r.jsx("img",{src:M,alt:`Preview ${R+1}`,className:"w-full h-full object-cover rounded-lg border border-xsm-medium-gray/30"}),r.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),q(R)},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/50 text-white rounded-full p-2 opacity-0 group-hover:opacity-100 hover:bg-red-500 transition-all duration-200",children:r.jsx(Ie,{className:"w-4 h-4"})})]},R)),E.length<10&&r.jsx("div",{className:"aspect-square border-2 border-dashed border-xsm-medium-gray/50 rounded-lg flex items-center justify-center hover:border-xsm-yellow hover:bg-xsm-yellow/10 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Da,{className:"w-6 h-6 text-xsm-medium-gray mx-auto mb-2"}),r.jsx("p",{className:"text-xs text-xsm-medium-gray",children:"Add More"})]})})]})]})]}),r.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-xsm-medium-gray/20",children:[r.jsx("button",{type:"submit",disabled:c,className:`xsm-button flex items-center gap-2 flex-1 ${c?"opacity-50 cursor-not-allowed":""}`,children:c?r.jsxs(r.Fragment,{children:[r.jsx(Ku,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Nd,{className:"w-4 h-4"}),"Update Listing"]})}),r.jsxs("button",{type:"button",onClick:s,disabled:c,className:"xsm-button-secondary flex items-center gap-2",children:[r.jsx(Ie,{className:"w-4 h-4"}),"Cancel"]})]})]})]})}):null},F6=`
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #ffd000 #1A1A1A;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: #1A1A1A;
    border-radius: 6px;
    border: 1px solid #333333;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ffd000 0%, #ffaa00 100%);
    border-radius: 6px;
    border: 2px solid #1A1A1A;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ffdd33 0%, #ffbb33 100%);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:active {
    background: linear-gradient(180deg, #e6b800 0%, #cc9900 100%);
  }
`,Pv=({onEditAd:e})=>{var $,z,G,X,ne;const[t,s]=u.useState([]),[n,a]=u.useState(!0),[o,i]=u.useState(null),[l,c]=u.useState(null),[m,h]=u.useState(!1),[f,d]=u.useState({}),[p,w]=u.useState(!1),[x,b]=u.useState(null),[g,y]=u.useState(!1),[v,N]=u.useState(null),[E,S]=u.useState(!1),[C,j]=u.useState(null),{user:T}=Me(),{showSuccess:A,showError:L,showInfo:F}=Ls();u.useEffect(()=>{U()},[T]),u.useEffect(()=>{const H=()=>{const Q={};t.forEach(te=>{if(te.lastPulledAt){const he=new Date(te.lastPulledAt),We=new Date().getTime()-he.getTime(),_t=4*24*60*60*1e3;if(We>=_t)Q[te.id]={canPull:!0};else{const Bt=_t-We,J=Math.floor(Bt/(24*60*60*1e3)),Z=Math.floor(Bt%(24*60*60*1e3)/(60*60*1e3)),Xe=Math.floor(Bt%(60*60*1e3)/(60*1e3)),lt=Math.floor(Bt%(60*1e3)/1e3);Q[te.id]={canPull:!1,remainingTime:{days:J,hours:Z,minutes:Xe,seconds:lt}}}}else Q[te.id]={canPull:!0}}),d(Q)};if(t.length>0){H();const Q=setInterval(H,1e3);return()=>clearInterval(Q)}},[t]);const U=async()=>{var H;try{if(a(!0),i(null),!(T!=null&&T.id))throw new Error("User not logged in");console.log("🔍 Fetching ads for user:",T.id,T.username);const Q=await w6({});console.log("📊 User ads response:",Q),console.log("📊 Ads array:",Q.ads),console.log("📊 Ads count:",((H=Q.ads)==null?void 0:H.length)||0);const te=(Q.ads||[]).map(he=>({...he,pinned:!!he.pinned,isMonetized:!!he.isMonetized}));s(te),i(null)}catch(Q){console.error("Failed to fetch user ads:",Q),i(Q.message||"Failed to fetch your ads"),s([])}finally{a(!1)}},I=H=>{c(H),h(!0)},O=()=>{h(!1),c(null)},B=H=>{s(Q=>Q.map(te=>te.id===H.id?{...te,...H}:te))},q=async H=>{const Q=t.find(te=>te.id===H);Q&&(j(Q),S(!0))},_=async()=>{if(C)try{await v6(C.id),await U(),S(!1),j(null),A("Listing Deleted!","Your listing has been deleted successfully!")}catch(H){L("Error",H.message||"Failed to delete ad")}},P=async H=>{const Q=t.find(he=>he.id===H);if(!Q)return;const te=f[H];if(te&&te.canPull)try{(await Gf(H)).success&&(A("Listing Pulled Up!","Your listing has been pulled up successfully!"),await U())}catch(he){L("Error",he.message||"Failed to pull up listing")}else b(Q),w(!0)},M=async()=>{if(x)try{(await Gf(x.id)).success&&(await U(),w(!1),b(null))}catch(H){console.error("Pull up error:",H)}},R=async H=>{const Q=t.find(te=>te.id===H);Q&&(N(Q),y(!0))},V=async()=>{if(v)try{const H=await b6(v.id);s(Q=>Q.map(te=>te.id===v.id?{...te,pinned:H.pinned,pinnedAt:H.pinnedAt}:te)),y(!1),N(null),await U()}catch(H){console.error("Pin error:",H)}},W=H=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(H),D=H=>H>=1e6?(H/1e6).toFixed(1)+"M":H>=1e3?(H/1e3).toFixed(1)+"K":H.toString(),k=H=>({youtube:r.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),instagram:r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),tiktok:r.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})}),facebook:r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),twitter:r.jsx("div",{className:"w-6 h-6 bg-blue-400 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})})})[H.toLowerCase()]||r.jsx("div",{className:"w-6 h-6 bg-gray-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})})});return n?r.jsx("div",{className:"space-y-4",children:[...Array(3)].map((H,Q)=>r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 animate-pulse",children:[r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded mb-2"}),r.jsx("div",{className:"h-4 bg-xsm-medium-gray rounded w-3/4"})]},Q))}):o?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(ls,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-white font-semibold mb-2",children:"Error loading your ads"}),r.jsx("p",{className:"text-xsm-light-gray",children:o}),r.jsx("button",{onClick:U,className:"mt-4 xsm-button-secondary",children:"Try Again"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:F6}}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow",children:"My Listings"}),r.jsx("span",{className:"text-2xl font-bold text-xsm-yellow",children:t.length})]}),t.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-6xl mb-4",children:"📭"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No ads found"}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:"You haven't created any listings yet."})]}):r.jsx("div",{className:"max-h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(H=>{var Q;return r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3 border border-xsm-medium-gray/20 shadow-sm flex flex-col items-center hover:border-xsm-yellow/30 transition-colors w-full max-w-[240px] mx-auto",children:[r.jsxs("div",{className:"relative mb-2 flex items-center",children:[r.jsx("div",{className:"absolute -left-4 -top-0",children:k(H.platform)}),r.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-xsm-medium-gray/30",children:r.jsx("img",{src:((Q=H.seller)==null?void 0:Q.profilePicture)||(T==null?void 0:T.profilePicture)||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})})]}),r.jsx("h4",{className:"text-white font-semibold text-xs text-center mb-0.5 truncate w-full",children:H.title}),H.pinned&&r.jsx("div",{className:"flex justify-center mb-0.5",children:r.jsxs("span",{className:"bg-yellow-500 text-black text-xs px-2 py-0.5 rounded-full font-semibold flex items-center",children:[r.jsx(Ho,{className:"w-3 h-3 mr-1"}),"PINNED"]})}),r.jsx("div",{className:"text-center mb-0.5",children:r.jsxs("span",{className:"text-blue-400 font-medium text-xs",children:["Subscribers: ",D(H.subscribers)]})}),r.jsx("div",{className:"text-center mb-0.5",children:r.jsxs("span",{className:"text-xsm-yellow font-semibold text-xs",children:["Price: ",W(H.price)]})}),r.jsx("div",{className:"text-center mb-1.5",children:r.jsxs("span",{className:`text-xs ${H.isMonetized?"text-green-400":"text-red-400"}`,children:["Monetization: ",H.isMonetized?"Yes":"No"]})}),r.jsxs("div",{className:"flex justify-center space-x-1 w-full",children:[r.jsx("button",{onClick:()=>I(H),className:"w-6 h-6 bg-xsm-yellow hover:bg-yellow-500 rounded-full flex items-center justify-center transition-colors flex-shrink-0",title:"Edit",children:r.jsx(ua,{className:"w-3 h-3 text-xsm-black"})}),r.jsx("button",{onClick:()=>q(H.id),className:"w-6 h-6 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors flex-shrink-0",title:"Delete",children:r.jsx(ma,{className:"w-3 h-3 text-white"})}),r.jsx("button",{onClick:()=>P(H.id),className:"w-6 h-6 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center transition-colors flex-shrink-0",title:"Pull Up",children:r.jsx(Ra,{className:"w-3 h-3 text-white"})}),r.jsx("button",{onClick:()=>R(H.id),className:`w-6 h-6 ${H.pinned?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} rounded-full flex items-center justify-center transition-colors flex-shrink-0`,title:H.pinned?"Unpin Listing":"Pin Listing",children:r.jsx(Ho,{className:`w-3 h-3 text-white ${H.pinned?"fill-current":""}`})})]})]},H.id)})})}),l&&r.jsx($6,{ad:l,isOpen:m,onClose:O,onUpdate:B}),p&&x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx(Ra,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Pull Up Listing"}),r.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:['"',x.title,'"']})]}),f[x.id]&&!f[x.id].canPull?r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-300 mb-3",children:[r.jsx(vt,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{className:"font-medium",children:"Pull-up available in:"})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm font-mono bg-gray-800 rounded-lg p-4 border border-gray-600",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-400",children:(($=f[x.id].remainingTime)==null?void 0:$.days)||0}),r.jsx("div",{className:"text-gray-400 text-xs",children:"days"})]}),r.jsx("div",{className:"text-gray-500 text-xl",children:":"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-400",children:String(((z=f[x.id].remainingTime)==null?void 0:z.hours)||0).padStart(2,"0")}),r.jsx("div",{className:"text-gray-400 text-xs",children:"hrs"})]}),r.jsx("div",{className:"text-gray-500 text-xl",children:":"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:String(((G=f[x.id].remainingTime)==null?void 0:G.minutes)||0).padStart(2,"0")}),r.jsx("div",{className:"text-gray-400 text-xs",children:"min"})]}),r.jsx("div",{className:"text-gray-500 text-xl",children:":"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:String(((X=f[x.id].remainingTime)==null?void 0:X.seconds)||0).padStart(2,"0")}),r.jsx("div",{className:"text-gray-400 text-xs",children:"sec"})]})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Listings can only be pulled up every 4 days"})]}):r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-300",children:"Are you sure you want to pull up this listing? It will appear at the top of the marketplace."}),x.lastPulledAt&&r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Last pulled: ",new Date(x.lastPulledAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{w(!1),b(null)},className:"flex-1 px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors border border-gray-600",children:"Close"}),((ne=f[x.id])==null?void 0:ne.canPull)&&r.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-xsm-yellow text-xsm-black font-semibold rounded-lg hover:bg-yellow-400 transition-colors",children:"Pull Up"})]})]})})}),g&&v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx(Ho,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:v.pinned?"Unpin Listing":"Pin Listing"}),r.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:['"',v.title,'"']})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-300",children:v.pinned?"Are you sure you want to unpin this listing? It will no longer appear at the top of your listings.":"Are you sure you want to pin this listing? It will appear at the top of your listings."}),v.pinnedAt&&r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Pinned on: ",new Date(v.pinnedAt).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{y(!1),N(null)},className:"flex-1 px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors border border-gray-600",children:"Cancel"}),r.jsx("button",{onClick:V,className:"flex-1 px-4 py-2 bg-xsm-yellow text-xsm-black font-semibold rounded-lg hover:bg-yellow-400 transition-colors",children:v.pinned?"Unpin":"Pin"})]})]})})}),E&&C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full mx-4 border border-gray-700",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx(ma,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Listing"}),r.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:['"',C.title,'"']})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-300",children:"Are you sure you want to delete this listing? This action cannot be undone."})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{S(!1),j(null)},className:"flex-1 px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition-colors border border-gray-600",children:"Cancel"}),r.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})})]})},z6=({isOpen:e,onClose:t,onSuccess:s,currentEmail:n,newEmail:a,verificationToken:o})=>{const[i,l]=u.useState("current_email"),[c,m]=u.useState(""),[h,f]=u.useState(!1),[d,p]=u.useState(""),[w,x]=u.useState(o),{showSuccess:b,showError:g}=Ls(),y=async()=>{if(!c||c.length!==6){p("Please enter a valid 6-digit verification code");return}try{f(!0),p("");const j=await H2(w,c);b("Current email verified!","Now check your new email for the final verification code"),l("new_email"),m(""),x(j.verificationToken)}catch(j){const T=j instanceof Error?j.message:"Verification failed";g("Verification failed",T),p(T)}finally{f(!1)}},v=async()=>{if(!c||c.length!==6){p("Please enter a valid 6-digit verification code");return}try{f(!0),p("");const j=await G2(w,c);b("Email changed successfully!",`Your email has been changed to ${j.newEmail}`),s(j.newEmail),t()}catch(j){const T=j instanceof Error?j.message:"Verification failed";g("Verification failed",T),p(T)}finally{f(!1)}},N=()=>{i==="current_email"?y():v()},E=()=>{l("current_email"),m(""),p(""),x(o),t()};if(!e)return null;const S=i==="current_email",C=S?n:a;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:"Email Verification"}),r.jsx("button",{onClick:E,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${S?"bg-xsm-yellow text-xsm-black":"bg-green-500 text-white"}`,children:S?"1":"✓"}),r.jsx(DN,{className:"w-4 h-4 text-gray-400"}),r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${i==="new_email"?"bg-xsm-yellow text-xsm-black":"bg-gray-600 text-gray-400"}`,children:"2"})]})}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center ${S?"bg-blue-500/10":"bg-green-500/10"}`,children:r.jsx(bn,{className:`w-6 h-6 ${S?"text-blue-400":"text-green-400"}`})}),r.jsx("h4",{className:"text-white font-medium mb-2",children:S?"Verify Current Email (Step 1 of 2)":"Verify New Email (Step 2 of 2)"}),r.jsx("p",{className:"text-gray-400 text-xs mb-2",children:S?"We sent a verification code to your current email:":"We sent a verification code to your new email:"}),r.jsx("p",{className:"text-xsm-yellow font-medium text-sm",children:C}),S&&r.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"After verifying this, you'll get another code at your new email."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Verification Code"}),r.jsx("input",{type:"text",value:c,onChange:j=>{const T=j.target.value.replace(/\D/g,"").slice(0,6);m(T),p("")},className:"xsm-input w-full text-center text-lg tracking-widest py-2",placeholder:"000000",maxLength:6,autoComplete:"one-time-code"})]}),d&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:r.jsx("p",{className:"text-red-400 text-sm",children:d})}),r.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-amber-400 text-xs",children:"⏰ This verification code expires in 15 minutes."})}),!S&&r.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-green-400 text-xs",children:"✅ Current email verified! Complete this final step to change your email."})})]}),r.jsxs("div",{className:"flex space-x-2 mt-4",children:[r.jsx("button",{onClick:E,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Cancel"}),r.jsx("button",{onClick:N,disabled:!c||c.length!==6||h,className:"flex-1 px-3 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-xsm-black border-t-transparent"}),r.jsx("span",{children:"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:S?"Verify Current":"Complete Change"})]})})]})]})})},U6=({isOpen:e,onClose:t,onSuccess:s,email:n,verificationToken:a,isGoogleUser:o})=>{const[i,l]=u.useState(""),[c,m]=u.useState(!1),[h,f]=u.useState(""),{showSuccess:d,showError:p}=Ls(),w=async()=>{if(!i||i.length!==6){f("Please enter a valid 6-digit verification code");return}try{m(!0),f("");const x=await q2(a,i);d(o?"Password set successfully!":"Password changed successfully!",o?"You can now login using both Google and email/password.":"Your password has been updated successfully."),s(x.message,x.isGoogleUser),t()}catch(x){const b=x instanceof Error?x.message:"Verification failed";p("Verification failed",b),f(b)}finally{m(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:o?"Verify Password Setup":"Verify Password Change"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`${o?"bg-green-500/10":"bg-yellow-500/10"} rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center`,children:r.jsx(Xu,{className:`w-6 h-6 ${o?"text-green-400":"text-yellow-400"}`})}),r.jsx("p",{className:"text-white mb-2 text-sm",children:o?"We've sent a verification code to confirm your password setup:":"We've sent a verification code to confirm your password change:"}),r.jsx("p",{className:"text-xsm-yellow font-medium",children:n}),r.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Please check your email and enter the 6-digit code below."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Verification Code"}),r.jsx("input",{type:"text",value:i,onChange:x=>{const b=x.target.value.replace(/\D/g,"").slice(0,6);l(b),f("")},className:"xsm-input w-full text-center text-lg tracking-widest py-2",placeholder:"000000",maxLength:6,autoComplete:"one-time-code"})]}),h&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:r.jsx("p",{className:"text-red-400 text-sm",children:h})}),r.jsx("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-2",children:r.jsx("p",{className:"text-amber-400 text-xs",children:"⏰ This verification code expires in 15 minutes."})}),o&&r.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-2",children:[r.jsx("p",{className:"text-green-400 text-xs font-semibold mb-1",children:"🔐 Setting Up Password"}),r.jsx("p",{className:"text-green-300 text-xs",children:"This will add password login as an alternative to Google sign-in."})]})]}),r.jsxs("div",{className:"flex space-x-2 mt-4",children:[r.jsx("button",{onClick:t,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Cancel"}),r.jsx("button",{onClick:w,disabled:!i||i.length!==6||c,className:"flex-1 px-3 py-2 bg-xsm-yellow text-xsm-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-xsm-black border-t-transparent"}),r.jsx("span",{children:"Verifying..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:o?"Set Password":"Change Password"})]})})]})]})}):null},B6=({onCooldownEnd:e,onCooldownStatusChange:t,className:s=""})=>{const[n,a]=u.useState(null),[o,i]=u.useState(!0),[l,c]=u.useState(null),[m,h]=u.useState(null),f=p=>{const w=new Date,b=new Date(p).getTime()-w.getTime();if(b<=0){h(null),e&&e(),t&&t(!1);return}const g=Math.floor(b/(1e3*60*60*24)),y=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),v=Math.floor(b%(1e3*60*60)/(1e3*60)),N=Math.floor(b%(1e3*60)/1e3);h({days:g,hours:y,minutes:v,seconds:N})},d=async()=>{try{i(!0),c(null);const p=await K2();a(p),t&&t(p.cooldownActive),p.cooldownActive&&p.nextAllowedDate&&f(p.nextAllowedDate)}catch(p){console.error("Failed to fetch cooldown status:",p),c(p instanceof Error?p.message:"Failed to fetch cooldown status")}finally{i(!1)}};return u.useEffect(()=>{d()},[]),u.useEffect(()=>{if(!(n!=null&&n.cooldownActive)||!n.nextAllowedDate)return;const p=setInterval(()=>{f(n.nextAllowedDate)},1e3);return()=>clearInterval(p)},[n,e]),u.useEffect(()=>{const p=setInterval(()=>{d()},6e4);return()=>clearInterval(p)},[]),o?r.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Checking email change availability..."})]}):l?r.jsxs("div",{className:`p-3 bg-red-50 border border-red-200 rounded-lg ${s}`,children:[r.jsxs("p",{className:"text-sm text-red-600",children:["⚠️ ",l]}),r.jsx("button",{onClick:d,className:"mt-2 text-xs text-red-700 hover:text-red-800 underline",children:"Retry"})]}):n!=null&&n.cooldownActive?r.jsx("div",{className:`p-4 bg-amber-50 border border-amber-200 rounded-lg ${s}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-amber-800 mb-1",children:"Email Change on Cooldown"}),r.jsx("p",{className:"text-sm text-amber-700 mb-3",children:"For security reasons, you can only change your email address once every 15 days."}),m&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-amber-600",children:"Time remaining:"}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.days}),r.jsx("div",{className:"text-xs text-amber-600",children:"Days"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.hours}),r.jsx("div",{className:"text-xs text-amber-600",children:"Hours"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.minutes}),r.jsx("div",{className:"text-xs text-amber-600",children:"Minutes"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-amber-200",children:[r.jsx("div",{className:"text-lg font-bold text-amber-800",children:m.seconds}),r.jsx("div",{className:"text-xs text-amber-600",children:"Seconds"})]})]})]}),n.lastEmailChange&&r.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:["Last email change: ",new Date(n.lastEmailChange).toLocaleDateString()]})]})]})}):null},V6=({onCooldownEnd:e,onCooldownStatusChange:t,className:s=""})=>{const[n,a]=u.useState(null),[o,i]=u.useState(!0),[l,c]=u.useState(null),[m,h]=u.useState(null),f=p=>{const w=new Date,b=new Date(p).getTime()-w.getTime();if(b<=0){h(null),e&&e(),t&&t(!1);return}const g=Math.floor(b/(1e3*60*60)),y=Math.floor(b%(1e3*60*60)/(1e3*60)),v=Math.floor(b%(1e3*60)/1e3);h({hours:g,minutes:y,seconds:v})},d=async()=>{try{i(!0),c(null);const p=await X2();a(p),t&&t(p.cooldownActive),p.cooldownActive&&p.nextAllowedDate&&f(p.nextAllowedDate)}catch(p){console.error("Failed to fetch password cooldown status:",p),c(p instanceof Error?p.message:"Failed to fetch cooldown status")}finally{i(!1)}};return u.useEffect(()=>{d()},[]),u.useEffect(()=>{if(!(n!=null&&n.cooldownActive)||!n.nextAllowedDate)return;const p=setInterval(()=>{f(n.nextAllowedDate)},1e3);return()=>clearInterval(p)},[n,e]),u.useEffect(()=>{const p=setInterval(()=>{d()},6e4);return()=>clearInterval(p)},[]),o?r.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Checking password change availability..."})]}):l?r.jsxs("div",{className:`p-3 bg-red-50 border border-red-200 rounded-lg ${s}`,children:[r.jsxs("p",{className:"text-sm text-red-600",children:["⚠️ ",l]}),r.jsx("button",{onClick:d,className:"mt-2 text-xs text-red-700 hover:text-red-800 underline",children:"Retry"})]}):n!=null&&n.cooldownActive?r.jsx("div",{className:`p-4 bg-purple-50 border border-purple-200 rounded-lg ${s}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-purple-800 mb-1",children:"Password Change on Cooldown"}),r.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"For security reasons, you can only change your password once every 48 hours."}),m&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs text-purple-600",children:"Time remaining:"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.hours}),r.jsx("div",{className:"text-xs text-purple-600",children:"Hours"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.minutes}),r.jsx("div",{className:"text-xs text-purple-600",children:"Minutes"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[r.jsx("div",{className:"text-lg font-bold text-purple-800",children:m.seconds}),r.jsx("div",{className:"text-xs text-purple-600",children:"Seconds"})]})]})]}),n.lastPasswordChange&&r.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Last password change: ",new Date(n.lastPasswordChange).toLocaleDateString()," ",new Date(n.lastPasswordChange).toLocaleTimeString()]})]})]})}):null},W6=()=>"https://xsmmarket.com/api",H6=()=>{var Bt;const e=Fe(),{user:t,isLoggedIn:s,setUser:n,setIsLoggedIn:a}=Me(),{showSuccess:o,showError:i,showInfo:l,showWarning:c}=Ls(),m=t,h=J=>{if(!J)return"Recently joined";const Z=new Date(J),lt=Math.abs(new Date().getTime()-Z.getTime()),_e=Math.ceil(lt/(1e3*60*60*24)),Qe=Math.floor(_e/7),Vt=Math.floor(_e/30),Re=Math.floor(_e/365);return _e<1?"Joined today":_e===1?"Joined 1 day ago":_e<7?`Joined ${_e} days ago`:Qe===1?"Joined 1 week ago":Qe<4?`Joined ${Qe} weeks ago`:Vt===1?"Joined 1 month ago":Vt<12?`Joined ${Vt} months ago`:Re===1?"Joined 1 year ago":`Joined ${Re} years ago`};console.log("🔍 Profile component state:",{user:m,isLoggedIn:s,token:localStorage.getItem("token")?"exists":"missing",userData:localStorage.getItem("userData")});const[f,d]=u.useState(!1),[p,w]=u.useState(!1),[x,b]=u.useState(!1),[g,y]=u.useState("email"),[v,N]=u.useState({username:"",email:""}),[E,S]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,j]=u.useState(!1),[T,A]=u.useState(""),[L,F]=u.useState(""),[U,I]=u.useState(!1),[O,B]=u.useState(!1),[q,_]=u.useState(""),[P,M]=u.useState(""),[R,V]=u.useState(!1),[W,D]=u.useState(!1),[k,$]=u.useState(!1),[z,G]=u.useState(!1),[X,ne]=u.useState(!1);u.useState(!1);const[H,Q]=u.useState({username:"",email:"",profilePicture:"",description:""});u.useState([{id:"1",name:"TechReview Pro",category:"Tech",subscribers:15e4,price:15e3,status:"Active",views:245,inquiries:8},{id:"2",name:"Gaming World HD",category:"Gaming",subscribers:89e3,price:8500,status:"Pending Review",views:123,inquiries:3}]);const[te,he]=u.useState({username:(t==null?void 0:t.username)||"ChannelTrader2024",email:(t==null?void 0:t.email)||"user@example.com",joinDate:(t==null?void 0:t.createdAt)||(t==null?void 0:t.joinDate)||new Date().toISOString(),profilePicture:(t==null?void 0:t.profilePicture)||"",description:(t==null?void 0:t.description)||""});if(u.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),u.useEffect(()=>{t&&(console.log("🔍 User data in Profile component:",{user:t,authProvider:t==null?void 0:t.authProvider,keys:Object.keys(t),description:t.description}),he(J=>({...J,username:t.username,email:t.email,profilePicture:t.profilePicture||"",description:t.description||"",joinDate:(t==null?void 0:t.createdAt)||(t==null?void 0:t.joinDate)||J.joinDate})),console.log("🔄 Updated profile state with description:",t.description))},[t]),u.useEffect(()=>{s||e("/login")},[s,e]),u.useEffect(()=>{(async()=>{if(s&&t)try{console.log("🔄 Fetching fresh profile data...");const Z=await V2();console.log("✅ Fresh profile data:",Z),n({...Z,id:String(Z.id)}),he({username:Z.username,email:Z.email,profilePicture:Z.profilePicture||"",description:Z.description||"",joinDate:(Z==null?void 0:Z.joinDate)||"2025-01-15"}),console.log("🔄 Profile state updated with fresh data:",{description:Z.description,username:Z.username})}catch(Z){console.error("❌ Failed to fetch fresh profile data:",Z)}})()},[s]),s&&!t){if(localStorage.getItem("token")){console.log("🔧 Creating default user data since token exists but no user data found");const Z={id:"temp-user-id",username:"User",email:"user@example.com",profilePicture:""};return localStorage.setItem("userData",JSON.stringify(Z)),r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex justify-center items-center mb-4",children:r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow",children:"My Profile"})}),r.jsx("p",{className:"text-xl text-white",children:"Profile loaded with default data (please refresh to see your actual data)"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"xsm-card text-center mb-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center overflow-hidden",children:r.jsx("div",{className:"w-full h-full bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(ut,{className:"w-12 h-12 text-xsm-black"})})}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:Z.username}),r.jsxs("p",{className:"text-xsm-light-gray mb-1",children:["@",Z.username]}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:Z.email}),r.jsx("div",{className:"text-xs text-yellow-400 bg-yellow-500/10 rounded-full px-3 py-1 inline-block",children:"⚠️ Default profile data - please login again for actual data"})]})}),r.jsx("div",{className:"lg:col-span-2 space-y-8",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-6",children:"Profile Status"}),r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-4",children:[r.jsx("p",{className:"text-white mb-4",children:"You are logged in, but we couldn't load your profile data. This might happen if:"}),r.jsxs("ul",{className:"text-xsm-light-gray list-disc pl-6 space-y-2",children:[r.jsx("li",{children:"You refreshed the page after logging in"}),r.jsx("li",{children:"Your session data was cleared"}),r.jsx("li",{children:"There was a temporary connection issue"})]}),r.jsxs("div",{className:"mt-4 space-x-4",children:[r.jsx("button",{onClick:()=>e("/login"),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-4 py-2 rounded-lg font-semibold transition-colors",children:"Login Again"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Refresh Page"})]})]})]})})]})]})})}return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-xsm-yellow border-t-transparent rounded-full animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-white text-xl",children:"Loading profile..."})]})})}if(!s)return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Log In"}),r.jsx("p",{className:"text-xsm-light-gray mb-6",children:"You need to be logged in to view your profile."}),r.jsx("button",{onClick:()=>e("/login"),className:"bg-xsm-yellow hover:bg-yellow-500 text-black px-6 py-3 rounded-lg font-semibold transition-colors",children:"Go to Login"})]})});const Ut=(J,Z,Xe,lt)=>new Promise(_e=>{const Qe=document.createElement("canvas"),Vt=Qe.getContext("2d"),Re=new Image;Re.onload=()=>{let{width:De,height:Wt}=Re;De>Wt?De>Z&&(Wt=Wt*Z/De,De=Z):Wt>Xe&&(De=De*Xe/Wt,Wt=Xe),Qe.width=De,Qe.height=Wt,Vt.drawImage(Re,0,0,De,Wt),Qe.toBlob(xr=>{if(xr){const Ja=new File([xr],J.name,{type:"image/jpeg",lastModified:Date.now()});_e(Ja)}else _e(J)},"image/jpeg",lt)},Re.src=URL.createObjectURL(J)}),We=async J=>{var Xe;const Z=(Xe=J.target.files)==null?void 0:Xe[0];if(Z){if(Z.size>5*1024*1024){i("File too large","File size must be less than 5MB");return}if(!Z.type.startsWith("image/")){i("Invalid file type","Please select an image file");return}await Ut(Z,512,512,.8);const lt=new FileReader;lt.onload=async _e=>{var Vt;const Qe=(Vt=_e.target)==null?void 0:Vt.result;try{console.log("🔄 Updating profile picture...");const Re=await wf({profilePicture:Qe});console.log("✅ Profile picture updated successfully:",Re),n({...Re,id:String(Re.id)}),he(De=>({...De,profilePicture:Re.profilePicture||""})),Q(De=>({...De,profilePicture:Re.profilePicture||""})),o("Profile picture updated","Your profile picture has been updated successfully!")}catch(Re){console.error("❌ Failed to update profile picture:",Re),i("Update failed","Failed to update profile picture. Please try again.")}},lt.readAsDataURL(Z)}},_t=async()=>{if(t){w(!0);try{const J={};if(H.username!==t.username&&(J.username=H.username),H.description!==te.description&&(J.description=H.description),Object.keys(J).length>0){console.log("🔄 Updating profile with data:",J);const Z=await wf(J);console.log("✅ Profile updated successfully:",Z),n({...Z,id:String(Z.id)}),he(Xe=>({...Xe,username:Z.username,description:Z.description||""})),Q(Xe=>({...Xe,username:Z.username,description:Z.description||""})),o("Profile updated","Your profile has been updated successfully!")}else l("No changes","No changes were made to save.");d(!1)}catch(J){console.error("❌ Failed to update profile:",J);let Z="Failed to update profile. Please try again.";J instanceof Error&&(J.message.includes("Username is already taken")?Z="Username is already taken. Please choose a different one.":J.message.includes("Username must be between")?Z="Username must be between 3 and 50 characters.":J.message.includes("Username can only contain")?Z="Username can only contain letters, numbers, and underscores.":Z=J.message),i("Update failed",Z)}finally{w(!1)}}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:[r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"xsm-card text-center mb-6",children:[r.jsxs("div",{className:"w-24 h-24 rounded-full mx-auto mb-4 flex items-center justify-center relative",children:[r.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-green-400 animate-pulse"}),r.jsx("div",{className:"w-[90px] h-[90px] rounded-full overflow-hidden relative",children:(f?H.profilePicture:te.profilePicture)?r.jsx("img",{src:f?H.profilePicture:te.profilePicture,alt:te.username,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(ut,{className:"w-12 h-12 text-xsm-black"})})}),r.jsxs("div",{className:"absolute bottom-0 right-0 bg-xsm-yellow hover:bg-yellow-500 rounded-full p-1.5 cursor-pointer transition-colors group",children:[r.jsx(ON,{className:"w-4 h-4 text-xsm-black"}),r.jsx("input",{type:"file",accept:"image/*",onChange:We,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",title:"Change profile picture"})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:te.username}),r.jsx("p",{className:"text-xsm-light-gray mb-2",children:te.email}),r.jsx("p",{className:"text-sm text-xsm-medium-gray mb-4",children:h(te.joinDate)}),r.jsxs("div",{className:"text-xs text-green-400 flex items-center justify-center gap-1 mb-4",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{children:"Active now"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow",children:"Profile Information"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>{l("Feature coming soon","Pin Your Listing feature will be available soon!")},className:"xsm-button-secondary flex items-center space-x-1 text-xs px-3 py-2",title:"Pin Your Listing",children:[r.jsx(Ho,{className:"w-3 h-3"}),r.jsx("span",{children:"Pin"})]}),r.jsxs("button",{onClick:()=>{l("Feature coming soon","Get Membership feature will be available soon!")},className:"xsm-button-secondary flex items-center space-x-1 text-xs px-3 py-2",title:"Get Membership",children:[r.jsx(WN,{className:"w-3 h-3"}),r.jsx("span",{children:"Premium"})]}),r.jsxs("button",{onClick:()=>{b(!0),y("username"),N({username:te.username,email:te.email}),S({currentPassword:"",newPassword:"",confirmPassword:""})},className:"xsm-button-secondary flex items-center space-x-1 text-xs px-3 py-2",title:"Settings",children:[r.jsx(ey,{className:"w-3 h-3"}),r.jsx("span",{children:"Settings"})]})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:f?H.description:te.description,onChange:J=>Q({...H,description:J.target.value}),disabled:!f,className:`xsm-input w-full min-h-[120px] resize-y pr-12 ${f?"":"opacity-60"}`,placeholder:"Tell others about yourself...",maxLength:500}),f?r.jsxs("div",{className:"absolute top-3 right-3 flex space-x-1",children:[r.jsx("button",{onClick:_t,disabled:p,className:`text-gray-400 hover:text-green-400 transition-colors p-1 ${p?"opacity-50 cursor-not-allowed":""}`,title:"Save Changes",children:p?r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.jsx(Nd,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{d(!1),Q({username:te.username,email:te.email,profilePicture:te.profilePicture,description:te.description})},disabled:p,className:"text-gray-400 hover:text-red-400 transition-colors p-1",title:"Cancel",children:r.jsx(Ie,{className:"w-4 h-4"})})]}):r.jsx("button",{onClick:()=>{d(!0),Q({username:te.username,email:te.email,profilePicture:te.profilePicture,description:te.description})},className:"absolute top-3 right-3 text-gray-400 hover:text-xsm-yellow transition-colors p-1",title:"Edit Profile",children:r.jsx(ua,{className:"w-4 h-4"})})]}),f&&r.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[((Bt=H.description)==null?void 0:Bt.length)||0,"/500 characters"]})]})})]}),r.jsx("div",{className:"xsm-card",children:r.jsx(Pv,{})})]})]})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-yellow/20 p-4 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-xsm-yellow",children:"Settings"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex space-x-1 mb-4 bg-xsm-black/50 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>{y("username"),N({...v,username:te.username})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${g==="username"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Username"}),r.jsx("button",{onClick:()=>{y("email"),N({...v,email:te.email})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${g==="email"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Email"}),r.jsx("button",{onClick:()=>{y("password"),S({currentPassword:"",newPassword:"",confirmPassword:""})},className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${g==="password"?"bg-xsm-yellow text-xsm-black":"text-gray-400 hover:text-white"}`,children:"Password"})]}),r.jsxs("div",{className:"min-h-[180px]",children:[g==="username"&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Username"}),r.jsx("input",{type:"text",value:te.username,disabled:!0,className:"xsm-input w-full opacity-60 text-sm"})]}),r.jsx("div",{className:"text-sm text-yellow-400 bg-yellow-400/10 p-3 rounded-lg border border-yellow-400/20",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-yellow-400",children:"⚠️"}),r.jsx("span",{children:"Username cannot be changed"})]})})]}),g==="email"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(B6,{onCooldownEnd:()=>I(!1),onCooldownStatusChange:I,className:"mb-2"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Current Email"}),r.jsx("input",{type:"email",value:te.email,disabled:!0,className:"xsm-input w-full opacity-60 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"New Email"}),r.jsx("input",{type:"email",value:v.email,onChange:J=>N({...v,email:J.target.value}),disabled:U,className:`xsm-input w-full text-sm ${U?"opacity-50 cursor-not-allowed":""}`,placeholder:U?"Email change is on cooldown":"Enter new email address"})]}),r.jsx("div",{className:"text-sm text-gray-400",children:U?"You must wait 15 days between email changes for security reasons.":"You will need to verify your new email address before the change takes effect."})]}),g==="password"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx(V6,{onCooldownEnd:()=>D(!1),onCooldownStatusChange:D,className:"mb-2"}),(t==null?void 0:t.authProvider)==="google"&&r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 mb-3",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-1 text-sm",children:"Google Account"}),r.jsx("p",{className:"text-white text-xs mb-1",children:"You signed in with Google. You can set a password to enable email/password login as an alternative to Google sign-in."}),r.jsx("p",{className:"text-xsm-light-gray text-xs",children:"Setting a password won't affect your Google sign-in - you'll be able to use both methods."})]}),(t==null?void 0:t.authProvider)!=="google"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-1 text-sm",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:k?"text":"password",value:E.currentPassword,onChange:J=>S({...E,currentPassword:J.target.value}),disabled:W,className:`xsm-input w-full text-sm pr-12 ${W?"opacity-50 cursor-not-allowed":""}`,placeholder:W?"Password change is on cooldown":"Enter current password",autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>$(!k),disabled:W,className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors ${W?"opacity-50 cursor-not-allowed":""}`,children:k?r.jsx(Jr,{className:"w-5 h-5"}):r.jsx(nt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:((t==null?void 0:t.authProvider)==="google","New Password")}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:z?"text":"password",value:E.newPassword,onChange:J=>S({...E,newPassword:J.target.value}),disabled:W,className:`xsm-input w-full pr-12 ${W?"opacity-50 cursor-not-allowed":""}`,placeholder:W?"Password change is on cooldown":(t==null?void 0:t.authProvider)==="google"?"Enter a password (min 6 characters)":"Enter new password",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>G(!z),disabled:W,className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors ${W?"opacity-50 cursor-not-allowed":""}`,children:z?r.jsx(Jr,{className:"w-5 h-5"}):r.jsx(nt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:X?"text":"password",value:E.confirmPassword,onChange:J=>S({...E,confirmPassword:J.target.value}),disabled:W,className:`xsm-input w-full pr-12 ${W?"opacity-50 cursor-not-allowed":""}`,placeholder:W?"Password change is on cooldown":"Confirm new password",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>ne(!X),disabled:W,className:`absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors ${W?"opacity-50 cursor-not-allowed":""}`,children:X?r.jsx(Jr,{className:"w-5 h-5"}):r.jsx(nt,{className:"w-5 h-5"})})]})]}),r.jsx("div",{className:"text-sm text-gray-400",children:W?"You must wait 48 hours between password changes for security reasons.":"Password must be at least 6 characters long."})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:async()=>{try{if(w(!0),g==="username"){l("Username locked","Username cannot be changed for security reasons.");return}else if(g==="email"){if(U){c("Email change on cooldown","Please wait for the cooldown period to end before changing your email again.");return}if(v.email===te.email){l("No changes","Email is the same as current. No changes to save.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)){i("Invalid email","Please enter a valid email address.");return}const J=await W2(v.email);F(J.pendingEmail),A(J.verificationToken||"temp-token"),j(!0),b(!1),o("Verification email sent","Please check your current email address for the verification code.")}else if(g==="password"){if(W){c("Password change on cooldown","Please wait for the cooldown period to end before changing your password again.");return}if(E.newPassword!==E.confirmPassword){i("Password mismatch","New passwords do not match!");return}if(!E.newPassword){i("Missing password","Please enter a new password!");return}if(E.newPassword.length<6){i("Password too short","New password must be at least 6 characters long!");return}const J=localStorage.getItem("token"),Z=await fetch(`${W6()}/user/profile`,{headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}});if(!Z.ok)throw new Error("Failed to fetch user profile");const lt=(await Z.json()).user,_e=(lt==null?void 0:lt.authProvider)==="google";if(!_e&&!E.currentPassword){i("Current password required","Please enter your current password!");return}const Qe=await Y2(_e?"":E.currentPassword,E.newPassword);M(Qe.email),_(Qe.verificationToken),V(Qe.isGoogleUser),B(!0),b(!1),o("Verification email sent","Please check your email for the verification code.")}b(!1)}catch(J){console.error("❌ Failed to update settings:",J);let Z="Failed to update settings. Please try again.";g==="password"&&J instanceof Error?J.message.includes("Current password is incorrect")?Z="Current password is incorrect.":J.message.includes("must be at least 6 characters")?Z="New password must be at least 6 characters long.":J.message.includes('Google OAuth. Please use "Sign in with Google"')?Z='This account was created with Google OAuth. Please use "Sign in with Google" instead. To set a password for email login, leave the current password field empty.':J.message.includes("Google account users don't have a current password")?Z="For Google accounts, leave current password empty to set a new password.":Z=J.message:J instanceof Error&&(Z=J.message),i("Update failed",Z)}finally{w(!1)}},disabled:p||g==="email"&&U||g==="password"&&W||g==="username",className:`xsm-button flex items-center space-x-2 ${p||g==="email"&&U||g==="password"&&W||g==="username"?"opacity-50 cursor-not-allowed":""}`,children:p?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:g==="password"?(t==null?void 0:t.authProvider)==="google"?"Setting Password...":"Changing Password...":"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Nd,{className:"w-4 h-4"}),r.jsx("span",{children:g==="password"?(t==null?void 0:t.authProvider)==="google"?"Set Password":"Change Password":"Save Changes"})]})}),r.jsxs("button",{onClick:()=>b(!1),disabled:p,className:"xsm-button-secondary flex items-center space-x-2",children:[r.jsx(Ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Cancel"})]})]})]})}),r.jsx(z6,{isOpen:C,onClose:()=>j(!1),onSuccess:J=>{he(Z=>({...Z,email:J})),n(Z=>Z&&{...Z,email:J}),N(Z=>({...Z,email:J})),F(""),A("")},currentEmail:(t==null?void 0:t.email)||"",newEmail:L,verificationToken:T}),r.jsx(U6,{isOpen:O,onClose:()=>B(!1),onSuccess:()=>{S({currentPassword:"",newPassword:"",confirmPassword:""}),M(""),_("")},email:P,verificationToken:q,isGoogleUser:R})]})},G6=()=>"https://xsmmarket.com/api",Yf=G6(),Y6=({userId:e,username:t})=>{const s=Fe(),{user:n,isLoggedIn:a}=Me(),{showError:o,showSuccess:i}=Ls(),[l,c]=u.useState([]),[m,h]=u.useState(!0),[f,d]=u.useState(null);u.useEffect(()=>{p()},[e]);const p=async()=>{try{h(!0),d(null);const y=await fetch(`${Yf}/ads/user/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!y.ok)throw new Error("Failed to fetch listings");const v=await y.json();v.success?c(v.data||[]):d(v.message||"Failed to load listings")}catch(y){console.error("Error fetching public ads:",y),d("Failed to load listings")}finally{h(!1)}},w=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),x=y=>y>=1e6?`${(y/1e6).toFixed(1)}M`:y>=1e3?`${(y/1e3).toFixed(1)}K`:y.toString(),b=y=>({youtube:r.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),instagram:r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),tiktok:r.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})})}),facebook:r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),twitter:r.jsx("div",{className:"w-6 h-6 bg-blue-400 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})})})[y.toLowerCase()]||r.jsx("div",{className:"w-6 h-6 bg-gray-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})})});if(m)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Loading listings..."})]});if(f)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-xsm-medium-gray rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(nt,{className:"w-8 h-8 text-xsm-light-gray"})}),r.jsx("p",{className:"text-red-400 mb-2",children:"Failed to load listings"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:f}),r.jsx("button",{onClick:p,className:"mt-4 bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors",children:"Try Again"})]});if(l.length===0)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(nt,{className:"w-12 h-12 text-xsm-light-gray mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray text-lg mb-2",children:"No listings yet"}),r.jsxs("p",{className:"text-xsm-medium-gray text-sm",children:[t," hasn't created any listings yet."]})]});const g=async y=>{if(!a){o("Please log in to contact sellers"),s("/login");return}if(!n){o("User not authenticated");return}try{const v=await fetch(`${Yf}/chat/chats`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({participantId:e,type:"direct",adId:y.id})});if(!v.ok)throw new Error("Failed to create chat");const N=await v.json();i(`Chat started with ${t}`),s(`/chat?chatId=${N.id}`)}catch(v){console.error("Error creating chat:",v),o("Failed to start chat. Please try again.")}};return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:l.map(y=>r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3 border border-xsm-medium-gray/20 shadow-sm flex flex-col items-center hover:border-xsm-yellow/30 transition-colors w-full max-w-[240px] mx-auto",children:[r.jsxs("div",{className:"relative mb-2 flex items-center",children:[r.jsx("div",{className:"absolute -left-4 -top-0",children:b(y.platform)}),r.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border-2 border-xsm-medium-gray/30",children:r.jsx("img",{src:"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})})]}),r.jsx("h4",{className:"text-white font-semibold text-xs text-center mb-0.5 truncate w-full",children:y.title}),r.jsx("div",{className:"text-center mb-0.5",children:r.jsxs("span",{className:"text-blue-400 font-medium text-xs",children:["Subscribers: ",x(y.subscribers)]})}),r.jsx("div",{className:"text-center mb-0.5",children:r.jsxs("span",{className:"text-xsm-yellow font-semibold text-xs",children:["Price: ",w(y.price)]})}),r.jsx("div",{className:"text-center mb-1.5",children:r.jsxs("span",{className:`text-xs ${y.isMonetized?"text-green-400":"text-red-400"}`,children:["Monetization: ",y.isMonetized?"Yes":"No"]})}),r.jsx("div",{className:"flex items-center justify-center space-x-1 mt-auto",children:r.jsx("button",{onClick:()=>g(y),className:"bg-xsm-yellow text-black px-3 py-1.5 rounded-lg hover:bg-yellow-500 transition-colors text-xs font-medium",children:"Contact Seller"})})]},y.id))})},q6=()=>{const{username:e}=Bu(),t=Fe(),{user:s,isLoggedIn:n}=Me(),{showError:a}=Ls(),[o,i]=u.useState(null),[l,c]=u.useState(!0),[m,h]=u.useState(null),f=n&&(s==null?void 0:s.username)===e;u.useEffect(()=>{if(!e){h("Username not provided"),c(!1);return}if(f){t("/profile/edit");return}d()},[e,f,t]);const d=async()=>{try{c(!0),h(null);const x=await fy(e);x.success?i(x.data):h(x.message||"Failed to load profile")}catch(x){console.error("Error fetching public profile:",x),x instanceof Error?(h(x.message),x.message!=="User not found"&&a("Failed to load profile")):(h("Failed to load profile. Please try again."),a("Failed to load profile"))}finally{c(!1)}},p=x=>{if(!x)return"Recently joined";try{const b=new Date(x),y=Math.abs(new Date().getTime()-b.getTime()),v=Math.ceil(y/(1e3*60*60*24)),N=Math.floor(v/7),E=Math.floor(v/30),S=Math.floor(v/365);return v<1?"Today":v===1?"1 day ago":v<7?`${v} days ago`:N===1?"1 week ago":N<4?`${N} weeks ago`:E===1?"1 month ago":E<12?`${E} months ago`:S===1?"1 year ago":`${S} years ago`}catch{return"Unknown"}},w=()=>{t("/profile/edit")};return l?r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Loading profile..."})]})}):m||!o?r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("div",{className:"w-16 h-16 bg-xsm-medium-gray rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ut,{className:"w-8 h-8 text-xsm-light-gray"})}),r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Profile Not Found"}),r.jsx("p",{className:"text-xsm-light-gray mb-6",children:m||"The user you're looking for doesn't exist."}),r.jsx("button",{onClick:()=>t("/"),className:"bg-xsm-yellow text-black px-6 py-2 rounded-lg hover:bg-yellow-500 transition-colors",children:"Go Home"})]})}):r.jsx("div",{className:"min-h-screen bg-xsm-black text-white py-8",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl p-6 shadow-lg border border-xsm-medium-gray/30",children:[r.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[r.jsx("div",{className:"w-full h-full rounded-full bg-xsm-yellow flex items-center justify-center overflow-hidden ring-4 ring-xsm-yellow/20",children:o.profilePicture?r.jsx("img",{src:o.profilePicture,alt:`${o.username}'s profile`,className:"w-full h-full object-cover",onError:x=>{const b=x.target;b.style.display="none";const g=b.parentElement;g&&(g.innerHTML='<UserIcon className="w-16 h-16 text-black" />')}}):r.jsx(ut,{className:"w-16 h-16 text-black"})}),f&&r.jsx("button",{onClick:w,className:"absolute bottom-0 right-0 bg-xsm-yellow text-black p-2 rounded-full hover:bg-yellow-500 transition-colors shadow-lg",title:"Edit Profile",children:r.jsx(ua,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:o.fullName||o.username}),o.isEmailVerified&&r.jsxs("div",{className:"inline-flex items-center gap-1 bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Verified"]})]}),f&&r.jsx("div",{className:"mb-6",children:r.jsxs("button",{onClick:w,className:"w-full bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(ua,{className:"w-4 h-4"}),"Edit Profile"]})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Member since"}),r.jsxs("span",{className:"text-white flex items-center gap-1",children:[r.jsx(qu,{className:"w-4 h-4"}),p(o.createdAt)]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Active listings"}),r.jsx("span",{className:"text-xsm-yellow font-bold",children:o.adCount||0})]})]}),!n&&r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-xsm-light-gray text-sm mb-3",children:"Join XSM Market to connect with sellers"}),r.jsx("button",{onClick:()=>t("/signup"),className:"w-full bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Sign Up"})]})]})}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[(o.description||f)&&r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl p-6 shadow-lg border border-xsm-medium-gray/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"About"}),f&&r.jsx("button",{onClick:w,className:"text-xsm-light-gray hover:text-white transition-colors",title:"Edit Description",children:r.jsx(ua,{className:"w-4 h-4"})})]}),o.description?r.jsx("p",{className:"text-xsm-light-gray leading-relaxed whitespace-pre-wrap",children:o.description}):f?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-xsm-light-gray mb-4",children:"Tell others about yourself..."}),r.jsx("button",{onClick:w,className:"bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors",children:"Add Description"})]}):r.jsx("p",{className:"text-xsm-light-gray italic",children:"This user hasn't added a description yet."})]}),r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl p-6 shadow-lg border border-xsm-medium-gray/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:f?"My Listings":`${o.username}'s Listings`}),r.jsx("span",{className:"text-xsm-light-gray bg-xsm-medium-gray px-3 py-1 rounded-full text-sm",children:o.adCount||0})]}),f?r.jsx(Pv,{}):r.jsx(Y6,{userId:o.id,username:o.username})]})]})]})})})},K6=()=>{const e=Fe(),{user:t,isLoggedIn:s}=Me();return u.useEffect(()=>{s&&(t!=null&&t.username)?e(`/u/${t.username}`,{replace:!0}):e("/login",{replace:!0})},[s,t,e]),r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Redirecting to your profile..."})]})})},X6=()=>{const{possibleUsername:e}=Bu(),t=Fe();return u.useState(!0),u.useEffect(()=>{(async()=>{if(!e){t("/404",{replace:!0});return}if(["api","admin","assets","static","public","images","favicon","robots","sitemap","manifest"].includes(e.toLowerCase())){t("/404",{replace:!0});return}if(!/^[a-zA-Z0-9_]{3,50}$/.test(e)){t("/404",{replace:!0});return}try{await fy(e),t(`/u/${e}`,{replace:!0})}catch{t("/404",{replace:!0})}})()},[e,t]),r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Checking profile..."})]})})},qf=()=>{const e=Fe(),t=In();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[r.jsx("div",{className:"w-24 h-24 bg-xsm-medium-gray rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ls,{className:"w-12 h-12 text-xsm-yellow"})}),r.jsx("h1",{className:"text-4xl font-bold mb-4 text-xsm-yellow",children:"404"}),r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-xsm-light-gray mb-8 leading-relaxed",children:"The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>e("/"),className:"w-full bg-xsm-yellow text-black px-6 py-3 rounded-lg hover:bg-yellow-500 transition-colors font-medium flex items-center justify-center gap-2",children:[r.jsx(YN,{className:"w-5 h-5"}),"Go Home"]}),r.jsx("button",{onClick:()=>e(-1),className:"w-full bg-xsm-medium-gray hover:bg-xsm-light-gray/20 text-white px-6 py-3 rounded-lg transition-colors font-medium",children:"Go Back"})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-xsm-medium-gray/30",children:[r.jsx("p",{className:"text-sm text-xsm-medium-gray mb-3",children:"Looking for something specific?"}),r.jsxs("div",{className:"flex justify-center space-x-4 text-sm",children:[r.jsx("button",{onClick:()=>e("/about"),className:"text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"About Us"}),r.jsx("button",{onClick:()=>e("/contact"),className:"text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Contact"}),r.jsx("button",{onClick:()=>e("/sell"),className:"text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:"Start Selling"})]})]})]})})},Q6=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-xsm-yellow mb-6",children:"About XSM Market"}),r.jsx("p",{className:"text-xl md:text-2xl text-white max-w-4xl mx-auto leading-relaxed",children:"The world's most trusted marketplace for buying and selling YouTube channels. We connect content creators with investors through secure, escrow-protected transactions."})]}),r.jsxs("div",{className:"xsm-card mb-16 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-6",children:"Our Mission"}),r.jsx("p",{className:"text-lg text-white leading-relaxed max-w-4xl mx-auto",children:"To revolutionize the digital asset marketplace by providing a secure, transparent, and efficient platform for YouTube channel trading. We believe in empowering creators to monetize their hard work while helping investors discover profitable opportunities in the creator economy."})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"Why Choose XSM Market?"}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Nt,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Secure Escrow"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Every transaction is protected by our escrow service. Funds are held securely until the channel transfer is complete and verified."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Nn,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Verified Sellers"}),r.jsx("p",{className:"text-xsm-light-gray",children:"All sellers go through our verification process. We validate channel ownership and performance metrics before listings go live."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Ju,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Instant Transfers"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our streamlined process ensures quick channel transfers. Most transactions are completed within 24-48 hours."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(LN,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Premium Support"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our expert team provides 24/7 support throughout the entire transaction process, ensuring smooth deals for both parties."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Ra,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Market Analytics"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Access comprehensive analytics and market insights to make informed decisions about channel valuations and investments."})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Xu,{className:"w-16 h-16 text-xsm-yellow mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Privacy Protection"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Your personal information and transaction details are protected with enterprise-grade security and encryption."})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"How It Works"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"For Sellers"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"List Your Channel"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Submit your channel details and analytics for review"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Verification Process"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Our team verifies your channel ownership and metrics"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Go Live"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Your channel appears on our marketplace for buyers"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Secure Sale"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Complete the sale through our escrow system"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-6 text-center",children:"For Buyers"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"1"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Browse Channels"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Explore verified channels using our advanced filters"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"2"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Due Diligence"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Review analytics, contact sellers, and ask questions"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"3"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Initiate Purchase"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Pay the escrow fee to start the secure transaction process"})]})]}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow text-xsm-black rounded-full flex items-center justify-center font-bold flex-shrink-0",children:"4"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-semibold",children:"Receive Channel"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Get full ownership once the transfer is verified"})]})]})]})]})]})]}),r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-12 text-center",children:"Our Impact"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"$2.5M+"}),r.jsx("div",{className:"text-white font-medium",children:"Total Transactions"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"500+"}),r.jsx("div",{className:"text-white font-medium",children:"Channels Sold"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"1,200+"}),r.jsx("div",{className:"text-white font-medium",children:"Happy Users"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:"99.8%"}),r.jsx("div",{className:"text-white font-medium",children:"Success Rate"})]})]})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-xsm-yellow mb-8",children:"Our Values"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Transparency"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We believe in clear communication and honest dealings. All fees, processes, and policies are transparent."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Security"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Your safety is our priority. We use industry-leading security measures to protect your transactions."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Innovation"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We continuously improve our platform with cutting-edge technology and user feedback."})]})]})]})]})}),J6=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Terms and Conditions"}),r.jsx("p",{className:"text-xl text-white",children:"Please read these terms carefully before using XSM Market"}),r.jsx("div",{className:"text-sm text-xsm-light-gray mt-4",children:"Last updated: June 26, 2025"})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(br,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Introduction"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:'Welcome to XSM Market ("we," "our," or "us"). These Terms and Conditions ("Terms") govern your use of our website and services for buying and selling YouTube channels.'}),r.jsx("p",{children:"By accessing or using our platform, you agree to be bound by these Terms. If you disagree with any part of these terms, you may not access our service."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Service Description"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"XSM Market is a marketplace platform that facilitates the buying and selling of YouTube channels between users. We provide:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"A platform for listing YouTube channels for sale"}),r.jsx("li",{children:"Escrow services to secure transactions"}),r.jsx("li",{children:"Verification services for channel authenticity"}),r.jsx("li",{children:"Communication tools between buyers and sellers"}),r.jsx("li",{children:"Transaction facilitation and support"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"User Responsibilities"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"For Sellers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"You must own the YouTube channel you're selling"}),r.jsx("li",{children:"Provide accurate and truthful information about your channel"}),r.jsx("li",{children:"Ensure compliance with YouTube's Terms of Service"}),r.jsx("li",{children:"Transfer full ownership rights upon completion of sale"}),r.jsx("li",{children:"Cooperate with our verification process"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"For Buyers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Conduct due diligence before purchasing"}),r.jsx("li",{children:"Pay all required fees and charges"}),r.jsx("li",{children:"Comply with YouTube's Terms of Service post-purchase"}),r.jsx("li",{children:"Use our escrow system for all transactions"}),r.jsx("li",{children:"Report any issues promptly to our support team"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Transaction Process"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Escrow Process"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Buyer pays 7.5% admin fee to initiate transaction"}),r.jsx("li",{children:"Seller transfers channel ownership to XSM Market"}),r.jsx("li",{children:"XSM Market verifies channel transfer and ownership"}),r.jsx("li",{children:"Buyer pays remaining amount to seller"}),r.jsx("li",{children:"XSM Market transfers channel to buyer"}),r.jsx("li",{children:"Transaction is completed and rated"})]})]}),r.jsx("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(tn,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-white font-semibold mb-1",children:"Important:"}),r.jsx("p",{className:"text-xsm-light-gray",children:"All transactions must go through our escrow system. Direct payments between users are prohibited and not protected."})]})]})})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Fees and Payments"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Fee Structure"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Admin fee: 7.5% of transaction value (paid by buyer to initiate)"}),r.jsx("li",{children:"Listing fee: Free for basic listings, premium options available"}),r.jsx("li",{children:"Payment processing fees as applicable"}),r.jsx("li",{children:"All fees are non-refundable unless transaction fails due to our error"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Payment Methods"}),r.jsx("p",{className:"text-xsm-light-gray",children:"We accept major credit cards, PayPal, and bank transfers. All payments are processed securely through encrypted channels."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Prohibited Activities"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Users are strictly prohibited from:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Selling channels you don't own or have rights to"}),r.jsx("li",{children:"Providing false or misleading information"}),r.jsx("li",{children:"Bypassing our escrow system"}),r.jsx("li",{children:"Harassing other users"}),r.jsx("li",{children:"Engaging in fraudulent activities"}),r.jsx("li",{children:"Violating YouTube's Terms of Service"}),r.jsx("li",{children:"Creating multiple accounts to circumvent restrictions"}),r.jsx("li",{children:"Attempting to manipulate ratings or reviews"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(ZN,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Dispute Resolution"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"In case of disputes between buyers and sellers, XSM Market will act as a mediator. Our decision in disputes is final and binding."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Dispute Process"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Report the issue through our support system"}),r.jsx("li",{children:"Provide all relevant documentation and evidence"}),r.jsx("li",{children:"Our team will investigate within 48 hours"}),r.jsx("li",{children:"Both parties will be contacted for statements"}),r.jsx("li",{children:"A resolution will be provided within 5 business days"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Nt,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Liability and Warranties"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Disclaimers"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:'We provide the platform "as is" without warranties'}),r.jsx("li",{children:"We don't guarantee channel performance post-sale"}),r.jsx("li",{children:"Users are responsible for compliance with YouTube policies"}),r.jsx("li",{children:"We're not liable for indirect or consequential damages"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Limitation of Liability"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Our total liability for any claims related to the service shall not exceed the total fees paid by you in the 12 months preceding the claim."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Privacy and Data Protection"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Your privacy is important to us. We collect and use your information as described in our Privacy Policy. By using our service, you consent to the collection and use of your information in accordance with our Privacy Policy."}),r.jsx("p",{className:"text-xsm-light-gray",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Account Termination"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time for violation of these Terms or for any other reason we deem appropriate."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Reasons for Termination"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Violation of Terms and Conditions"}),r.jsx("li",{children:"Fraudulent or illegal activities"}),r.jsx("li",{children:"Repeated policy violations"}),r.jsx("li",{children:"Non-payment of fees"}),r.jsx("li",{children:"Harassment of other users"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Changes to Terms"}),r.jsx("div",{className:"text-white space-y-4",children:r.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of significant changes via email or platform notification. Continued use of the service after changes constitutes acceptance of the new terms."})})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"If you have any questions about these Terms and Conditions, please contact us:"}),r.jsxs("div",{className:"text-xsm-light-gray",children:[r.jsx("p",{children:"Email: legal@xsmmarket.com"}),r.jsx("p",{children:"Phone: +1 (555) 123-4567"}),r.jsx("p",{children:"Address: 123 Digital Ave, Tech City, TC 12345, United States"})]})]})]})]})]})}),Z6=()=>r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Privacy Policy"}),r.jsx("p",{className:"text-xl text-white",children:"Your privacy is our priority. Learn how we collect, use, and protect your information."}),r.jsx("div",{className:"text-sm text-xsm-light-gray mt-4",children:"Last updated: June 26, 2025"})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Nt,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Introduction"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:'XSM Market ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our website and services.'}),r.jsx("p",{children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(HN,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Information We Collect"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Personal Information"}),r.jsx("p",{className:"text-xsm-light-gray mb-3",children:"We may collect personally identifiable information that you voluntarily provide to us when you:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"Register for an account"}),r.jsx("li",{children:"List a YouTube channel for sale"}),r.jsx("li",{children:"Make a purchase"}),r.jsx("li",{children:"Contact our support team"}),r.jsx("li",{children:"Subscribe to our newsletter"}),r.jsx("li",{children:"Participate in surveys or promotions"})]}),r.jsxs("div",{className:"mt-4 bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-white font-semibold mb-2",children:"This may include:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-xsm-light-gray",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"Name and contact information"}),r.jsx("li",{children:"Email address and phone number"}),r.jsx("li",{children:"Billing and payment information"}),r.jsx("li",{children:"Account credentials"})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:"YouTube channel information"}),r.jsx("li",{children:"Transaction history"}),r.jsx("li",{children:"Communication records"}),r.jsx("li",{children:"Profile preferences"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Automatically Collected Information"}),r.jsx("p",{className:"text-xsm-light-gray mb-3",children:"When you visit our website, we may automatically collect certain information about your device and usage patterns:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray ml-4",children:[r.jsx("li",{children:"IP address and location data"}),r.jsx("li",{children:"Browser type and version"}),r.jsx("li",{children:"Operating system information"}),r.jsx("li",{children:"Pages visited and time spent on site"}),r.jsx("li",{children:"Referring website information"}),r.jsx("li",{children:"Cookies and tracking technologies"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(nt,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"How We Use Your Information"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We use the information we collect for the following purposes:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Service Provision"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Create and manage user accounts"}),r.jsx("li",{children:"Process transactions and payments"}),r.jsx("li",{children:"Facilitate channel transfers"}),r.jsx("li",{children:"Provide customer support"}),r.jsx("li",{children:"Verify user identity and prevent fraud"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Platform Improvement"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Analyze usage patterns and trends"}),r.jsx("li",{children:"Improve website functionality"}),r.jsx("li",{children:"Develop new features and services"}),r.jsx("li",{children:"Conduct research and analytics"}),r.jsx("li",{children:"Optimize user experience"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Communication"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Send transaction notifications"}),r.jsx("li",{children:"Provide account updates"}),r.jsx("li",{children:"Share promotional content (with consent)"}),r.jsx("li",{children:"Respond to inquiries and support requests"}),r.jsx("li",{children:"Send security alerts"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Legal Compliance"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Comply with legal obligations"}),r.jsx("li",{children:"Enforce our Terms of Service"}),r.jsx("li",{children:"Investigate suspected violations"}),r.jsx("li",{children:"Cooperate with law enforcement"}),r.jsx("li",{children:"Protect our rights and interests"})]})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Nn,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Information Sharing and Disclosure"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We do not sell, rent, or trade your personal information to third parties. However, we may share your information in the following circumstances:"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Service Providers"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may share information with trusted third-party service providers who assist us in operating our platform, such as payment processors, hosting providers, and analytics services."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Legal Requirements"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may disclose information when required by law, court order, or government regulation, or when we believe disclosure is necessary to protect our rights or comply with legal obligations."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Business Transfers"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the business transaction."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"User Consent"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We may share information with your explicit consent or at your direction, such as when you choose to share information with other users through our platform."})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(Xu,{className:"w-6 h-6 text-xsm-yellow"}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow",children:"Data Security"})]}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Security Measures Include:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"SSL/TLS encryption for data transmission"}),r.jsx("li",{children:"Encrypted storage of sensitive information"}),r.jsx("li",{children:"Regular security audits and assessments"}),r.jsx("li",{children:"Access controls and authentication systems"})]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Employee training on data protection"}),r.jsx("li",{children:"Incident response and breach notification procedures"}),r.jsx("li",{children:"Regular software updates and patches"}),r.jsx("li",{children:"Third-party security certifications"})]})]})]}),r.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(ls,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-white font-semibold mb-1",children:"Important Note:"}),r.jsx("p",{className:"text-xsm-light-gray",children:"While we strive to protect your information, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security but are committed to protecting your data using industry best practices."})]})]})})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Your Rights and Choices"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"You have certain rights regarding your personal information:"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Access and Portability"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Request access to your personal data"}),r.jsx("li",{children:"Obtain a copy of your information"}),r.jsx("li",{children:"Request data portability"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Correction and Deletion"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Correct inaccurate information"}),r.jsx("li",{children:"Request deletion of your data"}),r.jsx("li",{children:"Withdraw consent for processing"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Communication Preferences"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Opt-out of marketing communications"}),r.jsx("li",{children:"Choose notification preferences"}),r.jsx("li",{children:"Update contact information"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Account Management"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm",children:[r.jsx("li",{children:"Update account settings"}),r.jsx("li",{children:"Delete your account"}),r.jsx("li",{children:"Control privacy settings"})]})]})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 mt-6",children:[r.jsx("p",{className:"text-sm text-white font-semibold mb-2",children:"To exercise your rights:"}),r.jsx("p",{className:"text-sm text-xsm-light-gray",children:"Contact us at privacy@xsmmarket.com or through your account settings. We will respond to your request within 30 days."})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Cookies and Tracking Technologies"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We use cookies and similar tracking technologies to enhance your browsing experience and collect information about how you use our website."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Types of Cookies We Use:"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Essential Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Required for basic website functionality and security"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Analytics Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Help us understand how visitors interact with our website"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Functional Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Remember your preferences and provide enhanced features"})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-3",children:[r.jsx("h4",{className:"text-white font-semibold text-sm mb-1",children:"Marketing Cookies"}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Used to deliver relevant advertisements (with your consent)"})]})]})]}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"You can control cookie preferences through your browser settings. However, disabling certain cookies may affect website functionality."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Data Retention"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We retain your personal information only as long as necessary to fulfill the purposes outlined in this privacy policy, unless a longer retention period is required by law."}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retention Periods:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm ml-4",children:[r.jsx("li",{children:"Account information: Until account deletion or 3 years of inactivity"}),r.jsx("li",{children:"Transaction records: 7 years for legal and tax purposes"}),r.jsx("li",{children:"Communication logs: 2 years from last contact"}),r.jsx("li",{children:"Analytics data: 2 years in anonymized form"}),r.jsx("li",{children:"Legal compliance data: As required by applicable law"})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"International Data Transfers"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this privacy policy."}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We comply with applicable data protection laws regarding international transfers, including implementing standard contractual clauses and ensuring adequate levels of protection."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Children's Privacy"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"Our service is not directed to children under the age of 13. We do not knowingly collect personal information from children under 13. If we discover that a child under 13 has provided us with personal information, we will delete such information immediately."}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Changes to This Privacy Policy"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"We may update this privacy policy from time to time to reflect changes in our practices or for legal, operational, or regulatory reasons. We will notify you of any material changes by:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-xsm-light-gray text-sm ml-4",children:[r.jsx("li",{children:"Posting the updated policy on our website"}),r.jsx("li",{children:"Sending email notifications to registered users"}),r.jsx("li",{children:"Displaying prominent notices on our platform"})]}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Your continued use of our service after the effective date of the revised policy constitutes acceptance of the changes."})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsxs("div",{className:"text-white space-y-4",children:[r.jsx("p",{children:"If you have any questions, concerns, or requests regarding this privacy policy or our data practices, please contact us:"}),r.jsx("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:r.jsxs("div",{className:"text-xsm-light-gray space-y-2",children:[r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Email:"})," privacy@xsmmarket.com"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Phone:"})," +1 (555) 123-4567"]}),r.jsxs("p",{children:[r.jsx("strong",{className:"text-white",children:"Mail:"})," XSM Market Privacy Team",r.jsx("br",{}),"123 Digital Ave",r.jsx("br",{}),"Tech City, TC 12345",r.jsx("br",{}),"United States"]})]})}),r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"We will respond to your inquiry within 30 days and work with you to resolve any privacy-related concerns."})]})]})]})]})}),Kf=()=>{const e=Fe(),[t,s]=u.useState(""),[n,a]=u.useState(""),[o,i]=u.useState(""),[l,c]=u.useState(!1),[m,h]=u.useState(!1),[f,d]=u.useState(null),p=u.useRef(null),{toast:w}=Pt(),{setIsLoggedIn:x,setUser:b}=Me(),g=S=>{d(S)},y=()=>{p.current&&p.current.reset(),d(null)},v=async S=>{if(S.preventDefault(),i(""),c(!0),!f){i("Please complete the reCAPTCHA verification"),w({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"}),c(!1);return}console.log("🚀 Starting login process...");try{const C=await uy(t,n,f);if(console.log("📡 Login response:",C),C.requiresVerification){console.log("⚠️ Email verification required, navigating to OTP screen"),localStorage.setItem("pendingVerificationEmail",C.email||t),w({variant:"destructive",title:"Email Verification Required",description:"Please verify your email using the OTP sent to your inbox."}),e("/email-verify"),c(!1);return}if(C.authProvider==="google"){console.log("⚠️ Google OAuth account detected"),i('This account was created with Google OAuth. Please use "Sign in with Google" instead.'),w({variant:"destructive",title:"Account Created with Google",description:"This account was created with Google OAuth. Please use 'Sign in with Google' instead."}),c(!1);return}if(C.user)console.log("✅ Login successful, setting auth state..."),x(!0),b(C.user),w({title:"Success!",description:"You have successfully logged in."}),console.log("🏠 Redirecting to home page..."),e("/");else throw new Error("Login succeeded but user data is missing")}catch(C){y(),console.error("❌ Login error:",C);const j=C instanceof Error?C.message:"Failed to login";j.includes("verify your email")?(localStorage.setItem("pendingVerificationEmail",t),w({variant:"destructive",title:"Email Verification Required",description:"Please verify your email using the OTP sent to your inbox."}),e("/email-verify")):(i(j),w({variant:"destructive",title:"Login Failed",description:j}))}finally{c(!1)}},N=async S=>{console.log("Google Sign-In Success:",S),c(!0),i("");try{if(!S.credential)throw new Error("No credential received from Google");const C=await rm(S.credential);if(C.user)x(!0),b(C.user),w({title:"Success!",description:`Welcome ${C.user.username}! You have successfully signed in with Google.`}),e("/");else throw new Error("Google sign-in succeeded but user data is missing")}catch(C){console.error("Google Sign-In Error:",C),i(C instanceof Error?C.message:"Failed to sign in with Google"),w({variant:"destructive",title:"Error",description:C instanceof Error?C.message:"Failed to sign in with Google"})}finally{c(!1)}},E=()=>{console.error("Google Sign-In Error: Authentication failed or was cancelled"),i("Google sign-in was cancelled or failed"),w({variant:"destructive",title:"Error",description:"Google sign-in was cancelled or failed"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-xsm-black py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs(_r,{className:"w-full max-w-md space-y-8 bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(Ps,{children:r.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-xsm-yellow",children:"Sign in to your account"})}),r.jsxs(Ts,{children:[o&&r.jsx(Lt,{variant:"destructive",className:"mb-6",children:r.jsx(Ot,{children:o})}),r.jsxs("form",{className:"space-y-6",onSubmit:v,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email address"}),r.jsx(ht,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:S=>s(S.target.value),className:"mt-1",placeholder:"Enter your email",disabled:l})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ht,{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:n,onChange:S=>a(S.target.value),className:"mt-1 pr-10",placeholder:"Enter your password",disabled:l}),r.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:l,children:m?r.jsx(Jr,{className:"h-4 w-4"}):r.jsx(nt,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"text-sm text-xsm-light-gray hover:text-xsm-yellow transition-colors",disabled:l,children:"Forgot your password?"})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(jm,{ref:p,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:g,theme:"dark"})}),r.jsx("div",{children:r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:l||!f,children:l?"Signing in...":"Sign in"})}),o&&o.includes("verify your email")&&r.jsx("div",{children:r.jsx(Ge,{type:"button",variant:"outline",className:"w-full border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-black",onClick:()=>e("/email-verify"),disabled:l,children:"Verify Email Now"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(xm,{onSuccess:N,onError:E,useOneTap:!1,theme:"filled_black",size:"large",text:"signin_with",shape:"rectangular",width:"100%"})})]})]}),r.jsx(pm,{className:"text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>{console.log("Signup button clicked, navigating to signup page"),e("/signup")},className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:l,children:"Sign up"})]})})]})})},e5=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),t5=()=>{const e=Fe(),[t,s]=u.useState(""),[n,a]=u.useState(""),[o,i]=u.useState(""),[l,c]=u.useState(""),[m,h]=u.useState(""),[f,d]=u.useState(!1),[p,w]=u.useState(!1),[x,b]=u.useState(""),[g,y]=u.useState(!1),[v,N]=u.useState(!1),[E,S]=u.useState(null),C=u.useRef(null),{toast:j}=Pt(),{setIsLoggedIn:T,setUser:A}=Me(),L=_=>{S(_)},F=()=>{C.current&&C.current.reset(),S(null)},U=async _=>{if(_.preventDefault(),console.log("Signup form submitted"),h(""),!E){h("Please complete the reCAPTCHA verification"),j({variant:"destructive",title:"Error",description:"Please complete the reCAPTCHA verification"});return}if(!l||!t||!n||!o){const P="Username, email, password, and confirm password are required";h(P),j({variant:"destructive",title:"Error",description:P});return}if(!e5(t)){const P="Please enter a valid email address";h(P),j({variant:"destructive",title:"Error",description:P});return}if(l.length<3){const P="Username must be at least 3 characters long";h(P),j({variant:"destructive",title:"Error",description:P});return}if(n!==o){h("Passwords don't match"),j({variant:"destructive",title:"Error",description:"Passwords don't match"});return}if(n.length<6){h("Password must be at least 6 characters long"),j({variant:"destructive",title:"Error",description:"Password must be at least 6 characters long"});return}d(!0),console.log("Attempting to register user:",{username:l,email:t});try{console.log("Sending registration request to backend...");const P=await my(l,t,n,E);console.log("Registration response:",P),P&&P.requiresVerification?(b(t),w(!0),j({title:"Registration Successful!",description:"Please check your email for verification code."})):P&&P.user?(A(P.user),T(!0),j({title:"Account Created!",description:`Welcome to XSM Market, ${P.user.username}!`}),setTimeout(()=>{e("/")},2e3)):(j({title:"Success with Warning",description:"Account created but user data incomplete. Please try logging in."}),setTimeout(()=>{e("/login")},1500))}catch(P){F(),console.error("Registration failed:",P);let M=P instanceof Error?P.message:"Failed to register";const R=M.toLowerCase();R.includes("email")&&(R.includes("already")||R.includes("registered")||R.includes("taken"))?M="This email address is already registered. Please use a different email or try logging in.":R.includes("username")&&(R.includes("already")||R.includes("taken"))?M="This username is already taken. Please choose a different username.":R.includes("network")||R.includes("connect")||R.includes("server")?M="Unable to connect to the server. Please check your internet connection and try again.":R.includes("recaptcha")||R.includes("verification")?M="Security verification failed. Please complete the reCAPTCHA and try again.":R.includes("password")?M="Password does not meet requirements. Please use at least 6 characters.":R.includes("email")&&R.includes("invalid")?M="Please enter a valid email address.":R.includes("database")||R.includes("sql")?M="Service temporarily unavailable. Please try again in a few moments.":R.includes("duplicate")||R.includes("constraint")?M="This username or email is already taken. Please try different values.":M.length>100&&(M="Registration failed. Please check your information and try again."),h(M),j({variant:"destructive",title:"Registration Failed",description:M})}finally{d(!1)}},I=(_,P)=>{A(P),T(!0),j({title:"Welcome to XSM Market!",description:`Your email has been verified successfully. Welcome, ${P.username}!`}),setTimeout(()=>{e("/")},2e3)},O=()=>{w(!1),b("")};if(p)return r.jsx(Nm,{email:x,onVerificationSuccess:I,onBack:O});const B=async _=>{d(!0),h("");try{if(!_.credential)throw new Error("No credential received from Google");const P=await rm(_.credential);if(P.user)A(P.user),T(!0),j({title:"Welcome!",description:`Welcome ${P.user.username}! Your account has been created with Google.`}),e("/");else throw new Error("Google sign-up succeeded but user data is missing")}catch(P){h(P instanceof Error?P.message:"Failed to sign up with Google"),j({variant:"destructive",title:"Error",description:P instanceof Error?P.message:"Failed to sign up with Google"})}finally{d(!1)}},q=()=>{h("Google sign-up was cancelled or failed"),j({variant:"destructive",title:"Error",description:"Google sign-up was cancelled or failed"})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-xsm-black py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs(_r,{className:"w-full max-w-md space-y-8 bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(Ps,{children:r.jsx("h2",{className:"text-center text-3xl font-bold tracking-tight text-xsm-yellow",children:"Create your account"})}),r.jsxs(Ts,{children:[m&&r.jsx(Lt,{variant:"destructive",className:"mb-6",children:r.jsx(Ot,{children:m})}),r.jsxs("form",{className:"space-y-6",onSubmit:U,noValidate:!0,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-white",children:"Username"}),r.jsx(ht,{id:"username",name:"username",type:"text",required:!0,value:l,onChange:_=>c(_.target.value),className:"mt-1",placeholder:"Choose a username",disabled:f})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white",children:"Email address"}),r.jsx(ht,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:_=>s(_.target.value),className:"mt-1",placeholder:"Enter your email",disabled:f})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-white",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ht,{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:_=>a(_.target.value),className:"mt-1 pr-10",placeholder:"Create a password",disabled:f}),r.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:f,children:g?r.jsx(Jr,{className:"h-4 w-4"}):r.jsx(nt,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-white",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(ht,{id:"confirmPassword",name:"confirmPassword",type:v?"text":"password",required:!0,value:o,onChange:_=>i(_.target.value),className:"mt-1 pr-10",placeholder:"Confirm your password",disabled:f}),r.jsx("button",{type:"button",onClick:()=>N(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white",disabled:f,children:v?r.jsx(Jr,{className:"h-4 w-4"}):r.jsx(nt,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(jm,{ref:C,sitekey:"6LfTNporAAAAAFLpNrgqR9pOIBnp5GsVR2w2AJex",onChange:L,theme:"dark"})}),r.jsx("div",{children:r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",disabled:f||!E,onClick:_=>{f||console.log("Sign up button clicked")},children:f?"Creating account...":"Sign up"})}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t border-xsm-medium-gray"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-xsm-dark-gray px-2 text-xsm-light-gray",children:"Or continue with"})})]}),r.jsx("div",{className:"w-full",children:r.jsx(xm,{onSuccess:B,onError:q,useOneTap:!1,theme:"filled_black",size:"large",text:"signup_with",shape:"rectangular",width:"100%"})})]})]}),r.jsx(pm,{className:"text-center",children:r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["Already have an account?"," ",r.jsx("button",{onClick:()=>e("/login"),className:"font-medium text-xsm-yellow hover:text-yellow-500",disabled:f,children:"Sign in"})]})})]})})};function Xf(e,[t,s]){return Math.min(s,Math.max(t,e))}function r5(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var s5=[" ","Enter","ArrowUp","ArrowDown"],n5=[" ","Enter"],Qa="Select",[_l,Al,a5]=tl(Qa),[$n,IE]=Mn(Qa,[a5,On]),Il=On(),[o5,cs]=$n(Qa),[i5,l5]=$n(Qa),Tv=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:m,name:h,autoComplete:f,disabled:d,required:p,form:w}=e,x=Il(t),[b,g]=u.useState(null),[y,v]=u.useState(null),[N,E]=u.useState(!1),S=Sm(m),[C=!1,j]=Ia({prop:n,defaultProp:a,onChange:o}),[T,A]=Ia({prop:i,defaultProp:l,onChange:c}),L=u.useRef(null),F=b?w||!!b.closest("form"):!0,[U,I]=u.useState(new Set),O=Array.from(U).map(B=>B.props.value).join(";");return r.jsx(Dy,{...x,children:r.jsxs(o5,{required:p,scope:t,trigger:b,onTriggerChange:g,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Sn(),value:T,onValueChange:A,open:C,onOpenChange:j,dir:S,triggerPointerDownPosRef:L,disabled:d,children:[r.jsx(_l.Provider,{scope:t,children:r.jsx(i5,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(B=>{I(q=>new Set(q).add(B))},[]),onNativeOptionRemove:u.useCallback(B=>{I(q=>{const _=new Set(q);return _.delete(B),_})},[]),children:s})}),F?r.jsxs(ew,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:T,onChange:B=>A(B.target.value),disabled:d,form:w,children:[T===void 0?r.jsx("option",{value:""}):null,Array.from(U)]},O):null]})})};Tv.displayName=Qa;var _v="SelectTrigger",Av=u.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...a}=e,o=Il(s),i=cs(_v,s),l=i.disabled||n,c=pe(t,i.onTriggerChange),m=Al(s),h=u.useRef("touch"),[f,d,p]=tw(x=>{const b=m().filter(v=>!v.disabled),g=b.find(v=>v.value===i.value),y=rw(b,x,g);y!==void 0&&i.onValueChange(y.value)}),w=x=>{l||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return r.jsx(um,{asChild:!0,...o,children:r.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Zv(i.value)?"":void 0,...a,ref:c,onClick:ee(a.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:ee(a.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:ee(a.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&d(x.key),!(b&&x.key===" ")&&s5.includes(x.key)&&(w(),x.preventDefault())})})})});Av.displayName=_v;var Iv="SelectValue",Mv=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,children:o,placeholder:i="",...l}=e,c=cs(Iv,s),{onValueNodeHasChildrenChange:m}=c,h=o!==void 0,f=pe(t,c.onValueNodeChange);return Be(()=>{m(h)},[m,h]),r.jsx(le.span,{...l,ref:f,style:{pointerEvents:"none"},children:Zv(c.value)?r.jsx(r.Fragment,{children:i}):o})});Mv.displayName=Iv;var c5="SelectIcon",Rv=u.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...a}=e;return r.jsx(le.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});Rv.displayName=c5;var d5="SelectPortal",Dv=e=>r.jsx(rl,{asChild:!0,...e});Dv.displayName=d5;var _s="SelectContent",Lv=u.forwardRef((e,t)=>{const s=cs(_s,e.__scopeSelect),[n,a]=u.useState();if(Be(()=>{a(new DocumentFragment)},[]),!s.open){const o=n;return o?Ms.createPortal(r.jsx(Ov,{scope:e.__scopeSelect,children:r.jsx(_l.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx($v,{...e,ref:t})});Lv.displayName=_s;var Yt=10,[Ov,ds]=$n(_s),u5="SelectContentImpl",$v=u.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b,...g}=e,y=cs(_s,s),[v,N]=u.useState(null),[E,S]=u.useState(null),C=pe(t,z=>N(z)),[j,T]=u.useState(null),[A,L]=u.useState(null),F=Al(s),[U,I]=u.useState(!1),O=u.useRef(!1);u.useEffect(()=>{if(v)return w0(v)},[v]),u0();const B=u.useCallback(z=>{const[G,...X]=F().map(Q=>Q.ref.current),[ne]=X.slice(-1),H=document.activeElement;for(const Q of z)if(Q===H||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===G&&E&&(E.scrollTop=0),Q===ne&&E&&(E.scrollTop=E.scrollHeight),Q==null||Q.focus(),document.activeElement!==H))return},[F,E]),q=u.useCallback(()=>B([j,v]),[B,j,v]);u.useEffect(()=>{U&&q()},[U,q]);const{onOpenChange:_,triggerPointerDownPosRef:P}=y;u.useEffect(()=>{if(v){let z={x:0,y:0};const G=ne=>{var H,Q;z={x:Math.abs(Math.round(ne.pageX)-(((H=P.current)==null?void 0:H.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((Q=P.current)==null?void 0:Q.y)??0))}},X=ne=>{z.x<=10&&z.y<=10?ne.preventDefault():v.contains(ne.target)||_(!1),document.removeEventListener("pointermove",G),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",X,{capture:!0})}}},[v,_,P]),u.useEffect(()=>{const z=()=>_(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[_]);const[M,R]=tw(z=>{const G=F().filter(H=>!H.disabled),X=G.find(H=>H.ref.current===document.activeElement),ne=rw(G,z,X);ne&&setTimeout(()=>ne.ref.current.focus())}),V=u.useCallback((z,G,X)=>{const ne=!O.current&&!X;(y.value!==void 0&&y.value===G||ne)&&(T(z),ne&&(O.current=!0))},[y.value]),W=u.useCallback(()=>v==null?void 0:v.focus(),[v]),D=u.useCallback((z,G,X)=>{const ne=!O.current&&!X;(y.value!==void 0&&y.value===G||ne)&&L(z)},[y.value]),k=n==="popper"?Bd:Fv,$=k===Bd?{side:l,sideOffset:c,align:m,alignOffset:h,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return r.jsx(Ov,{scope:s,content:v,viewport:E,onViewportChange:S,itemRefCallback:V,selectedItem:j,onItemLeave:W,itemTextRefCallback:D,focusSelectedItem:q,selectedItemText:A,position:n,isPositioned:U,searchRef:M,children:r.jsx(Em,{as:Ss,allowPinchZoom:!0,children:r.jsx(Cm,{asChild:!0,trapped:y.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:ee(a,z=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),z.preventDefault()}),children:r.jsx(Ga,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(k,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:z=>z.preventDefault(),...g,...$,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ee(g.onKeyDown,z=>{const G=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!G&&z.key.length===1&&R(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ne=F().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const H=z.target,Q=ne.indexOf(H);ne=ne.slice(Q+1)}setTimeout(()=>B(ne)),z.preventDefault()}})})})})})})});$v.displayName=u5;var m5="SelectItemAlignedPosition",Fv=u.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...a}=e,o=cs(_s,s),i=ds(_s,s),[l,c]=u.useState(null),[m,h]=u.useState(null),f=pe(t,C=>h(C)),d=Al(s),p=u.useRef(!1),w=u.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:g,focusSelectedItem:y}=i,v=u.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&m&&x&&b&&g){const C=o.trigger.getBoundingClientRect(),j=m.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(o.dir!=="rtl"){const H=A.left-j.left,Q=T.left-H,te=C.left-Q,he=C.width+te,Ut=Math.max(he,j.width),We=window.innerWidth-Yt,_t=Xf(Q,[Yt,Math.max(Yt,We-Ut)]);l.style.minWidth=he+"px",l.style.left=_t+"px"}else{const H=j.right-A.right,Q=window.innerWidth-T.right-H,te=window.innerWidth-C.right-Q,he=C.width+te,Ut=Math.max(he,j.width),We=window.innerWidth-Yt,_t=Xf(Q,[Yt,Math.max(Yt,We-Ut)]);l.style.minWidth=he+"px",l.style.right=_t+"px"}const L=d(),F=window.innerHeight-Yt*2,U=x.scrollHeight,I=window.getComputedStyle(m),O=parseInt(I.borderTopWidth,10),B=parseInt(I.paddingTop,10),q=parseInt(I.borderBottomWidth,10),_=parseInt(I.paddingBottom,10),P=O+B+U+_+q,M=Math.min(b.offsetHeight*5,P),R=window.getComputedStyle(x),V=parseInt(R.paddingTop,10),W=parseInt(R.paddingBottom,10),D=C.top+C.height/2-Yt,k=F-D,$=b.offsetHeight/2,z=b.offsetTop+$,G=O+B+z,X=P-G;if(G<=D){const H=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const Q=m.clientHeight-x.offsetTop-x.offsetHeight,te=Math.max(k,$+(H?W:0)+Q+q),he=G+te;l.style.height=he+"px"}else{const H=L.length>0&&b===L[0].ref.current;l.style.top="0px";const te=Math.max(D,O+x.offsetTop+(H?V:0)+$)+X;l.style.height=te+"px",x.scrollTop=G-D+x.offsetTop}l.style.margin=`${Yt}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[d,o.trigger,o.valueNode,l,m,x,b,g,o.dir,n]);Be(()=>v(),[v]);const[N,E]=u.useState();Be(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const S=u.useCallback(C=>{C&&w.current===!0&&(v(),y==null||y(),w.current=!1)},[v,y]);return r.jsx(f5,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:r.jsx(le.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Fv.displayName=m5;var h5="SelectPopperPosition",Bd=u.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=Yt,...o}=e,i=Il(s);return r.jsx(mm,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bd.displayName=h5;var[f5,Fm]=$n(_s,{}),Vd="SelectViewport",zv=u.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...a}=e,o=ds(Vd,s),i=Fm(Vd,s),l=pe(t,o.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(_l.Slot,{scope:s,children:r.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ee(a.onScroll,m=>{const h=m.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&f){const p=Math.abs(c.current-h.scrollTop);if(p>0){const w=window.innerHeight-Yt*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(x,b);if(g<w){const y=g+p,v=Math.min(w,y),N=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});zv.displayName=Vd;var Uv="SelectGroup",[x5,p5]=$n(Uv),g5=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=Sn();return r.jsx(x5,{scope:s,id:a,children:r.jsx(le.div,{role:"group","aria-labelledby":a,...n,ref:t})})});g5.displayName=Uv;var Bv="SelectLabel",Vv=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=p5(Bv,s);return r.jsx(le.div,{id:a.id,...n,ref:t})});Vv.displayName=Bv;var Mi="SelectItem",[y5,Wv]=$n(Mi),Hv=u.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:o,...i}=e,l=cs(Mi,s),c=ds(Mi,s),m=l.value===n,[h,f]=u.useState(o??""),[d,p]=u.useState(!1),w=pe(t,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,n,a)}),x=Sn(),b=u.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(y5,{scope:s,value:n,disabled:a,textId:x,isSelected:m,onItemTextChange:u.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(_l.ItemSlot,{scope:s,value:n,disabled:a,textValue:h,children:r.jsx(le.div,{role:"option","aria-labelledby":x,"data-highlighted":d?"":void 0,"aria-selected":m&&d,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:w,onFocus:ee(i.onFocus,()=>p(!0)),onBlur:ee(i.onBlur,()=>p(!1)),onClick:ee(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:ee(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:ee(i.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:ee(i.onPointerMove,y=>{var v;b.current=y.pointerType,a?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ee(i.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(n5.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});Hv.displayName=Mi;var ea="SelectItemText",Gv=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:a,...o}=e,i=cs(ea,s),l=ds(ea,s),c=Wv(ea,s),m=l5(ea,s),[h,f]=u.useState(null),d=pe(t,g=>f(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),p=h==null?void 0:h.textContent,w=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=m;return Be(()=>(x(w),()=>b(w)),[x,b,w]),r.jsxs(r.Fragment,{children:[r.jsx(le.span,{id:c.textId,...o,ref:d}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ms.createPortal(o.children,i.valueNode):null]})});Gv.displayName=ea;var Yv="SelectItemIndicator",qv=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return Wv(Yv,s).isSelected?r.jsx(le.span,{"aria-hidden":!0,...n,ref:t}):null});qv.displayName=Yv;var Wd="SelectScrollUpButton",Kv=u.forwardRef((e,t)=>{const s=ds(Wd,e.__scopeSelect),n=Fm(Wd,e.__scopeSelect),[a,o]=u.useState(!1),i=pe(t,n.onScrollButtonChange);return Be(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=c.scrollTop>0;o(m)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Qv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Kv.displayName=Wd;var Hd="SelectScrollDownButton",Xv=u.forwardRef((e,t)=>{const s=ds(Hd,e.__scopeSelect),n=Fm(Hd,e.__scopeSelect),[a,o]=u.useState(!1),i=pe(t,n.onScrollButtonChange);return Be(()=>{if(s.viewport&&s.isPositioned){let l=function(){const m=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<m;o(h)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(Qv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Xv.displayName=Hd;var Qv=u.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=e,o=ds("SelectScrollButton",s),i=u.useRef(null),l=Al(s),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Be(()=>{var h;const m=l().find(f=>f.ref.current===document.activeElement);(h=m==null?void 0:m.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),r.jsx(le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ee(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ee(a.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ee(a.onPointerLeave,()=>{c()})})}),v5="SelectSeparator",Jv=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(le.div,{"aria-hidden":!0,...n,ref:t})});Jv.displayName=v5;var Gd="SelectArrow",w5=u.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,a=Il(s),o=cs(Gd,s),i=ds(Gd,s);return o.open&&i.position==="popper"?r.jsx(hm,{...a,...n,ref:t}):null});w5.displayName=Gd;function Zv(e){return e===""||e===void 0}var ew=u.forwardRef((e,t)=>{const{value:s,...n}=e,a=u.useRef(null),o=pe(t,a),i=r5(s);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==s&&h){const f=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(f)}},[i,s]),r.jsx(Ya,{asChild:!0,children:r.jsx("select",{...n,ref:o,defaultValue:s})})});ew.displayName="BubbleSelect";function tw(e){const t=Ke(e),s=u.useRef(""),n=u.useRef(0),a=u.useCallback(i=>{const l=s.current+i;t(l),function c(m){s.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=u.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,o]}function rw(e,t,s){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=b5(e,Math.max(o,0));a.length===1&&(i=i.filter(m=>m!==s));const c=i.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function b5(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var j5=Tv,sw=Av,N5=Mv,k5=Rv,S5=Dv,nw=Lv,C5=zv,aw=Vv,ow=Hv,E5=Gv,P5=qv,iw=Kv,lw=Xv,cw=Jv;const T5=j5,_5=N5,dw=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(sw,{ref:n,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(k5,{asChild:!0,children:r.jsx(wn,{className:"h-4 w-4 opacity-50"})})]}));dw.displayName=sw.displayName;const uw=u.forwardRef(({className:e,...t},s)=>r.jsx(iw,{ref:s,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(FN,{className:"h-4 w-4"})}));uw.displayName=iw.displayName;const mw=u.forwardRef(({className:e,...t},s)=>r.jsx(lw,{ref:s,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(wn,{className:"h-4 w-4"})}));mw.displayName=lw.displayName;const hw=u.forwardRef(({className:e,children:t,position:s="popper",...n},a)=>r.jsx(S5,{children:r.jsxs(nw,{ref:a,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(uw,{}),r.jsx(C5,{className:ce("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(mw,{})]})}));hw.displayName=nw.displayName;const A5=u.forwardRef(({className:e,...t},s)=>r.jsx(aw,{ref:s,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));A5.displayName=aw.displayName;const Jo=u.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(ow,{ref:n,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(P5,{children:r.jsx(Cs,{className:"h-4 w-4"})})}),r.jsx(E5,{children:t})]}));Jo.displayName=ow.displayName;const I5=u.forwardRef(({className:e,...t},s)=>r.jsx(cw,{ref:s,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));I5.displayName=cw.displayName;const M5=({verificationStatus:e,onSubmitVerification:t})=>{const[s,n]=u.useState(null),[a,o]=u.useState(""),[i,l]=u.useState(!1),c=d=>{d.preventDefault(),d.stopPropagation(),d.type==="dragenter"||d.type==="dragover"?l(!0):d.type==="dragleave"&&l(!1)},m=d=>{d.preventDefault(),d.stopPropagation(),l(!1),d.dataTransfer.files&&d.dataTransfer.files[0]&&n(d.dataTransfer.files[0])},h=d=>{d.target.files&&d.target.files[0]&&n(d.target.files[0])},f=()=>{s&&a&&t(a,s)};return r.jsxs(_r,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(Ps,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nt,{className:"w-5 h-5 text-xsm-yellow"}),r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Account Verification"})]})}),r.jsx(Ts,{children:e==="verified"?r.jsxs(Lt,{className:"bg-green-900/20 border-green-500",children:[r.jsx(zN,{className:"h-4 w-4 text-green-500"}),r.jsx(Ko,{children:"Verified Account"}),r.jsx(Ot,{children:"Your account has been verified. You now have access to all platform features."})]}):e==="pending"?r.jsxs(Lt,{className:"bg-yellow-900/20 border-yellow-500",children:[r.jsx(ls,{className:"h-4 w-4 text-yellow-500"}),r.jsx(Ko,{children:"Verification Pending"}),r.jsx(Ot,{children:"Your documents are being reviewed. This usually takes 24-48 hours."})]}):r.jsxs(r.Fragment,{children:[r.jsxs(Lt,{className:"bg-blue-900/20 border-blue-500 mb-4",children:[r.jsx(br,{className:"h-4 w-4 text-blue-500"}),r.jsx(Ko,{children:"Verify Your Identity"}),r.jsx(Ot,{children:"To ensure platform security, please verify your identity by uploading a government-issued ID."})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Document Type"}),r.jsxs(T5,{onValueChange:o,children:[r.jsx(dw,{className:"w-full bg-xsm-black text-white border-xsm-medium-gray",children:r.jsx(_5,{placeholder:"Select document type"})}),r.jsxs(hw,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsx(Jo,{value:"national_id",children:"National ID Card"}),r.jsx(Jo,{value:"drivers_license",children:"Driver's License"}),r.jsx(Jo,{value:"passport",children:"Passport"})]})]})]}),r.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center ${i?"border-xsm-yellow bg-xsm-yellow/10":"border-xsm-medium-gray"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:m,children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(Da,{className:"w-10 h-10 mx-auto text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:s?s.name:"Drag and drop your document here, or click to select"}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Supported formats: JPG, PNG, PDF (max 5MB)"})]}),r.jsx("input",{type:"file",className:"hidden",accept:".jpg,.jpeg,.png,.pdf",onChange:h,id:"file-upload"}),r.jsx(Ge,{onClick:()=>{var d;return(d=document.getElementById("file-upload"))==null?void 0:d.click()},variant:"outline",className:"border-xsm-medium-gray text-white hover:text-xsm-yellow",children:"Select File"})]})}),s&&a&&r.jsx(Ge,{onClick:f,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black",children:"Submit for Verification"})]})]})})]})},R5=()=>{const e=Fe(),{user:t}=Me(),s=async(n,a)=>{console.log("Submitting verification:",{documentType:n,file:a}),setTimeout(()=>{t!=null&&t.username?e(`/u/${t.username}`):e("/profile")},1500)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("button",{onClick:()=>{t!=null&&t.username?e(`/u/${t.username}`):e("/profile")},className:"flex items-center space-x-2 text-white hover:text-xsm-yellow mb-8",children:[r.jsx(Ma,{className:"w-5 h-5"}),r.jsx("span",{children:"Back to Profile"})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Account Verification"}),r.jsx("p",{className:"text-xl text-white",children:"Verify your identity to unlock all features and build trust with other users"})]}),r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(M5,{verificationStatus:"unverified",onSubmitVerification:s}),r.jsxs("div",{className:"mt-8 bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Why verify your account?"}),r.jsxs("ul",{className:"space-y-3 text-xsm-light-gray",children:[r.jsx("li",{children:"• Gain access to premium features and higher selling limits"}),r.jsx("li",{children:"• Build trust with potential buyers and sellers"}),r.jsx("li",{children:"• Faster processing of your transactions"}),r.jsx("li",{children:"• Priority support from our team"}),r.jsx("li",{children:"• Verified badge on your profile and listings"})]})]})]})]})})},Qf=()=>{window.scrollTo({top:0,behavior:"smooth"})},D5=({email:e})=>{const t=Fe(),{setIsLoggedIn:s,setUser:n}=Me(),{toast:a}=Pt(),o=typeof window<"u"?localStorage.getItem("pendingVerificationEmail"):null,[i,l]=u.useState(e||o||""),c=(h,f)=>{typeof window<"u"&&localStorage.removeItem("pendingVerificationEmail"),n(f),s(!0),a({title:"Email Verified!",description:`Welcome to XSM Market, ${f.username}! Your email has been successfully verified.`}),setTimeout(()=>{t("/"),Qf()},2e3)},m=()=>{t("/login"),Qf()};return r.jsx(Nm,{email:i,onVerificationSuccess:c,onBack:m})},L5=()=>{const e=Fe(),[t,s]=u.useState(""),[n,a]=u.useState(!1),[o,i]=u.useState(""),[l,c]=u.useState(""),[m,h]=u.useState(!1),f=async w=>{if(w.preventDefault(),!t){i("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){i("Please enter a valid email address");return}a(!0),i(""),c("");try{const b=await hy(t);c(b.message),h(!0)}catch(b){console.error("Forgot password error:",b),i(b.message||"Failed to process request. Please try again.")}finally{a(!1)}},d=()=>{e("/login")},p=()=>{h(!1),s(""),c(""),i("")};return m&&l?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(_r,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Ps,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(ue,{className:"w-8 h-8 text-green-400"})}),r.jsx(Ti,{className:"text-2xl font-bold text-xsm-yellow",children:"Email Sent!"}),r.jsx(_i,{className:"text-xsm-light-gray",children:"Check your inbox for your new password"})]}),r.jsxs(Ts,{className:"space-y-6",children:[r.jsx(Lt,{className:"bg-green-900/20 border-green-700",children:r.jsx(Ot,{className:"text-green-300",children:l})}),r.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Next Steps:"}),r.jsxs("ol",{className:"text-sm text-xsm-light-gray space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Check your email inbox (and spam folder)"}),r.jsx("li",{children:"Copy the temporary password from the email"}),r.jsx("li",{children:"Return to login and use the temporary password"}),r.jsx("li",{children:"Change your password immediately after logging in"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Ge,{onClick:d,className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",children:"Go to Login"}),r.jsx(Ge,{onClick:p,variant:"ghost",className:"w-full text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:"Send Another Email"})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-xsm-black p-4",children:r.jsxs(_r,{className:"w-full max-w-md bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(Ps,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-xsm-yellow/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(bn,{className:"w-8 h-8 text-xsm-yellow"})}),r.jsx(Ti,{className:"text-2xl font-bold text-xsm-yellow",children:"Forgot Password"}),r.jsx(_i,{className:"text-xsm-light-gray",children:"Enter your email address and we'll send you a new temporary password"})]}),r.jsxs(Ts,{className:"space-y-6",children:[o&&r.jsx(Lt,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:r.jsx(Ot,{className:"text-red-300",children:o})}),r.jsxs("form",{onSubmit:f,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-white",children:"Email Address"}),r.jsx(ht,{id:"email",type:"email",value:t,onChange:w=>s(w.target.value),placeholder:"Enter your email address",className:"bg-xsm-dark-gray border-xsm-medium-gray text-white focus:border-xsm-yellow",disabled:n,required:!0})]}),r.jsx(Ge,{type:"submit",className:"w-full bg-xsm-yellow text-black hover:bg-yellow-400",disabled:n,children:n?r.jsxs(r.Fragment,{children:[r.jsx(Ku,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Email..."]}):"Send New Password"})]}),r.jsx("div",{className:"text-center",children:r.jsxs(Ge,{onClick:d,variant:"ghost",className:"text-xsm-light-gray hover:text-white hover:bg-xsm-medium-gray",children:[r.jsx(Ma,{className:"w-4 h-4 mr-2"}),"Back to Login"]})}),r.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-4",children:[r.jsx("h4",{className:"text-yellow-400 font-semibold mb-2",children:"How it works:"}),r.jsxs("ul",{className:"text-sm text-xsm-light-gray space-y-1",children:[r.jsx("li",{children:"• We'll generate a secure temporary password"}),r.jsx("li",{children:"• You'll receive it via email within a few minutes"}),r.jsx("li",{children:"• Use it to log in, then change it immediately"}),r.jsx("li",{children:"• For security, temporary passwords expire in 24 hours"})]})]})]})]})})},O5=()=>"https://xsmmarket.com/api",us=O5(),$5=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${us}/admin/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch users: ${t.statusText}`)}return await t.json()},F5=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${us}/admin/chats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch chats: ${t.statusText}`)}return await t.json()},z5=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${us}/admin/dashboard-stats`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch dashboard stats: ${t.statusText}`)}return await t.json()},U5=async()=>{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required");const t=await fetch(`${us}/admin/deals`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const s=await t.json().catch(()=>({}));throw new Error(s.message||`Failed to fetch deals: ${t.statusText}`)}return await t.json()},B5=async(e,t)=>{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`${us}/chat/admin/chats/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({content:t})});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(a.message||`Failed to send message: ${n.statusText}`)}return await n.json()},V5=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${us}/chat/admin/messages/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to delete message: ${s.statusText}`)}return await s.json()},W5=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${us}/chat/admin/chats/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to delete chat: ${s.statusText}`)}return await s.json()},H5=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`${us}/admin/deals/${e}/confirm-primary-owner`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok){const n=await s.json().catch(()=>({}));throw new Error(n.message||`Failed to mark primary owner made: ${s.statusText}`)}return await s.json()},G5=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`/api/admin/ads/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(!n.success)throw new Error(n.error||"Failed to delete listing");return n},Y5=async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required");const s=await fetch(`/api/admin/users/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(!n.success)throw new Error(n.error||"Failed to delete user");return n},q5=async(e,t)=>{const s=localStorage.getItem("token");if(!s)throw new Error("Authentication required");const n=await fetch(`/api/admin/users/${e}/role`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({role:t})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=await n.json();if(!a.success)throw new Error(a.error||"Failed to update user role");return a},K5=()=>{const[e,t]=u.useState(""),[s,n]=u.useState([]),[a,o]=u.useState(!0),[i,l]=u.useState(null),{toast:c}=Pt();K.useEffect(()=>{o(!0),l(null),$5().then(p=>{n(p),o(!1)}).catch(p=>{l(p.message||"Failed to fetch users"),o(!1)})},[]);const m=async p=>{if(window.confirm(`⚠️ DELETE USER CONFIRMATION ⚠️

Are you sure you want to permanently delete this user?

Username: "${p.username}"
Email: ${p.email}
Role: ${p.role}

This action cannot be undone and will permanently remove the user and all their data from the database.`))try{await Y5(p.id),n(x=>x.filter(b=>b.id!==p.id)),c({title:"✅ User Deleted",description:`User "${p.username}" has been permanently deleted.`})}catch(x){console.error("Error deleting user:",x),c({variant:"destructive",title:"❌ Delete Failed",description:x instanceof Error?x.message:"Failed to delete user"})}},h=async p=>{const w=p.role==="admin"?"user":"admin";if(window.confirm(`🔄 CHANGE USER ROLE ⚠️

Change user role?

User: "${p.username}"
Current Role: ${p.role}
New Role: ${w}

${w==="admin"?"This will grant admin privileges to the user.":"This will remove admin privileges from the user."}`))try{await q5(p.id,w),n(b=>b.map(g=>g.id===p.id?{...g,role:w}:g)),c({title:"✅ Role Updated",description:`User "${p.username}" role changed to ${w}.`})}catch(b){console.error("Error changing user role:",b),c({variant:"destructive",title:"❌ Role Change Failed",description:b instanceof Error?b.message:"Failed to change user role"})}},f=s.filter(p=>p.username.toLowerCase().includes(e.toLowerCase())||p.email.toLowerCase().includes(e.toLowerCase())),d=p=>{switch(p){case"active":return"text-green-400";case"suspended":return"text-red-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}};return r.jsx("div",{className:"p-6 bg-xsm-black min-h-screen",children:r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-xsm-yellow mb-6",children:"Manage Users"}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx("input",{type:"text",placeholder:"Search users...",value:e,onChange:p=>t(p.target.value),className:"w-full bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg px-4 py-2 pl-10 focus:outline-none focus:border-xsm-yellow text-white"}),r.jsx(jn,{className:"absolute left-3 top-2.5 h-5 w-5 text-xsm-medium-gray"})]})}),a?r.jsx("div",{className:"text-center text-xsm-light-gray py-8",children:"Loading users..."}):i?r.jsx("div",{className:"text-center text-red-400 py-8",children:i}):r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-xsm-medium-gray",children:[r.jsx("thead",{className:"bg-xsm-medium-gray/20",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Join Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-xsm-light-gray uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:f.map(p=>r.jsxs("tr",{className:"hover:bg-xsm-medium-gray/20",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-xsm-medium-gray flex items-center justify-center",children:r.jsx(ut,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:p.username}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:p.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize ${d(p.status)}`,children:p.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-xsm-light-gray",children:p.joinDate}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs(Lm,{children:[r.jsx(Om,{className:"p-2 hover:bg-xsm-medium-gray rounded-lg transition-colors",children:r.jsx(Jg,{className:"h-5 w-5 text-xsm-light-gray"})}),r.jsxs(Tl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(dr,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>h(p),children:[r.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Change Role to ",p.role==="admin"?"User":"Admin"]}),r.jsxs(dr,{className:"text-red-500 hover:text-red-400 cursor-pointer",onClick:()=>m(p),children:[r.jsx(kd,{className:"w-4 h-4 mr-2"}),"Delete User"]})]})]})})]},p.id))})]})})})]})})},Jf="https://xsmmarket.com/api",X5=()=>{const[e,t]=u.useState(""),[s,n]=u.useState([]),[a,o]=u.useState(!0),[i,l]=u.useState(null),[c,m]=u.useState(null),[h,f]=u.useState(!1),[d,p]=u.useState(!1),{isLoggedIn:w,user:x}=Me(),{toast:b}=Pt();K.useEffect(()=>{o(!0),l(null),$m().then(j=>{const T=(j.ads||[]).map(A=>{var L,F,U,I,O;return{id:A.id,title:A.title,seller:((L=A.seller)==null?void 0:L.username)||"Unknown",sellerId:((F=A.seller)==null?void 0:F.id)||((U=A.User)==null?void 0:U.id)||0,sellerUsername:((I=A.seller)==null?void 0:I.username)||((O=A.User)==null?void 0:O.username)||"Unknown",price:A.price?`$${A.price}`:"",priceNumber:A.price||0,category:A.category||"Other",platform:A.platform||"Unknown",description:A.description||"",subscribers:A.subscribers||0,monthlyIncome:A.monthlyIncome||0,views:A.views||0,status:A.status||"active",createdAt:A.createdAt?A.createdAt.split("T")[0]:"",reportCount:A.reportCount||0,thumbnail:A.thumbnail||"/placeholder.svg",primary_image:A.primary_image,additional_images:A.additional_images,screenshots:A.screenshots,verified:A.verified||!1,premium:A.premium||!1,isMonetized:A.isMonetized||!1}});n(T),o(!1)}).catch(j=>{l(j.message||"Failed to fetch listings"),o(!1)})},[]);const g=j=>{m(j),f(!0)},y=async j=>{if(!w||!x){b({variant:"destructive",title:"Authentication Required",description:"Please log in to contact the seller"});return}if(String(x.id)===String(j.sellerId)){b({variant:"destructive",title:"Invalid Action",description:"You can't contact yourself"});return}try{p(!0);const T=localStorage.getItem("token"),A=await fetch(`${Jf}/chat/check-existing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({sellerId:j.sellerId,adId:j.id})});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);if((await A.json()).exists){b({title:"Chat Exists",description:"A chat with this seller already exists. Redirecting to chat..."});return}const F=await fetch(`${Jf}/chat/ad-inquiry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({adId:j.id,sellerId:j.sellerId,message:"This is admin of the website and regarding this message I am contacting",sellerName:j.sellerUsername})});if(!F.ok){const I=await F.text();throw console.error("Chat creation failed:",I),new Error(`HTTP error! status: ${F.status}`)}const U=await F.json();b({title:"Chat Created",description:"Successfully created chat with seller. You can now communicate directly."})}catch(T){console.error("Error creating chat:",T),b({variant:"destructive",title:"Error",description:"Failed to create chat with seller"})}finally{p(!1)}},v=async j=>{if(window.confirm(`⚠️ DELETE CONFIRMATION ⚠️

Are you sure you want to permanently delete this listing?

Title: "${j.title}"
Seller: ${j.sellerUsername}
Price: ${j.price}

This action cannot be undone and will permanently remove the listing from the database.`))try{await G5(j.id),n(A=>A.filter(L=>L.id!==j.id)),b({title:"✅ Listing Deleted",description:`"${j.title}" has been permanently deleted.`}),c&&c.id===j.id&&(f(!1),m(null))}catch(A){console.error("Error deleting listing:",A),b({variant:"destructive",title:"❌ Delete Failed",description:A instanceof Error?A.message:"Failed to delete listing. Please try again."})}},N=j=>j>=1e6?(j/1e6).toFixed(1)+"M":j>=1e3?(j/1e3).toFixed(1)+"K":j.toString(),E=s.filter(j=>j.title.toLowerCase().includes(e.toLowerCase())||j.seller.toLowerCase().includes(e.toLowerCase())),S=j=>{switch(j){case"active":return r.jsx(ue,{className:"w-5 h-5 text-green-400"});case"rejected":return r.jsx(Qg,{className:"w-5 h-5 text-red-400"});case"reported":return r.jsx(hf,{className:"w-5 h-5 text-yellow-400"});default:return r.jsx(ls,{className:"w-5 h-5 text-blue-400"})}},C=j=>{switch(j){case"active":return"bg-green-400/10 text-green-400 border-green-400/20";case"rejected":return"bg-red-400/10 text-red-400 border-red-400/20";case"reported":return"bg-yellow-400/10 text-yellow-400 border-yellow-400/20";default:return"bg-blue-400/10 text-blue-400 border-blue-400/20"}};return r.jsxs("div",{className:"p-6 bg-xsm-black min-h-screen",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",placeholder:"Search listings...",value:e,onChange:j=>t(j.target.value),className:"w-full bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg px-4 py-2 pl-10 focus:outline-none focus:border-xsm-yellow text-white"}),r.jsx(jn,{className:"absolute left-3 top-2.5 h-5 w-5 text-xsm-medium-gray"})]})}),a?r.jsx("div",{className:"text-center text-xsm-light-gray py-8",children:"Loading listings..."}):i?r.jsx("div",{className:"text-center text-red-400 py-8",children:i}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(j=>r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden",children:[r.jsxs("div",{className:"aspect-video relative bg-xsm-medium-gray",children:[r.jsx("img",{src:j.primary_image||(j.screenshots&&j.screenshots.length>0?j.screenshots[0].url||j.screenshots[0]:null)||j.thumbnail||"/placeholder.svg",alt:j.title,className:"w-full h-full object-cover",onError:T=>{const A=T.target;A.onerror=null,A.src="/placeholder.svg"}}),j.reportCount>0&&r.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[j.reportCount," reports"]})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-white mb-1",children:j.title}),r.jsxs("p",{className:"text-sm text-xsm-light-gray",children:["by ",j.seller]})]}),r.jsx("span",{className:"text-xsm-yellow font-medium",children:j.price})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-sm text-xsm-light-gray",children:j.category}),r.jsx("span",{className:"text-sm text-xsm-light-gray",children:j.createdAt})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm border ${C(j.status)}`,children:[S(j.status),r.jsx("span",{className:"ml-2 capitalize",children:j.status})]}),r.jsxs(Lm,{children:[r.jsx(Om,{className:"p-2 hover:bg-xsm-medium-gray rounded-lg transition-colors",children:r.jsx(Jg,{className:"h-5 w-5 text-xsm-light-gray"})}),r.jsxs(Tl,{className:"bg-xsm-dark-gray border-xsm-medium-gray",children:[r.jsxs(dr,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>g(j),children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"View Details"]}),r.jsxs(dr,{className:"text-white hover:text-xsm-yellow cursor-pointer",onClick:()=>y(j),disabled:d,children:[r.jsx(jr,{className:"w-4 h-4 mr-2"}),d?"Connecting...":"Contact Seller"]}),r.jsx(bv,{}),r.jsxs(dr,{className:"text-red-500 hover:text-red-400 cursor-pointer",onClick:()=>v(j),children:[r.jsx(kd,{className:"w-4 h-4 mr-2"}),"Delete Listing"]})]})]})]})]})]},j.id))})]}),h&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:j=>{j.target===j.currentTarget&&f(!1)},children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-xsm-dark-gray border-b border-xsm-medium-gray p-4 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Listing Details"}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"aspect-video relative bg-xsm-medium-gray rounded-lg overflow-hidden mb-6",children:[r.jsx("img",{src:c.primary_image||(c.screenshots&&c.screenshots.length>0?c.screenshots[0].url||c.screenshots[0]:null)||c.thumbnail||"/placeholder.svg",alt:c.title,className:"w-full h-full object-cover",onError:j=>{const T=j.target;T.onerror=null,T.src="/placeholder.svg"}}),c.reportCount>0&&r.jsxs("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-sm px-3 py-1 rounded-full",children:[c.reportCount," reports"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:c.title}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm border ${C(c.status)}`,children:[S(c.status),r.jsx("span",{className:"ml-2 capitalize",children:c.status})]}),r.jsx("span",{className:"text-3xl font-bold text-xsm-yellow",children:c.price})]})]}),c.description&&r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Description"}),r.jsx("p",{className:"text-xsm-light-gray leading-relaxed",children:c.description})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Channel Statistics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(Nn,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Subscribers"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:N(c.subscribers)})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(nt,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Views"})]}),r.jsx("div",{className:"text-2xl font-bold text-white",children:N(c.views)})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(Rt,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Monthly Income"})]}),r.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",N(c.monthlyIncome)]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(hf,{className:"w-5 h-5 text-xsm-yellow mr-2"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Platform"})]}),r.jsx("div",{className:"text-lg font-bold text-white capitalize",children:c.platform})]})]})]}),r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Seller Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Username:"}),r.jsx("span",{className:"text-white font-medium",children:c.sellerUsername})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Listed Date:"}),r.jsx("span",{className:"text-white",children:c.createdAt})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xsm-light-gray",children:"Category:"}),r.jsx("span",{className:"text-white",children:c.category})]})]})]}),r.jsxs("div",{className:"bg-xsm-black rounded-lg p-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Features"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${c.verified?"bg-green-400":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Verified Channel"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${c.isMonetized?"bg-xsm-yellow":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Monetized"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${c.premium?"bg-purple-400":"bg-gray-400"}`}),r.jsx("span",{className:"text-white",children:"Premium Listing"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:()=>y(c),disabled:d,className:"w-full bg-xsm-yellow hover:bg-yellow-500 text-black font-semibold py-3 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[r.jsx(jr,{className:"w-5 h-5"}),r.jsx("span",{children:d?"Connecting...":"Contact Seller"})]}),r.jsxs("button",{onClick:()=>v(c),className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[r.jsx(kd,{className:"w-5 h-5"}),r.jsx("span",{children:"Delete Listing"})]})]})]})]})})]})})]})},Q5=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(null),[a,o]=u.useState(!0),[i,l]=u.useState(""),[c,m]=u.useState("all"),[h,f]=u.useState(null),[d,p]=u.useState(""),[w,x]=u.useState(!1);u.useState(!1),u.useEffect(()=>{b()},[]);const b=async()=>{o(!0),f(null);try{const S=await F5();t(S)}catch(S){f(S.message||"Failed to fetch chats")}finally{o(!1)}},g=async()=>{if(!(!s||!d.trim()||w))try{x(!0);const S=await B5(s.id,d.trim());n(C=>C?{...C,messages:[...C.messages,S]}:null),t(C=>C.map(j=>j.id===s.id?{...j,messages:[...j.messages,S],lastMessage:d.trim()}:j)),p("")}catch(S){alert("Failed to send message: "+S.message)}finally{x(!1)}},y=async S=>{if(!(!s||!confirm("Are you sure you want to delete this message?")))try{await V5(S),n(C=>C?{...C,messages:C.messages.filter(j=>j.id!==S)}:null),t(C=>C.map(j=>j.id===s.id?{...j,messages:j.messages.filter(T=>T.id!==S)}:j))}catch(C){alert("Failed to delete message: "+C.message)}},v=async S=>{if(confirm("Are you sure you want to delete this entire chat? This action cannot be undone."))try{await W5(S),t(C=>C.filter(j=>j.id!==S)),(s==null?void 0:s.id)===S&&n(null),alert("Chat deleted successfully")}catch(C){alert("Failed to delete chat: "+C.message)}},N=S=>new Date(S).toLocaleString();if(a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-xsm-yellow"})});if(h)return r.jsx("div",{className:"flex items-center justify-center h-64 text-red-400",children:h});const E=e.filter(S=>{const C=S.participants.some(T=>T.username.toLowerCase().includes(i.toLowerCase())),j=S.messages.some(T=>T.content.toLowerCase().includes(i.toLowerCase()));return C||j});return r.jsxs("div",{className:"flex flex-col h-[calc(100vh-12rem)]",children:[r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray p-4 mb-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"text",placeholder:"Search chats...",value:i,onChange:S=>l(S.target.value),className:"bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow w-64"}),r.jsxs("select",{value:c,onChange:S=>m(S.target.value),className:"bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow",children:[r.jsx("option",{value:"all",children:"All Chats"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"flagged",children:"Flagged"}),r.jsx("option",{value:"resolved",children:"Resolved"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:"text-xsm-light-gray",children:["Total Chats: ",E.length]})})]})}),r.jsx("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray overflow-hidden flex-grow",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-xsm-black",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Participants"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Last Message"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Time"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Messages"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-xsm-yellow",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:E.map(S=>r.jsxs("tr",{className:`hover:bg-xsm-medium-gray/30 transition-colors cursor-pointer ${(s==null?void 0:s.id)===S.id?"bg-xsm-medium-gray/50":""}`,onClick:()=>n(S),children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-col",children:S.participants.map(C=>r.jsx("span",{className:"text-sm",children:C.username},C.id))})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("p",{className:"text-sm text-xsm-light-gray max-w-xs truncate",children:S.lastMessage})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm text-xsm-light-gray",children:N(S.lastMessageTime)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm",children:S.messages.length})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:C=>{C.stopPropagation(),n(S)},className:"px-3 py-1 text-sm bg-xsm-yellow text-black rounded hover:bg-xsm-yellow/90 flex items-center space-x-1",children:[r.jsx(Zg,{className:"w-3 h-3"}),r.jsx("span",{children:"Review"})]}),r.jsxs("button",{onClick:C=>{C.stopPropagation(),v(S.id)},className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600 flex items-center space-x-1",children:[r.jsx(ma,{className:"w-3 h-3"}),r.jsx("span",{children:"Delete"})]})]})})]},S.id))})]})})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-xl border border-xsm-medium-gray p-6 max-w-4xl w-full mx-4 max-h-[85vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-xsm-yellow",children:"Chat Review & Management"}),r.jsxs("p",{className:"text-sm text-xsm-light-gray mt-1",children:["Between: ",s.participants.map(S=>S.username).join(", ")]})]}),r.jsx("button",{onClick:()=>n(null),className:"text-xsm-light-gray hover:text-white",children:"✕"})]}),r.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto max-h-[50vh] pr-4 mb-4",children:s.messages.map(S=>r.jsxs("div",{className:"flex flex-col space-y-1 bg-xsm-black rounded-lg p-4 group hover:bg-xsm-black/80 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:`font-medium ${S.sender==="Admin"?"text-red-400":"text-xsm-yellow"}`,children:[S.sender,S.sender==="Admin"&&r.jsx("span",{className:"ml-2 text-xs bg-red-500 px-2 py-0.5 rounded",children:"ADMIN"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-xsm-light-gray",children:N(S.timestamp)}),r.jsx("button",{onClick:()=>y(S.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-500 rounded text-red-400 hover:text-white",title:"Delete message",children:r.jsx(ma,{className:"w-3 h-3"})})]})]}),r.jsx("p",{className:"text-sm mt-2",children:S.content})]},S.id))}),r.jsxs("div",{className:"border-t border-xsm-medium-gray pt-4 mb-4",children:[r.jsx("div",{className:"flex items-center space-x-3 mb-3",children:r.jsx("span",{className:"text-red-400 font-medium text-sm",children:"Send as Admin:"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("input",{type:"text",value:d,onChange:S=>p(S.target.value),onKeyPress:S=>S.key==="Enter"&&g(),placeholder:"Type your admin message...",className:"flex-1 bg-xsm-black border border-xsm-medium-gray rounded-lg px-4 py-2 focus:outline-none focus:border-xsm-yellow",disabled:w}),r.jsxs("button",{onClick:g,disabled:!d.trim()||w,className:"px-4 py-2 bg-xsm-yellow text-black rounded-lg hover:bg-xsm-yellow/90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[r.jsx(Qu,{className:"w-4 h-4"}),r.jsx("span",{children:w?"Sending...":"Send"})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-xsm-medium-gray",children:[r.jsxs("button",{onClick:()=>v(s.id),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex items-center space-x-2",children:[r.jsx(ma,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete Entire Chat"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{className:"px-4 py-2 bg-yellow-500 text-black rounded hover:bg-yellow-600 flex items-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Flag Chat"})]}),r.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-xsm-medium-gray text-white rounded hover:bg-xsm-medium-gray/80",children:"Close"})]})]})]})})]})},J5=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,o]=u.useState(null),[i,l]=u.useState(null),[c,m]=u.useState(null);u.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await U5();t(x),o(null)}catch(x){o(x.message)}finally{n(!1)}},f=async x=>{try{if(m(x),!window.confirm(`🎯 CONFIRM PRIMARY OWNER PROMOTION

Please confirm that you (the admin) have successfully promoted our agent to PRIMARY OWNER of the channel.

⚠️ Only click "Yes" if:
• You have logged into the seller's account
• You have promoted the agent to Primary Owner (not just Owner)
• Agent now has full administrative control
• You have taken final screenshots
• Ready to secure the account and notify buyer

This action will:
• Mark the deal as "Agent has Primary Owner status"
• Send confirmation message to buyer and seller
• Allow buyer to proceed with payment

Continue?`)){m(null);return}const g=await H5(x);if(g.success)alert(`✅ Primary owner status confirmed successfully!

Actions completed:
• Deal marked as "Primary Owner Confirmed"
• Ownership confirmation message sent to buyer and seller
• Buyer can now proceed with payment`),h();else throw new Error(g.message||"Failed to confirm primary owner status")}catch(b){console.error("Error confirming primary owner made:",b),alert(`❌ Failed to confirm primary owner status.

Error: `+b.message+`

Please try again or check the console for details.`)}finally{m(null)}},d=x=>{switch(x){case"Completed":return"text-green-400 bg-green-400/10";case"Fee Paid - Awaiting Seller":return"text-blue-400 bg-blue-400/10";case"Seller Agreed - Awaiting Payment":return"text-yellow-400 bg-yellow-400/10";default:return"text-gray-400 bg-gray-400/10"}},p=x=>x?new Date(x).toLocaleDateString()+" "+new Date(x).toLocaleTimeString():"N/A",w=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x);return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-xsm-yellow"})}):a?r.jsxs("div",{className:"bg-red-900/20 border border-red-500/20 rounded-lg p-4",children:[r.jsxs("p",{className:"text-red-400",children:["Error loading deals: ",a]}),r.jsx("button",{onClick:h,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Deal Management"}),r.jsx("button",{onClick:h,className:"px-4 py-2 bg-xsm-yellow text-black rounded-lg hover:bg-yellow-400 transition-colors",children:"Refresh"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ra,{className:"w-6 h-6 text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Deals"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-6 h-6 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Completed"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.filter(x=>x.status==="Completed").length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vt,{className:"w-6 h-6 text-yellow-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"In Progress"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.filter(x=>x.status!=="Completed").length})]})]})}),r.jsx("div",{className:"bg-xsm-dark-gray p-4 rounded-lg border border-xsm-medium-gray",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Rt,{className:"w-6 h-6 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Value"}),r.jsx("p",{className:"text-xl font-bold text-white",children:w(e.reduce((x,b)=>x+b.price,0))})]})]})})]}),r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg border border-xsm-medium-gray overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-xsm-medium-gray",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Deal ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Channel"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Price"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Buyer"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Seller"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Progress"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Created"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-xsm-medium-gray",children:e.map(x=>r.jsxs("tr",{className:"hover:bg-xsm-medium-gray/30",children:[r.jsxs("td",{className:"px-4 py-3 text-sm text-white",children:["#",x.id]}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:x.channel_title}),r.jsx("p",{className:"text-xs text-gray-400",children:x.platform})]})}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-green-400",children:w(x.price)}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white",children:x.buyer.username}),r.jsx("p",{className:"text-xs text-gray-400",children:x.buyer.email})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-white",children:x.seller.username}),r.jsx("p",{className:"text-xs text-gray-400",children:x.seller.email})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(x.status)}`,children:x.status})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:r.jsx("div",{className:"bg-xsm-yellow h-2 rounded-full transition-all duration-300",style:{width:`${x.progress}%`}})}),r.jsxs("span",{className:"text-xs text-gray-400",children:[x.progress,"%"]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:new Date(x.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>l(x),className:"text-xsm-yellow hover:text-yellow-400 transition-colors",title:"View Details",children:r.jsx(nt,{className:"w-4 h-4"})}),x.seller_gave_rights&&!x.seller_made_primary_owner&&r.jsx("button",{onClick:()=>f(x.id),disabled:c===x.id,className:"bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors disabled:opacity-50",title:"Click when you (admin) have made the agent Primary Owner of the channel",children:c===x.id?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"I HAVE MADE THE PRIMARY OWNER"})]})})]},x.id))})]})}),e.length===0&&r.jsx("div",{className:"text-center py-8 text-gray-400",children:"No deals found"})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-6 max-w-2xl w-full mx-4 max-h-screen overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-white",children:["Deal Details - #",i.id]}),r.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:"✕"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Channel Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Title:"}),r.jsx("p",{className:"text-white",children:i.channel_title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Platform:"}),r.jsx("p",{className:"text-white",children:i.platform})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Price:"}),r.jsx("p",{className:"text-green-400 font-bold",children:w(i.price)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(i.status)}`,children:i.status})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Buyer"}),r.jsx("p",{className:"text-white",children:i.buyer.username}),r.jsx("p",{className:"text-gray-400 text-sm",children:i.buyer.email})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Seller"}),r.jsx("p",{className:"text-white",children:i.seller.username}),r.jsx("p",{className:"text-gray-400 text-sm",children:i.seller.email})]})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Deal Timeline"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Deal Created"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.created_at)})]})]}),i.seller_agreed&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Seller Agreed"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.seller_agreed_at)})]})]}),i.transaction_fee_paid&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Transaction Fee Paid"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[p(i.transaction_fee_paid_at),i.transaction_fee_payment_method&&r.jsxs("span",{children:[" via ",i.transaction_fee_payment_method]})]}),i.transaction_fee_paid_by&&r.jsxs("p",{className:"text-sm text-gray-400",children:["Paid by: ",i.transaction_fee_paid_by]})]})]}),i.agent_email_sent&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-5 h-5 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Agent Email Sent"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.agent_email_sent_at)}),r.jsx("p",{className:"text-sm text-blue-300",children:"Agent email provided to seller for account access"})]})]}),i.seller_gave_rights&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ue,{className:"w-5 h-5 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white",children:"Agent Access Confirmed"}),r.jsx("p",{className:"text-sm text-gray-400",children:p(i.seller_gave_rights_at)}),r.jsx("p",{className:"text-sm text-green-300",children:"Seller confirmed giving rights to agent"})]})]})]})]}),r.jsxs("div",{className:"bg-xsm-medium-gray p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-white mb-2",children:"Progress"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:"bg-xsm-yellow h-3 rounded-full transition-all duration-300",style:{width:`${i.progress}%`}})}),r.jsxs("span",{className:"text-white font-medium",children:[i.progress,"%"]})]})]})]})]})})]})},Z5=()=>{Fe();const[e,t]=u.useState("dashboard"),[s,n]=u.useState([{title:"Total Users",value:"-",icon:Nn},{title:"Active Listings",value:"-",icon:xf},{title:"Total Chats",value:"-",icon:mf}]),[a,o]=u.useState(!0),[i,l]=u.useState(null);u.useEffect(()=>{o(!0),l(null),z5().then(m=>{n([{title:"Total Users",value:m.totalUsers,icon:Nn},{title:"Active Listings",value:m.totalListings,icon:xf},{title:"Total Chats",value:m.totalChats,icon:mf}]),o(!1)}).catch(m=>{l(m.message||"Failed to fetch dashboard stats"),o(!1)})},[]);const c=()=>{switch(e){case"manage-users":return r.jsx(K5,{});case"review-listings":return r.jsx(X5,{});case"review-chats":return r.jsx(Q5,{});case"review-deals":return r.jsx(J5,{});default:return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a?r.jsx("div",{className:"col-span-3 text-center text-xsm-light-gray py-8",children:"Loading statistics..."}):i?r.jsx("div",{className:"col-span-3 text-center text-red-400 py-8",children:i}):s.map((m,h)=>r.jsxs("div",{className:"bg-xsm-dark-gray p-6 rounded-xl border border-xsm-medium-gray",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx(m.icon,{className:"h-8 w-8 text-xsm-yellow"})}),r.jsx("h3",{className:"text-lg text-xsm-light-gray mb-2",children:m.title}),r.jsx("p",{className:"text-2xl font-bold",children:m.value})]},h))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{name:"Manage Users",view:"manage-users"},{name:"Review Listings",view:"review-listings"},{name:"Review Chats",view:"review-chats",icon:Zg},{name:"Review Deals",view:"review-deals",icon:br}].map((m,h)=>r.jsxs("button",{onClick:()=>t(m.view),className:"p-4 bg-xsm-dark-gray border border-xsm-medium-gray rounded-lg hover:bg-xsm-medium-gray transition-colors text-left flex items-center gap-2",children:[m.icon&&r.jsx(m.icon,{className:"h-5 w-5 text-xsm-yellow"}),r.jsx("span",{children:m.name})]},h))})]})}};return r.jsxs("div",{className:"min-h-screen bg-xsm-black text-white p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-xsm-yellow",children:e==="dashboard"?"Admin Dashboard":"Admin Dashboard / "+e.split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")}),r.jsx("div",{className:"flex items-center space-x-4",children:e!=="dashboard"&&r.jsx("button",{onClick:()=>t("dashboard"),className:"px-4 py-2 bg-xsm-medium-gray hover:bg-xsm-medium-gray/80 rounded-lg transition-colors",children:"Back to Dashboard"})})]}),c()]})},eE="https://xsmmarket.com/api",tE=()=>{Fe();const[e,t]=u.useState({name:"",email:"",subject:"",category:"",message:""}),[s,n]=u.useState(!1),{toast:a}=Pt(),o=["General Inquiry","Technical Support","Account Issues","Transaction Support","Report a Problem","Partnership Inquiry","Press/Media","Other"],i=c=>{const{name:m,value:h}=c.target;t(f=>({...f,[m]:h}))},l=async()=>{if(!e.name||!e.email||!e.subject||!e.category||!e.message){a({variant:"destructive",title:"Error",description:"Please fill in all required fields."});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){a({variant:"destructive",title:"Invalid Email",description:"Please enter a valid email address."});return}n(!0);try{const h=await(await fetch(`${eE}/contact/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();h.success?(a({title:"Message Sent Successfully! ✅",description:"We'll get back to you within 24 hours. Thank you for contacting us!"}),t({name:"",email:"",subject:"",category:"",message:""})):a({variant:"destructive",title:"Failed to Send Message",description:h.message||"Something went wrong. Please try again."})}catch(m){console.error("Error sending message:",m),a({variant:"destructive",title:"Connection Error",description:"Unable to send message. Please check your connection and try again."})}finally{n(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-xsm-black to-xsm-dark-gray py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-xsm-yellow mb-4",children:"Contact Us"}),r.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Have questions or need support? We're here to help. Get in touch with our team and we'll respond as quickly as possible."})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-6",children:"Get in Touch"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(bn,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Email"}),r.jsx("div",{className:"text-xsm-light-gray",children:"support@xsmmarket.com"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(JN,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Phone"}),r.jsx("div",{className:"text-xsm-light-gray",children:"+1 (555) 123-4567"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(XN,{className:"w-5 h-5 text-xsm-yellow flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Address"}),r.jsxs("div",{className:"text-xsm-light-gray",children:["123 Digital Ave",r.jsx("br",{}),"Tech City, TC 12345",r.jsx("br",{}),"United States"]})]})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-4",children:"Business Hours"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Monday - Friday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"9:00 AM - 6:00 PM EST"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Saturday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"10:00 AM - 4:00 PM EST"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-white",children:"Sunday"}),r.jsx("span",{className:"text-xsm-light-gray",children:"Closed"})]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-xsm-black/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(vt,{className:"w-4 h-4 text-xsm-yellow"}),r.jsx("span",{className:"text-white font-medium",children:"Emergency Support"})]}),r.jsx("p",{className:"text-xs text-xsm-light-gray mt-1",children:"24/7 support available for urgent transaction issues"})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-xl font-bold text-xsm-yellow mb-4",children:"Quick Help"}),r.jsx("div",{children:r.jsx("button",{className:"w-full text-left p-3 bg-xsm-black/50 rounded-lg hover:bg-xsm-medium-gray transition-colors",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(jr,{className:"w-5 h-5 text-xsm-yellow"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Live Chat"}),r.jsx("div",{className:"text-xs text-xsm-light-gray",children:"Get instant help"})]})]})})})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"xsm-card",children:[r.jsx("h3",{className:"text-2xl font-bold text-xsm-yellow mb-6",children:"Send us a Message"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",name:"name",value:e.name,onChange:i,className:"xsm-input w-full",placeholder:"Your full name",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Email Address *"}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:i,className:"xsm-input w-full",placeholder:"your@email.com",required:!0})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Category *"}),r.jsxs("select",{name:"category",value:e.category,onChange:i,className:"xsm-input w-full",required:!0,children:[r.jsx("option",{value:"",children:"Select a category"}),o.map(c=>r.jsx("option",{value:c,children:c},c))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Subject *"}),r.jsx("input",{type:"text",name:"subject",value:e.subject,onChange:i,className:"xsm-input w-full",placeholder:"Brief subject line",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-medium mb-2",children:"Message *"}),r.jsx("textarea",{name:"message",value:e.message,onChange:i,rows:6,className:"xsm-input w-full resize-none",placeholder:"Please provide as much detail as possible to help us assist you better...",required:!0})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-semibold mb-2",children:"Response Time"}),r.jsxs("ul",{className:"text-sm text-xsm-light-gray space-y-1",children:[r.jsx("li",{children:"• General inquiries: Within 24 hours"}),r.jsx("li",{children:"• Technical support: Within 4-8 hours"}),r.jsx("li",{children:"• Transaction issues: Within 2 hours"}),r.jsx("li",{children:"• Emergency support: Immediate response"})]})]}),r.jsxs("button",{onClick:l,disabled:s,className:`w-full xsm-button text-lg py-4 flex items-center justify-center space-x-2 ${s?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx(Qu,{className:"w-5 h-5"}),r.jsx("span",{children:s?"Sending...":"Send Message"})]}),r.jsx("p",{className:"text-sm text-xsm-light-gray text-center",children:"By sending this message, you agree to our Privacy Policy and Terms of Service"})]})]})})]})]})})},rE=()=>"https://xsmmarket.com/api",sE=()=>rE().replace("/api",""),Po=sE(),nE=({isOpen:e,onClose:t,deal:s,onPaymentComplete:n})=>{const[a,o]=u.useState("btc"),[i,l]=u.useState([]),[c,m]=u.useState(null),[h,f]=u.useState(!1),[d,p]=u.useState(!1),[w,x]=u.useState(""),[b,g]=u.useState(null);u.useEffect(()=>{e&&y()},[e]),u.useEffect(()=>{if(c&&["waiting","confirming","sending"].includes(c.status)){const T=setInterval(()=>{N()},1e4);return g(T),()=>{T&&clearInterval(T)}}},[c]),u.useEffect(()=>()=>{b&&clearInterval(b)},[b]);const y=async()=>{try{console.log("Fetching currencies from:",`${Po}/api/crypto-payments/currencies`);const T=await fetch(`${Po}/api/crypto-payments/currencies`);if(console.log("Response status:",T.status),!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const A=await T.json();console.log("Currencies result:",A),A.success?(l(A.currencies),console.log("Currencies set:",A.currencies)):(console.error("Failed to fetch currencies:",A.message),x("Failed to load supported currencies"))}catch(T){console.error("Failed to fetch currencies:",T),x("Failed to connect to payment service")}},v=async()=>{if(s){f(!0),x("");try{const T=localStorage.getItem("token");console.log("Creating payment for deal:",s.id,"with currency:",a),console.log("Token exists:",!!T);const A=await fetch(`${Po}/api/crypto-payments/create-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({deal_id:s.id,pay_currency:a})});if(console.log("Create payment response status:",A.status),!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const L=await A.json();console.log("Create payment result:",L),L.success?m(L.payment):x(L.message||"Failed to create payment")}catch(T){console.error("Payment creation error:",T),x("Failed to create payment. Please try again.")}finally{f(!1)}}},N=async()=>{if(!(!s||!c)){p(!0);try{const T=localStorage.getItem("token"),L=await(await fetch(`${Po}/api/crypto-payments/payments/${s.id}/status`,{headers:{Authorization:`Bearer ${T}`}})).json();L.success&&(m(F=>F?{...F,...L.payment}:null),["finished","confirmed"].includes(L.payment.status)&&(b&&(clearInterval(b),g(null)),setTimeout(()=>{n(),t()},2e3)))}catch(T){console.error("Failed to check payment status:",T)}finally{p(!1)}}},E=T=>{navigator.clipboard.writeText(T)},S=T=>{switch(T){case"waiting":return r.jsx(vt,{className:"w-5 h-5 text-yellow-400"});case"confirming":case"sending":return r.jsx(cn,{className:"w-5 h-5 text-blue-400 animate-spin"});case"finished":case"confirmed":return r.jsx(ue,{className:"w-5 h-5 text-green-400"});case"failed":case"expired":return r.jsx(tn,{className:"w-5 h-5 text-red-400"});default:return r.jsx(vt,{className:"w-5 h-5 text-gray-400"})}},C=T=>{switch(T){case"waiting":return"Waiting for payment";case"confirming":return"Confirming payment";case"sending":return"Processing payment";case"finished":case"confirmed":return"Payment completed";case"failed":return"Payment failed";case"expired":return"Payment expired";default:return"Unknown status"}},j=T=>{switch(T){case"waiting":return"text-yellow-400 bg-yellow-400/10";case"confirming":case"sending":return"text-blue-400 bg-blue-400/10";case"finished":case"confirmed":return"text-green-400 bg-green-400/10";case"failed":case"expired":return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}};return!e||!s?null:(console.log("CryptoPaymentModal rendering:",{isOpen:e,deal:s,currencies:i.length}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:r.jsxs("div",{className:"bg-xsm-dark-bg border border-gray-700 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[r.jsx(ki,{className:"mr-3 text-orange-400",size:24}),"Cryptocurrency Payment"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{size:24})})]}),r.jsx("div",{className:"p-6 space-y-6",children:c?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Payment Status"}),r.jsx("button",{onClick:N,disabled:d,className:"p-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:r.jsx(cn,{className:`w-4 h-4 ${d?"animate-spin":""}`})})]}),r.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${j(c.status)}`,children:[S(c.status),r.jsx("span",{className:"font-medium",children:C(c.status)})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Payment Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Amount:"}),r.jsxs("span",{className:"text-white font-mono",children:["$",c.amount," ",c.currency.toUpperCase(),c.pay_amount&&r.jsxs("span",{className:"text-orange-400 ml-2",children:["≈ ",c.pay_amount," ",c.pay_currency.toUpperCase()]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-gray-400",children:"Payment ID:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-white font-mono text-sm",children:c.payment_id}),r.jsx("button",{onClick:()=>E(c.payment_id),className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(VN,{className:"w-4 h-4"})})]})]})]})]}),c.payment_url&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:c.payment_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(GN,{className:"w-4 h-4"}),r.jsx("span",{children:"Open Payment Page"})]}),c.qr_code_url&&r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:c.qr_code_url,alt:"Payment QR Code",className:"mx-auto rounded-lg bg-white p-2",style:{maxWidth:"200px"}}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Scan with your crypto wallet"})]})]}),["finished","confirmed"].includes(c.status)&&r.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[r.jsx(ue,{size:20}),r.jsx("span",{className:"font-medium",children:"Payment Completed!"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"Your escrow fee has been successfully paid. The deal will now proceed to the next stage."})]}),["failed","expired"].includes(c.status)&&r.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(tn,{size:20}),r.jsxs("span",{className:"font-medium",children:["Payment ",c.status==="failed"?"Failed":"Expired"]})]}),r.jsx("p",{className:"text-red-200 text-sm mt-1",children:c.status==="failed"?"The payment could not be processed. Please try again or contact support.":"The payment has expired. Please create a new payment to continue."})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Payment Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white border-t border-gray-600 pt-2 font-semibold",children:[r.jsx("span",{children:"Escrow Fee:"}),r.jsxs("span",{className:"text-xsm-yellow",children:["$",Number(s.escrow_fee).toFixed(2)," USD"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Cryptocurrency"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(T=>r.jsxs("button",{onClick:()=>o(T.code),className:`p-3 rounded-lg border text-left transition-all ${a===T.code?"border-orange-400 bg-orange-400/10 text-orange-400":"border-gray-600 bg-gray-800 text-white hover:border-gray-500"}`,children:[r.jsx("div",{className:"font-semibold",children:T.code.toUpperCase()}),r.jsx("div",{className:"text-sm text-gray-400",children:T.name})]},T.code))})]}),r.jsx("div",{className:"bg-orange-900/20 border border-orange-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(tn,{className:"text-orange-400 mt-0.5",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-orange-400 font-medium mb-2",children:"Important Notice"}),r.jsxs("ul",{className:"text-orange-200 text-sm space-y-1",children:[r.jsx("li",{children:"• Send the exact amount to the provided address"}),r.jsx("li",{children:"• Payment will be confirmed automatically"}),r.jsx("li",{children:"• Do not close this window until payment is complete"}),r.jsx("li",{children:"• Contact support if you experience any issues"})]})]})]})}),w&&r.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(tn,{size:16}),r.jsx("span",{className:"font-medium",children:"Error"})]}),r.jsx("p",{className:"text-red-200 text-sm mt-1",children:w})]}),r.jsx("button",{onClick:v,disabled:h,className:"w-full bg-orange-600 text-white py-3 px-6 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:h?r.jsxs(r.Fragment,{children:[r.jsx(cn,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"Creating Payment..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ki,{className:"w-4 h-4"}),r.jsx("span",{children:"Create Payment"})]})})]})})]})}))},aE=()=>"https://xsmmarket.com/api",oE=()=>aE().replace("/api",""),iE=oE(),fw=({isOpen:e,onClose:t,deal:s,userType:n,onPaymentComplete:a})=>{const[o,i]=u.useState(null),[l,c]=u.useState(!1),[m,h]=u.useState(!1),[f,d]=u.useState(!1);if(!e||!s)return null;console.log("TransactionFeePayment state:",{isOpen:e,deal:!!s,showCryptoModal:f,selectedPaymentMethod:o,showConfirmation:m});const p=v=>{console.log("Payment method selected:",v),i(v),console.log("Opening crypto modal"),d(!0)},w=async()=>{if(o){c(!0);try{const v=localStorage.getItem("token"),E=await(await fetch(`${iE}/api/deals/${s.id}/pay-transaction-fee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({payment_method:o,payer_type:n})})).json();E.success?(a(),t()):alert("Payment failed: "+E.message)}catch(v){console.error("Payment error:",v),alert("Payment failed. Please try again.")}finally{c(!1)}}},x=()=>{h(!1),i(null)},b=()=>{console.log("Crypto payment completed"),d(!1),a(),t()},g=()=>{console.log("Closing crypto modal"),d(!1),i(null)},y=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v);return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:[r.jsxs("div",{className:"bg-xsm-dark-bg border border-gray-700 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction Fee Payment"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{size:24})})]}),r.jsx("div",{className:"p-6 space-y-6",children:m?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center space-y-6",children:[r.jsx("div",{className:"bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:o==="stripe"?r.jsx(al,{className:"text-purple-400",size:32}):r.jsx(ki,{className:"text-orange-400",size:32})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Confirm Payment Details"}),r.jsxs("p",{className:"text-gray-400",children:["You are about to pay the transaction fee using"," ",r.jsx("span",{className:"text-xsm-yellow font-medium",children:o==="stripe"?"Stripe":"Cryptocurrency"})]})]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Payment Method:"}),r.jsx("span",{className:"font-medium capitalize",children:o})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction Fee:"}),r.jsx("span",{className:"font-semibold text-xsm-yellow",children:y(s.escrow_fee)})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Paying as:"}),r.jsxs("span",{className:"font-medium capitalize flex items-center",children:[r.jsx(ut,{size:16,className:"mr-1"}),n]})]})]})}),r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(ue,{size:20}),r.jsx("span",{className:"font-medium",children:"Secure Payment"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"Your payment is protected by our secure escrow system and will be processed safely."})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:x,disabled:l,className:"flex-1 bg-gray-700 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Back"}),r.jsx("button",{onClick:w,disabled:l,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Processing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Rt,{size:20}),r.jsx("span",{children:"Confirm Payment"})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Deal Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction ID:"}),r.jsx("span",{className:"font-mono",children:s.transaction_id})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel Price:"}),r.jsx("span",{children:y(s.channel_price)})]}),r.jsxs("div",{className:"flex justify-between text-white border-t border-gray-600 pt-2 font-semibold",children:[r.jsx("span",{children:"Transaction Fee:"}),r.jsx("span",{className:"text-xsm-yellow",children:y(s.escrow_fee)})]})]})]}),r.jsx("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ls,{className:"text-blue-300 mt-0.5",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Responsibility"}),r.jsx("p",{className:"text-blue-200 text-sm",children:n==="buyer"?"As the buyer, you are typically responsible for paying the transaction fee. However, if you and the seller have agreed otherwise, the seller can also pay this fee.":"As the seller, you can choose to pay the transaction fee if you and the buyer have reached an agreement, or if the buyer is unable to pay."})]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Choose Payment Method"}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.jsxs("button",{onClick:()=>p("crypto"),className:"flex items-center justify-between p-4 bg-gray-800 hover:bg-gray-700 border border-gray-600 hover:border-xsm-yellow rounded-lg transition-all group",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-orange-600 p-3 rounded-lg group-hover:bg-orange-500 transition-colors",children:r.jsx(ki,{className:"text-white",size:24})}),r.jsxs("div",{className:"text-left",children:[r.jsx("h4",{className:"text-white font-semibold",children:"Cryptocurrency"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Bitcoin, Ethereum, USDT, and more"}),r.jsx("p",{className:"text-yellow-400 text-xs",children:"Lower fees, secure & private"})]})]}),r.jsx(Ju,{className:"text-xsm-yellow opacity-0 group-hover:opacity-100 transition-opacity",size:20})]})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Important Notes"}),r.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[r.jsx("li",{children:"• The transaction fee ensures secure escrow service"}),r.jsx("li",{children:"• Payment is processed securely through our trusted partners"}),r.jsx("li",{children:"• Once paid, the deal will proceed to the next stage"}),r.jsx("li",{children:"• Both parties will be notified when payment is complete"})]})]})]})})]}),r.jsx(nE,{isOpen:f,onClose:g,deal:s?{id:s.id,channel_title:s.channel_title,escrow_fee:s.escrow_fee}:null,onPaymentComplete:b})]})},lE=()=>"https://xsmmarket.com/api",cE=()=>lE().replace("/api",""),To=cE(),dE=({isOpen:e,onClose:t,deal:s,onDealUpdate:n})=>{const[a,o]=u.useState(!1),[i,l]=u.useState(!1),[c,m]=u.useState(!1),[h,f]=u.useState(!1),[d,p]=u.useState(null),[w,x]=u.useState(null),b=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T),g=async()=>{if(s!=null&&s.id)try{const T=localStorage.getItem("token"),A=await fetch(`${To}/api/deals/${s.id}/status`,{headers:{Authorization:`Bearer ${T}`}});if(A.ok){const L=await A.json();console.log("Deal status fetched:",L),p(L),x(L)}else console.error("Failed to fetch deal status:",A.status)}catch(T){console.error("Error fetching deal status:",T)}};if(u.useEffect(()=>{if(e&&s){g();const T=setInterval(g,3e4);return()=>clearInterval(T)}},[e,s==null?void 0:s.id]),!e||!s)return null;const y=async()=>{try{l(!0);const T=localStorage.getItem("token"),A=await fetch(`${To}/api/deals/${s.id}/confirm-rights`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}}),L=await A.json();if(A.ok){let F=`✅ Rights Confirmation Successful!

You have confirmed that you've given account access to our agent.

Transaction ID: ${s.transaction_id}
Channel: ${s.channel_title}
Status: Agent Access Confirmed`;L.platform_type==="youtube"?F+=`

⏰ YouTube Channel Timer Started
Due to YouTube's requirements, you must wait 7 days before promoting our agent to Primary Owner. 

Timer started: Now
Timer expires: ${L.timer_expires_formatted||"In 7 days"}

You will be able to promote the agent to Primary Owner after the timer expires. We'll notify you when it's time!`:F+=`

✅ Ready for Primary Owner Promotion
Since this is not a YouTube channel, you can immediately promote our agent to Primary Owner when ready.`,F+=`

Our agent will now verify the account access. Thank you for your cooperation in ensuring a secure transaction!`,alert(F),n(),g(),t()}else throw new Error(L.message||"Failed to confirm rights")}catch(T){console.error("Error confirming rights:",T),alert("Failed to confirm rights: "+T.message)}finally{l(!1)}},v=async()=>{try{m(!0);const T=localStorage.getItem("token"),A=await fetch(`${To}/api/deals/${s.id}/seller-confirmed-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}}),L=await A.json();if(A.ok)alert(`✅ Payment Receipt Confirmed!

You have successfully confirmed that you received payment from the buyer.

Transaction ID: ${s.transaction_id}
Channel: ${s.channel_title}
Amount: $${s.channel_price}

🎉 Deal Status: Payment Complete!

Both you and the buyer have now confirmed the payment. Our agent will complete the final account transfer and provide the buyer with final account credentials.

Thank you for using our secure marketplace!`),n(),g(),t();else throw new Error(L.message||"Failed to confirm payment receipt")}catch(T){console.error("Error confirming payment receipt:",T),alert("Failed to confirm payment receipt: "+T.message)}finally{m(!1)}},N=async()=>{try{o(!0);const T=localStorage.getItem("token"),A=await fetch(`${To}/api/deals/${s.id}/seller-agree`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}}),L=await A.json();if(A.ok)alert(`✅ Deal Agreement Successful!

You have successfully agreed to the terms for transaction ${s.transaction_id}.

Channel: ${s.channel_title}
Amount: $${s.channel_price}
Buyer: ${s.buyer_username}

The buyer will now be notified that you have accepted their payment methods. The transaction will proceed to the next step.

Deal Status: Terms Agreed - Awaiting Escrow Payment`),n(),t();else throw new Error(L.message||"Failed to agree to deal")}catch(T){console.error("Error agreeing to deal:",T),alert("Failed to agree to deal. Please try again.")}finally{o(!1)}},E=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=T=>{switch(T){case"pending":return"text-yellow-500";case"terms_agreed":return"text-green-500";case"completed":return"text-blue-500";default:return"text-gray-500"}},C=T=>{switch(T){case"pending":return"Waiting for Your Review";case"terms_agreed":return"Terms Agreed - Awaiting Payment";case"agent_access_pending":return"Awaiting Agent Access Confirmation";case"waiting_promotion_timer":return"Waiting for YouTube Timer (7 days)";case"promotion_timer_complete":return"Transfer Complete";case"admin_ownership_confirmed":return"Admin Confirmed Primary Owner";case"buyer_paid_seller":return"Buyer Confirmed Payment";case"seller_confirmed_payment":return"Payment Complete - Deal Finalized";case"completed":return"Deal Completed";default:return T}},j=T=>{if(T<=0)return"0 seconds";const A=Math.floor(T/(24*60*60)),L=Math.floor(T%(24*60*60)/(60*60)),F=Math.floor(T%(60*60)/60);return A>0?`${A} day${A>1?"s":""}, ${L} hour${L>1?"s":""}`:L>0?`${L} hour${L>1?"s":""}, ${F} minute${F>1?"s":""}`:`${F} minute${F>1?"s":""}`};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-xsm-dark-gray rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Deal Review"}),r.jsxs("p",{className:"text-xsm-light-gray",children:["Transaction ID: ",s.transaction_id]})]}),r.jsx("button",{onClick:t,className:"text-xsm-light-gray hover:text-white transition-colors",children:r.jsx(Ie,{size:24})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(vt,{className:"text-xsm-yellow",size:20}),r.jsx("span",{className:"text-white font-medium",children:"Deal Status"})]}),r.jsx("span",{className:`font-semibold ${S(s.deal_status)}`,children:C(s.deal_status)})]})}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Channel Details"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel:"}),r.jsx("span",{className:"font-medium",children:s.channel_title})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Channel ID:"}),r.jsx("span",{className:"font-mono text-sm",children:s.channel_id})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Sale Price:"}),r.jsxs("span",{className:"font-semibold text-green-400",children:["$",s.channel_price]})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Escrow Fee:"}),r.jsxs("span",{children:["$",s.escrow_fee]})]}),r.jsxs("div",{className:"flex justify-between text-white",children:[r.jsx("span",{children:"Transaction Type:"}),r.jsx("span",{className:"capitalize",children:s.transaction_type})]})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Buyer Information"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut,{className:"text-xsm-light-gray",size:20}),r.jsx("span",{className:"text-white font-medium",children:s.buyer_username})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qu,{className:"text-xsm-light-gray",size:20}),r.jsxs("span",{className:"text-xsm-light-gray",children:["Deal created: ",E(s.created_at)]})]})]})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:[r.jsx(al,{className:"inline mr-2",size:20}),"Payment Methods Available"]}),r.jsx("p",{className:"text-xsm-light-gray mb-4",children:`The buyer has selected these payment methods. If you're comfortable with any of these options, click "I Agree to Terms" below.`}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:s.payment_methods.map((T,A)=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-xsm-yellow rounded-full flex items-center justify-center",children:r.jsx(Rt,{size:16,className:"text-black"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:T.name}),r.jsx("div",{className:"text-xsm-light-gray text-sm capitalize",children:T.category})]})]},A))}),s.payment_methods.length===0&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-xsm-light-gray",children:"No payment methods selected"})})]}),r.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Transaction Process"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(ue,{size:12,className:"text-white"})}),r.jsx("span",{className:"text-white",children:"Buyer created deal and selected payment methods"})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${s.seller_agreed?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${s.seller_agreed?"bg-green-500":"bg-gray-600"}`,children:s.seller_agreed?r.jsx(ue,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"2"})}),r.jsx("span",{className:"text-white",children:"Seller agrees to payment methods"}),s.seller_agreed_at&&r.jsxs("span",{className:"text-xsm-light-gray text-sm",children:["(Agreed: ",E(s.seller_agreed_at),")"]})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${(d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${(d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid?"bg-green-500":"bg-gray-600"}`,children:(d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid?r.jsx(ue,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"3"})}),r.jsx("span",{className:"text-white",children:"Transaction fee paid"})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${(d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${(d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights?"bg-green-500":"bg-gray-600"}`,children:(d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights?r.jsx(ue,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"4"})}),r.jsx("span",{className:"text-white",children:"Give agent manager access"})]}),(d==null?void 0:d.platform_type)==="youtube"&&r.jsxs("div",{className:`flex items-center space-x-3 ${d!=null&&d.timer_completed?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d!=null&&d.timer_completed?"bg-green-500":d!=null&&d.seller_gave_rights?"bg-yellow-500":"bg-gray-600"}`,children:d!=null&&d.timer_completed?r.jsx(ue,{size:12,className:"text-white"}):d!=null&&d.seller_gave_rights?r.jsx(dc,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:"5"})}),r.jsx("span",{className:"text-white",children:"Wait 7 days (YouTube requirement)"}),(d==null?void 0:d.timer_remaining_seconds)>0&&r.jsxs("span",{className:"text-yellow-400 text-sm",children:["(",j(d.timer_remaining_seconds)," remaining)"]})]}),r.jsxs("div",{className:`flex items-center space-x-3 ${d!=null&&d.seller_made_primary_owner?"opacity-100":"opacity-60"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d!=null&&d.seller_made_primary_owner?"bg-green-500":"bg-gray-600"}`,children:d!=null&&d.seller_made_primary_owner?r.jsx(ue,{size:12,className:"text-white"}):r.jsx("span",{className:"text-white text-xs",children:(d==null?void 0:d.platform_type)==="youtube"?"6":"5"})}),r.jsx("span",{className:"text-white",children:"Promote agent to primary owner"})]}),r.jsxs("div",{className:"flex items-center space-x-3 opacity-60",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:(d==null?void 0:d.platform_type)==="youtube"?"7":"6"})}),r.jsx("span",{className:"text-white",children:"Buyer pays you via selected method"})]}),r.jsxs("div",{className:"flex items-center space-x-3 opacity-60",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs",children:(d==null?void 0:d.platform_type)==="youtube"?"8":"7"})}),r.jsx("span",{className:"text-white",children:"Channel transferred to buyer"})]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 bg-gray-700 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition-colors",children:"Back"}),!s.seller_agreed&&r.jsx("button",{onClick:N,disabled:a,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Agreeing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ue,{size:20}),r.jsx("span",{children:"I Agree to Terms"})]})}),(()=>{const T=s.seller_agreed&&!((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid);return console.log("Pay Transaction Fee button - Show:",T,{seller_agreed:s.seller_agreed,transaction_fee_paid_status:d==null?void 0:d.transaction_fee_paid,transaction_fee_paid_fallback:s.transaction_fee_paid,final_paid_value:(d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid}),T})()&&r.jsxs("button",{onClick:()=>f(!0),className:"flex-1 bg-xsm-yellow text-black py-3 px-6 rounded-lg hover:bg-yellow-500 transition-colors flex items-center justify-center space-x-2 font-semibold",children:[r.jsx(Rt,{size:20}),r.jsx("span",{children:"Pay Transaction Fee"})]}),(()=>{const T=s.seller_agreed&&((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid)&&!((d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights);return console.log("I Have Given The Rights button - Show:",T,{seller_agreed:s.seller_agreed,transaction_fee_paid_status:d==null?void 0:d.transaction_fee_paid,transaction_fee_paid_fallback:s.transaction_fee_paid,seller_gave_rights_status:d==null?void 0:d.seller_gave_rights,seller_gave_rights_fallback:s.seller_gave_rights,final_paid_value:(d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid,final_rights_value:(d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights}),T})()&&r.jsx("button",{onClick:y,disabled:i,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Nt,{size:20}),r.jsx("span",{children:"I Have Given The Rights"})]})}),s.seller_agreed&&((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid)&&((d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights)&&!(d!=null&&d.seller_made_primary_owner)&&r.jsxs("div",{className:"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2 opacity-75 cursor-not-allowed",children:[r.jsx(dc,{size:20}),(d==null?void 0:d.platform_type)==="youtube"&&(d==null?void 0:d.timer_remaining_seconds)>0?r.jsxs("span",{children:["Wait ",Math.ceil((d.timer_remaining_seconds||0)/(24*60*60))," More Days"]}):r.jsx("span",{children:"Waiting for Admin to Promote Agent"})]}),(d==null?void 0:d.seller_made_primary_owner)&&!(d!=null&&d.buyer_paid_seller)&&r.jsxs("div",{className:"flex-1 bg-yellow-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2",children:[r.jsx(vt,{size:20}),r.jsx("span",{children:"Waiting for Buyer Payment"})]}),(d==null?void 0:d.seller_made_primary_owner)&&(d==null?void 0:d.buyer_paid_seller)&&!(d!=null&&d.seller_confirmed_payment)&&r.jsx("button",{onClick:v,disabled:c,className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 font-semibold",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Rt,{size:20}),r.jsx("span",{children:"I Have Received The Payment"})]})}),(d==null?void 0:d.seller_made_primary_owner)&&(d==null?void 0:d.buyer_paid_seller)&&(d==null?void 0:d.seller_confirmed_payment)&&r.jsxs("div",{className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg flex items-center justify-center space-x-2",children:[r.jsx(ue,{size:20}),r.jsx("span",{children:"Deal Complete - Both Payments Confirmed"})]})]}),!s.seller_agreed&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Method Negotiation"}),r.jsx("p",{className:"text-blue-200 text-sm",children:`If none of the buyer's selected payment methods work for you, you can contact them through the chat system to discuss alternative payment methods. Once you both agree on a method, come back here and click "I Agree to Terms".`})]}),s.seller_agreed&&!((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid)&&r.jsxs("div",{className:"bg-xsm-yellow bg-opacity-10 border border-xsm-yellow rounded-lg p-4",children:[r.jsxs("h4",{className:"text-xsm-yellow font-medium mb-2 flex items-center",children:[r.jsx(br,{size:16,className:"mr-2"}),"Transaction Fee Payment Required"]}),r.jsxs("p",{className:"text-yellow-200 text-sm mb-3",children:["The transaction fee (",b(s.escrow_fee),") needs to be paid to proceed with the deal. Either you or the buyer can pay this fee to move forward."]}),r.jsxs("div",{className:"bg-yellow-800 rounded-lg p-3 space-y-2",children:[r.jsx("p",{className:"text-yellow-200 text-sm font-medium",children:"💰 Payment Options:"}),r.jsxs("ul",{className:"text-yellow-200 text-xs space-y-1 ml-4",children:[r.jsx("li",{children:"• Buyer pays (most common)"}),r.jsx("li",{children:"• You pay (if agreed upon)"}),r.jsx("li",{children:"• Either party can proceed"})]})]}),r.jsx("div",{className:"mt-3 p-3 bg-yellow-800 rounded-lg",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:'💡 Once either party pays the fee, the "I Have Given The Rights" button will appear automatically.'})})]}),((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(ue,{size:16,className:"mr-2"}),"Transaction Fee Paid"]}),r.jsxs("p",{className:"text-green-200 text-sm",children:["The transaction fee has been paid by ",((d==null?void 0:d.transaction_fee_paid_by)??s.transaction_fee_paid_by)==="seller"?"you":"the buyer","via ",(d==null?void 0:d.transaction_fee_payment_method)??s.transaction_fee_payment_method,". The deal will now proceed to the next stage."]})]}),((d==null?void 0:d.transaction_fee_paid)??s.transaction_fee_paid)&&((d==null?void 0:d.agent_email_sent)??s.agent_email_sent)&&!((d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-3 flex items-center",children:[r.jsx(Nt,{size:16,className:"mr-2"}),"Give Account Rights to Agent"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-blue-800 rounded-lg p-3",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium mb-1",children:"📧 Agent Email:"}),r.jsx("p",{className:"text-blue-100 font-mono text-sm bg-blue-700 p-2 rounded",children:"rebirthcar63@gmail.com"})]}),r.jsxs("div",{className:"text-blue-200 text-sm space-y-2",children:[r.jsx("p",{className:"font-medium",children:"Instructions:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[r.jsx("li",{children:"Add the agent email as a manager/collaborator to your account"}),r.jsx("li",{children:"Give permissions to view and manage the account"}),r.jsx("li",{children:"DO NOT transfer ownership yet - our agent will handle that securely"}),r.jsx("li",{children:'Click "I Have Given The Rights" button below once completed'})]})]}),r.jsx("div",{className:"bg-yellow-800 border border-yellow-600 rounded-lg p-3",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:"⚠️ Important: Only give manager/collaborator access, NOT ownership. Our agent will handle the ownership transfer process securely."})})]})]}),((d==null?void 0:d.seller_gave_rights)??s.seller_gave_rights)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(ue,{size:16,className:"mr-2"}),"Rights Confirmed"]}),r.jsx("p",{className:"text-green-200 text-sm",children:"You have confirmed giving account access to our agent. The agent is now verifying the account and will proceed with the secure transfer process. You will be updated once verification is complete."})]}),(d==null?void 0:d.platform_type)==="youtube"&&(d==null?void 0:d.seller_gave_rights)&&!(d!=null&&d.timer_completed)&&(d==null?void 0:d.timer_remaining_seconds)>0&&r.jsxs("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-yellow-300 font-medium mb-3 flex items-center",children:[r.jsx(dc,{size:16,className:"mr-2"}),"YouTube Primary Owner Timer"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-yellow-200 text-sm",children:"YouTube requires a 7-day waiting period before you can promote our agent to Primary Owner."}),r.jsxs("div",{className:"bg-yellow-800 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-yellow-200 text-sm font-medium",children:"Time Remaining:"}),r.jsx("span",{className:"text-yellow-100 font-bold",children:j(d.timer_remaining_seconds)})]}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-yellow-200 text-sm",children:"Timer Expires:"}),r.jsx("span",{className:"text-yellow-100 text-sm font-mono",children:d.timer_expires_formatted})]})]}),r.jsx("p",{className:"text-yellow-200 text-xs",children:"⏰ You will be able to promote the agent to Primary Owner after this timer expires. We'll update the interface automatically when it's ready."})]})]}),(d==null?void 0:d.seller_gave_rights)&&((d==null?void 0:d.platform_type)!=="youtube"||(d==null?void 0:d.platform_type)==="youtube"&&((d==null?void 0:d.timer_expired)||(d==null?void 0:d.timer_completed)))&&!(d!=null&&d.seller_made_primary_owner)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-3 flex items-center",children:[r.jsx(Nt,{size:16,className:"mr-2"}),"Ready for Admin to Promote Agent"]}),r.jsxs("div",{className:"space-y-3",children:[(d==null?void 0:d.platform_type)==="youtube"?r.jsx("p",{className:"text-blue-200 text-sm",children:"✅ The 7-day YouTube timer has completed! Our admin will now promote the agent to Primary Owner of your channel."}):r.jsx("p",{className:"text-blue-200 text-sm",children:"Since this is not a YouTube channel, our admin can promote the agent to Primary Owner immediately."}),r.jsxs("div",{className:"bg-blue-800 rounded-lg p-3",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium mb-2",children:"What happens next:"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-200 text-sm ml-2",children:[r.jsx("li",{children:"Our admin will access your channel's management settings"}),r.jsx("li",{children:"Agent will be promoted to Primary Owner"}),r.jsx("li",{children:"You'll receive notification when the promotion is complete"}),r.jsx("li",{children:"Deal will proceed to final buyer payment stage"})]})]}),r.jsx("div",{className:"bg-yellow-800 border border-yellow-600 rounded-lg p-3",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:"⚠️ No action required from you. Our admin team will handle the Primary Owner promotion securely."})})]})]}),(d==null?void 0:d.seller_made_primary_owner)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(ue,{size:16,className:"mr-2"}),"Primary Owner Transfer Complete!"]}),r.jsx("p",{className:"text-green-200 text-sm",children:"🎉 Congratulations! You have successfully transferred Primary Owner rights to our agent. The channel transfer is now complete and the deal is in its final stages."})]}),(d==null?void 0:d.seller_made_primary_owner)&&(d==null?void 0:d.buyer_paid_seller)&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-blue-300 font-medium mb-2 flex items-center",children:[r.jsx(Rt,{size:16,className:"mr-2"}),"Buyer Payment Confirmed"]}),r.jsxs("p",{className:"text-blue-200 text-sm",children:["💰 The buyer has confirmed that they have paid you the agreed amount ($$",d.channel_price||s.channel_price,") for the channel transfer.",(d==null?void 0:d.buyer_paid_seller_at)&&r.jsxs("span",{className:"block mt-2 text-blue-300 text-xs",children:["Confirmed on: ",new Date(d.buyer_paid_seller_at).toLocaleDateString()]})]}),!(d!=null&&d.seller_confirmed_payment)&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-800 rounded-lg",children:[r.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"⏳ Action Required:"}),r.jsx("p",{className:"text-blue-200 text-xs",children:'Please confirm once you have received the payment by clicking "I Have Received The Payment" button above.'})]})]}),(d==null?void 0:d.seller_confirmed_payment)&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-green-300 font-medium mb-2 flex items-center",children:[r.jsx(ue,{size:16,className:"mr-2"}),"Payment Receipt Confirmed!"]}),r.jsxs("p",{className:"text-green-200 text-sm",children:["✅ You have confirmed receiving payment from the buyer. Both parties have now confirmed the payment completion.",(d==null?void 0:d.seller_confirmed_payment_at)&&r.jsxs("span",{className:"block mt-2 text-green-300 text-xs",children:["Confirmed on: ",new Date(d.seller_confirmed_payment_at).toLocaleDateString()]})]}),r.jsx("div",{className:"mt-3 p-3 bg-green-800 rounded-lg",children:r.jsx("p",{className:"text-green-200 text-sm",children:"🎊 The deal is now complete! Our agent will finalize the account transfer and provide the buyer with final account credentials."})})]})]})]}),r.jsx(fw,{isOpen:h,onClose:()=>f(!1),deal:s,userType:"seller",onPaymentComplete:()=>{console.log("Payment completed, refreshing status..."),f(!1),n(),setTimeout(g,1e3)}})]})},uE=()=>"https://xsmmarket.com/api",mE=()=>uE().replace("/api",""),hE=mE(),fE=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,o]=u.useState(null),[i,l]=u.useState(null),[c,m]=u.useState(!1),h=async()=>{try{n(!0);const g=localStorage.getItem("token"),y=await fetch(`${hE}/api/deals/seller`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}}),v=await y.json();if(y.ok)t(v.deals||[]),o(null);else throw new Error(v.message||"Failed to fetch deals")}catch(g){console.error("Error fetching seller deals:",g),o("Failed to load deals. Please try again."),t([])}finally{n(!1)}};u.useEffect(()=>{h()},[]);const f=g=>{l(g),m(!0)},d=()=>{m(!1),l(null)},p=()=>{h()},w=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"terms_agreed":return"bg-green-100 text-green-800";case"agent_access_pending":return"bg-blue-100 text-blue-800";case"waiting_promotion_timer":return"bg-orange-100 text-orange-800";case"promotion_timer_complete":return"bg-purple-100 text-purple-800";case"admin_ownership_confirmed":return"bg-indigo-100 text-indigo-800";case"buyer_paid_seller":return"bg-cyan-100 text-cyan-800";case"seller_confirmed_payment":return"bg-emerald-100 text-emerald-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=g=>{switch(g){case"pending":return"Awaiting Review";case"terms_agreed":return"Terms Agreed";case"agent_access_pending":return"Awaiting Rights Confirmation";case"waiting_promotion_timer":return"YouTube Timer Active";case"promotion_timer_complete":return"Transfer Complete";case"admin_ownership_confirmed":return"Admin Confirmed Primary Owner";case"buyer_paid_seller":return"Buyer Confirmed Payment";case"seller_confirmed_payment":return"Payment Complete";case"completed":return"Completed";default:return g}},b=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-xsm-yellow"})})})}):a?r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"bg-red-900 border border-red-700 rounded-lg p-6 text-center",children:[r.jsx(ls,{className:"mx-auto mb-4 text-red-400",size:48}),r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Error Loading Deals"}),r.jsx("p",{className:"text-red-200 mb-4",children:a}),r.jsx("button",{onClick:h,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):r.jsx("div",{className:"min-h-screen bg-xsm-dark-blue p-6",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Seller Deals"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Review and manage your incoming deal requests"})]}),e.length===0?r.jsxs("div",{className:"bg-xsm-dark-gray rounded-lg p-8 text-center",children:[r.jsx(Rt,{className:"mx-auto mb-4 text-xsm-light-gray",size:48}),r.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Deals Yet"}),r.jsx("p",{className:"text-xsm-light-gray",children:"When buyers create deals for your channels, they will appear here for your review."})]}):r.jsx("div",{className:"grid gap-6",children:e.map(g=>r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg p-6 border border-gray-700 hover:border-xsm-yellow transition-colors",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:g.channel_title}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${w(g.deal_status)}`,children:x(g.deal_status)}),!g.seller_agreed&&r.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:"Action Required"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Transaction ID"}),r.jsx("p",{className:"text-white font-mono text-sm",children:g.transaction_id})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Buyer"}),r.jsx("p",{className:"text-white font-medium",children:g.buyer_username})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Created"}),r.jsx("p",{className:"text-white",children:b(g.created_at)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Sale Price"}),r.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",g.channel_price]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Escrow Fee"}),r.jsxs("p",{className:"text-white",children:["$",g.escrow_fee]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xsm-light-gray text-sm",children:"Payment Methods"}),r.jsxs("p",{className:"text-white",children:[g.payment_methods.length," selected"]})]})]}),g.payment_methods.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xsm-light-gray text-sm mb-2",children:"Available Payment Methods:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.payment_methods.slice(0,3).map((y,v)=>r.jsx("span",{className:"px-2 py-1 bg-gray-700 text-white rounded text-sm",children:y.name},v)),g.payment_methods.length>3&&r.jsxs("span",{className:"px-2 py-1 bg-gray-600 text-white rounded text-sm",children:["+",g.payment_methods.length-3," more"]})]})]}),g.seller_agreed&&g.seller_agreed_at&&r.jsxs("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[r.jsx(ue,{size:16}),r.jsxs("span",{children:["You agreed to terms on ",b(g.seller_agreed_at)]})]})]}),r.jsx("div",{className:"lg:ml-6 mt-4 lg:mt-0",children:r.jsxs("button",{onClick:()=>f(g),className:"w-full lg:w-auto bg-xsm-yellow text-black px-6 py-3 rounded-lg hover:bg-yellow-400 transition-colors flex items-center justify-center space-x-2 font-medium",children:[r.jsx(nt,{size:20}),r.jsx("span",{children:g.seller_agreed?"View Deal":"Review Deal"})]})})]})},g.id))}),r.jsx(dE,{isOpen:c,onClose:d,deal:i,onDealUpdate:p})]})})},xE=()=>"https://xsmmarket.com/api",pE=()=>xE().replace("/api",""),gE=({isOpen:e,onClose:t,deal:s,onPaymentConfirmed:n})=>{const[a,o]=u.useState(!1);if(!e)return null;const i=async()=>{try{if(o(!0),!window.confirm(`💰 CONFIRM PAYMENT TO SELLER

Please confirm that you have successfully paid the seller.

⚠️ IMPORTANT:
• Only confirm if payment was completed successfully
• You have received payment confirmation from your payment provider
• The seller should receive the funds

This will notify the seller and complete the transaction.

Continue?`)){o(!1);return}const c=localStorage.getItem("token"),m=await fetch(`${pE()}/deals/${s.id}/buyer-paid-seller`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}}),h=await m.json();if(m.ok)alert(`✅ Payment Confirmation Successful!

🎉 Transaction Complete!

✓ Payment to seller confirmed
✓ Chat message sent to notify seller
✓ Deal status updated

Thank you for using our secure marketplace!`),n(s.id),t();else throw new Error(h.message||"Failed to confirm payment")}catch(l){console.error("Error confirming payment:",l),alert(`Failed to confirm payment: ${l.message}

Please try again or contact support.`)}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-xsm-dark-gray rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[r.jsx(Rt,{className:"mr-3 text-xsm-yellow",size:28}),"Confirm Payment to Seller"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:r.jsx(Ie,{size:24})})]}),r.jsxs("div",{className:"bg-xsm-medium-gray rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-white font-medium mb-2",children:"Deal Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Channel:"}),r.jsx("p",{className:"text-white font-medium",children:s.channel_title})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Amount:"}),r.jsxs("p",{className:"text-green-400 font-bold text-lg",children:["$",typeof s.channel_price=="number"?s.channel_price.toFixed(2):parseFloat(s.channel_price||"0").toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Seller:"}),r.jsx("p",{className:"text-white",children:s.seller_name||s.seller_email})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Transaction ID:"}),r.jsx("p",{className:"text-gray-300 font-mono text-xs",children:s.transaction_id||`#${s.id}`})]})]})]}),r.jsx("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Nt,{className:"text-green-400 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-green-300 font-medium mb-1",children:"Secure Payment Process"}),r.jsx("p",{className:"text-green-200 text-sm",children:"Our agent now has full control of the channel. You can safely proceed with payment as the account is secured and ready for transfer."})]})]})}),r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Payment Instructions"}),r.jsxs("div",{className:"text-blue-200 text-sm space-y-2",children:[r.jsx("p",{children:"• Contact the seller using your agreed payment method (PayPal, Bank Transfer, etc.)"}),r.jsxs("p",{children:["• Send the payment amount: ",r.jsxs("strong",{className:"text-white",children:["$",typeof s.channel_price=="number"?s.channel_price.toFixed(2):parseFloat(s.channel_price||"0").toFixed(2)]})]}),r.jsx("p",{children:"• Ensure you receive payment confirmation from your payment provider"}),r.jsx("p",{children:'• Only click "I Have Paid The Seller" after successful payment completion'})]})]}),r.jsx("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4 mb-6",children:r.jsxs("p",{className:"text-red-200 text-sm",children:[r.jsx("strong",{children:"⚠️ Final Confirmation Required"}),r.jsx("br",{}),'Only click "I Have Paid The Seller" if you have successfully sent the payment to the seller. This action will notify the seller and mark the transaction as complete.']})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Cancel"}),r.jsx("button",{onClick:i,disabled:a,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Confirming..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ue,{className:"mr-2",size:20}),"I Have Paid The Seller"]})})]})]})})})},yE=()=>"https://xsmmarket.com/api",vE=()=>yE().replace("/api",""),Zf=vE(),wE=()=>{const[e,t]=u.useState([]),[s,n]=u.useState(!0),[a,o]=u.useState(null),[i,l]=u.useState(!1),[c,m]=u.useState(!1),[h,f]=u.useState(null),[d,p]=u.useState(null),w=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),x=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=j=>{switch(j){case"pending":return"text-yellow-400";case"seller_reviewing":return"text-blue-400";case"terms_agreed":return"text-green-400";case"fee_paid":return"text-purple-400";case"escrow_paid":return"text-cyan-400";case"completed":return"text-green-500";case"cancelled":case"disputed":return"text-red-400";default:return"text-gray-400"}},g=j=>{switch(j){case"pending":return"Waiting for Seller";case"seller_reviewing":return"Under Review";case"terms_agreed":return"Terms Agreed";case"fee_paid":return"Fee Paid";case"escrow_paid":return"In Escrow";case"completed":return"Completed";case"cancelled":return"Cancelled";case"disputed":return"Disputed";default:return j.replace("_"," ").replace(/\b\w/g,T=>T.toUpperCase())}},y=async()=>{try{const j=localStorage.getItem("token");console.log("Fetching buyer deals...");const A=await(await fetch(`${Zf}/api/deals/buyer`,{headers:{Authorization:`Bearer ${j}`}})).json();console.log("Buyer deals response:",A),A.success?(console.log("Buyer deals fetched successfully:",A.deals),t(A.deals)):console.error("API error:",A.message)}catch(j){console.error("Error fetching deals:",j)}finally{n(!1)}};u.useEffect(()=>{y()},[]);const v=j=>j.seller_agreed&&!j.transaction_fee_paid,N=j=>{o(j),l(!0)},E=()=>{l(!1),o(null),y()},S=j=>{f(j),m(!0)},C=async j=>{try{if(p(j),!window.confirm(`💰 FINAL PAYMENT CONFIRMATION

Please confirm that you have successfully paid the seller.

✅ Only confirm if:
• You have completed payment via your selected method
• You received payment confirmation from your provider
• You have seen agent ownership screenshots
• You are ready to receive the account

This will notify the seller and complete the transaction.

Continue?`)){p(null);return}const A=localStorage.getItem("token"),L=await fetch(`${Zf}/deals/${j}/buyer-paid-seller`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}}),F=await L.json();if(L.ok)alert(`✅ Payment Confirmation Successful!

🎉 Transaction Complete!

✓ Payment to seller confirmed
✓ Chat notification sent
✓ Agent will finalize account transfer

Transaction ID: ${F.transaction_id||j}

You will receive the final account details soon. Thank you for using our secure marketplace!`),m(!1),f(null),y();else throw new Error(F.message||"Failed to confirm payment to seller")}catch(T){console.error("Error confirming payment to seller:",T),alert("Failed to confirm payment: "+T.message)}finally{p(null)}};return s?r.jsx("div",{className:"min-h-screen bg-xsm-dark-bg flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-xsm-yellow"})}):r.jsxs("div",{className:"min-h-screen bg-xsm-dark-bg",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Deals"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Track and manage your channel purchase deals"})]}),e.length===0?r.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[r.jsx(br,{className:"mx-auto text-gray-600 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Deals Found"}),r.jsx("p",{className:"text-gray-400",children:"You haven't created any deals yet. Browse channels to start your first deal!"})]}):r.jsx("div",{className:"space-y-6",children:e.map(j=>r.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:j.channel_title}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(j.deal_status)} bg-gray-700`,children:g(j.deal_status)})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Transaction ID"}),r.jsx("p",{className:"font-mono text-sm text-white",children:j.transaction_id})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Seller"}),r.jsxs("p",{className:"font-medium text-white flex items-center",children:[r.jsx(ut,{size:16,className:"mr-1"}),j.seller_username]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Channel Price"}),r.jsx("p",{className:"font-semibold text-green-400",children:w(j.channel_price)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Transaction Fee"}),r.jsx("p",{className:"font-medium text-xsm-yellow",children:w(j.escrow_fee)})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Created"}),r.jsxs("p",{className:"font-medium text-white flex items-center",children:[r.jsx(qu,{size:16,className:"mr-1"}),x(j.created_at)]})]})]}),r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Deal Progress"}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ue,{className:"text-green-400",size:16}),r.jsx("span",{className:"text-white",children:"Deal Created"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[j.seller_agreed?r.jsx(ue,{className:"text-green-400",size:16}):r.jsx(vt,{className:"text-yellow-400",size:16}),r.jsx("span",{className:"text-white",children:"Seller Agreement"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[j.transaction_fee_paid?r.jsx(ue,{className:"text-green-400",size:16}):r.jsx(vt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Transaction Fee"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[j.seller_gave_rights?r.jsx(ue,{className:"text-green-400",size:16}):j.agent_email_sent?r.jsx(vt,{className:"text-blue-400",size:16}):r.jsx(vt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Agent Access"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"text-gray-400",size:16}),r.jsx("span",{className:"text-white",children:"Channel Transfer"})]})]})]}),j.payment_methods&&j.payment_methods.length>0&&r.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Selected Payment Methods"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.payment_methods.map(T=>r.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium bg-blue-600 text-blue-100",children:[r.jsx(al,{size:12,className:"mr-1"}),T.name]},T.id))})]}),j.transaction_fee_paid&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(ue,{size:16}),r.jsx("span",{className:"font-medium",children:"Transaction Fee Paid"})]}),r.jsxs("p",{className:"text-green-200 text-sm mt-1",children:["Paid by ",j.transaction_fee_paid_by==="buyer"?"you":"the seller","via ",j.transaction_fee_payment_method]})]}),j.agent_email_sent&&!j.seller_gave_rights&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-blue-300",children:[r.jsx(vt,{size:16}),r.jsx("span",{className:"font-medium",children:"Waiting for Seller to Give Agent Access"})]}),r.jsx("p",{className:"text-blue-200 text-sm mt-1",children:"Our agent's email has been provided to the seller. They need to give account access so we can verify and facilitate the secure transfer."})]}),j.seller_gave_rights&&!j.seller_made_primary_owner&&r.jsxs("div",{className:"bg-green-900 border border-green-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-green-300",children:[r.jsx(ue,{size:16}),r.jsx("span",{className:"font-medium",children:"Agent Access Confirmed"})]}),r.jsx("p",{className:"text-green-200 text-sm mt-1",children:"The seller has given our agent access to the account. Our team is now verifying the account details and preparing for secure transfer."})]}),j.seller_made_primary_owner&&!j.buyer_paid_seller&&r.jsxs("div",{className:"bg-purple-900 border border-purple-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[r.jsx(ue,{size:16}),r.jsx("span",{className:"font-medium",children:"🎉 Agent Has Primary Ownership"})]}),r.jsx("p",{className:"text-purple-200 text-sm mt-1",children:"Excellent! Our agent now has full control of the channel and has secured it. You can now safely pay the seller using your selected payment method."})]}),j.buyer_paid_seller&&r.jsxs("div",{className:"bg-emerald-900 border border-emerald-700 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-emerald-300",children:[r.jsx(ue,{size:16}),r.jsx("span",{className:"font-medium",children:"💰 Payment to Seller Confirmed"})]}),r.jsx("p",{className:"text-emerald-200 text-sm mt-1",children:"Payment confirmed! Our agent is now preparing the final account transfer. You will receive the account credentials shortly."}),j.buyer_paid_seller_at&&r.jsxs("p",{className:"text-emerald-300 text-xs mt-2",children:["Confirmed on ",x(j.buyer_paid_seller_at)]})]}),j.seller_agreed&&!j.transaction_fee_paid&&r.jsxs("div",{className:"bg-xsm-yellow bg-opacity-10 border border-xsm-yellow rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-xsm-yellow font-medium mb-2",children:"Next Step Required"}),r.jsx("p",{className:"text-yellow-200 text-sm",children:"The seller has agreed to your payment methods. Now you or the seller need to pay the transaction fee to proceed."})]}),!j.seller_agreed&&r.jsxs("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"Waiting for Seller"}),r.jsx("p",{className:"text-blue-200 text-sm",children:"The seller is reviewing your payment methods. They will either accept them or contact you to discuss alternatives."})]}),r.jsxs("div",{className:"flex space-x-3",children:[v(j)&&r.jsxs("button",{onClick:()=>N(j),className:"bg-xsm-yellow text-black px-4 py-2 rounded-lg hover:bg-yellow-500 transition-colors font-medium flex items-center space-x-2",children:[r.jsx(Rt,{size:16}),r.jsx("span",{children:"Pay Transaction Fee"})]}),(console.log("Deal debug:",{id:j.id,seller_made_primary_owner:j.seller_made_primary_owner,buyer_paid_seller:j.buyer_paid_seller,seller_gave_rights:j.seller_gave_rights,agent_email_sent:j.agent_email_sent}),j.seller_made_primary_owner&&!j.buyer_paid_seller)&&r.jsxs("button",{onClick:()=>S(j),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center space-x-2",children:[r.jsx(Rt,{size:16}),r.jsx("span",{children:"Pay Seller"})]}),r.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-500 transition-colors",onClick:()=>{alert("Chat functionality will be implemented soon")},children:"Contact Seller"})]})]},j.id))})]}),r.jsx(fw,{isOpen:i,onClose:()=>l(!1),deal:a,userType:"buyer",onPaymentComplete:E}),h&&r.jsx(gE,{isOpen:c,onClose:()=>{m(!1),f(null)},deal:{id:h.id,channel_title:h.channel_title,channel_price:h.channel_price,seller_name:h.seller_username,seller_email:h.seller_username,transaction_id:h.transaction_id},onPaymentConfirmed:C})]})},bE=()=>"https://xsmmarket.com/api",_o=bE(),jc=({platform:e})=>{const t=()=>{switch(e){case"youtube":return"text-red-600";case"tiktok":return"text-black";case"facebook":return"text-blue-600";case"instagram":return"text-pink-600";case"twitter":return"text-blue-400";default:return"text-gray-400"}};switch(e){case"youtube":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})});case"tiktok":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64c.298 0 .593.057.87.168V9.43a6.33 6.33 0 0 0-1-.08A6.34 6.34 0 0 0 3 15.69a6.34 6.34 0 0 0 10.86 4.49 6.47 6.47 0 0 0 1.83-4.49V7.85a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-.87.72z"})});case"facebook":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"instagram":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})});case"twitter":return r.jsx("svg",{className:`w-full h-full ${t()}`,viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})});default:return null}},jE=()=>{const{adId:e}=Bu(),t=Fe(),{user:s,isLoggedIn:n}=Me(),{showError:a,showSuccess:o}=Ls(),[i,l]=u.useState(null),[c,m]=u.useState(!0),[h,f]=u.useState(null),[d,p]=u.useState(!1),[w,x]=u.useState(!1);console.log("AdDetails - received encodedAdId:",e);const b=e?T6(e):null;console.log("AdDetails - decodedAdId:",b),u.useEffect(()=>{if(e){if(!b){f("Invalid ad ID"),m(!1);return}g()}else f("No ad ID provided"),m(!1)},[e,b]);const g=async()=>{var j,T,A,L,F,U,I;try{if(m(!0),f(null),console.log("Raw encodedAdId from URL:",e),console.log("Decoded ID:",b),!b)throw console.error("Failed to decode ad ID from:",e),new Error("Invalid ad ID - could not decode");const O=b.toString();console.log("Making API request to:",`${_o}/ads/${O}`);const B=new AbortController,q=setTimeout(()=>B.abort(),1e4),_=await fetch(`${_o}/ads/${O}`,{signal:B.signal});if(clearTimeout(q),_.status===404)throw new Error("Ad not found");if(!_.ok)throw new Error("Failed to fetch ad details");const P=await _.json();let M=[];if(P.screenshots)try{M=JSON.parse(P.screenshots),Array.isArray(M)||(M=[])}catch(V){console.warn("Failed to parse screenshots JSON:",V),M=[]}const R={id:P.id.toString(),name:P.title,description:P.description,platform:((j=P.platform)==null?void 0:j.toLowerCase())||"youtube",category:P.category,channelUrl:P.channelUrl||`https://${(T=P.platform)==null?void 0:T.toLowerCase()}.com`,subscribers:P.subscribers,price:P.price,monthlyIncome:P.monthlyIncome,verified:P.verified||!1,premium:P.premium||!1,rating:P.rating||4.5,views:P.views||P.totalViews||P.subscribers*10,thumbnail:M.length>0?M[0]:P.thumbnail||P.primary_image||"/default-thumbnail.jpg",screenshots:M,monetized:P.isMonetized||P.monthlyIncome>0||!1,contentType:P.contentType,incomeDetails:P.incomeDetails,promotionDetails:P.promotionDetails,earningMethods:P.earningMethods||["Ad Revenue","Sponsorships"],promotionStrategies:P.promotionStrategies||["SEO Optimization","Social Media"],seller:{id:((A=P.seller)==null?void 0:A.id)||0,name:((L=P.seller)==null?void 0:L.username)||((F=P.seller)==null?void 0:F.name)||"Unknown",rating:((U=P.seller)==null?void 0:U.rating)||4.8,sales:((I=P.seller)==null?void 0:I.sales)||0}};l(R)}catch(O){console.error("Error fetching ad details:",O),O instanceof Error?O.name==="AbortError"?(f("Request timed out. Please check your connection and try again."),a("Request timed out")):(f(O.message),a(O.message)):(f("Failed to load ad details. Please try again."),a("Failed to load ad details"))}finally{m(!1)}},y=j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(1)}K`:j.toString(),v=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),N=()=>{if(!n){a("Please log in to start a deal"),t("/login");return}p(!0)},E=()=>{p(!1)},S=async()=>{if(!n||!s){a("Please log in to contact the seller"),t("/login");return}if(i){if(String(s.id)===String(i.seller.id)){a("You can't contact yourself");return}try{x(!0);const j=localStorage.getItem("token"),T=await fetch(`${_o}/chat/check-existing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({sellerId:i.seller.id,adId:i.id})});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);if((await T.json()).exists){t("/chat");return}const L=await fetch(`${_o}/chat/ad-inquiry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({adId:i.id,sellerId:i.seller.id,message:`Hi, I'm interested in your channel: ${i.name}`,sellerName:i.seller.name})});if(!L.ok){const U=await L.text();throw console.error("Chat creation failed:",U),new Error(`HTTP error! status: ${L.status}`)}const F=await L.json();t("/chat"),o("Chat created successfully!")}catch(j){console.error("Error creating chat:",j),a("Failed to create chat")}finally{x(!1)}}};if(c)return r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-xsm-yellow mx-auto mb-4"}),r.jsx("p",{className:"text-xsm-light-gray",children:"Loading channel details..."})]})});if(h||!i){const j=()=>h!=null&&h.includes("Invalid ad ID")||h!=null&&h.includes("could not decode")?"Invalid Link":h!=null&&h.includes("Ad not found")?"Channel Not Found":"Channel Not Available",T=()=>h!=null&&h.includes("Invalid ad ID")||h!=null&&h.includes("could not decode")?"The link you're trying to access is invalid or corrupted.":h!=null&&h.includes("Ad not found")?"This channel may have been removed or is no longer available.":h||"The requested channel could not be loaded.";return r.jsx("div",{className:"min-h-screen bg-xsm-black text-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[r.jsx("div",{className:"w-24 h-24 bg-xsm-yellow rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx("svg",{className:"w-12 h-12 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-xsm-yellow mb-4",children:j()}),r.jsx("p",{className:"text-xsm-light-gray mb-6 leading-relaxed",children:T()}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>t("/"),className:"w-full bg-xsm-yellow text-black px-6 py-3 rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Browse All Channels"}),r.jsx("button",{onClick:()=>t(-1),className:"w-full bg-transparent border border-xsm-medium-gray text-xsm-light-gray px-6 py-3 rounded-lg hover:bg-xsm-medium-gray transition-colors font-medium",children:"Go Back"})]})]})})}const C=i.price*.075;return r.jsxs("div",{className:"min-h-screen bg-xsm-black text-white",children:[r.jsx("div",{className:"bg-xsm-dark-gray border-b border-xsm-medium-gray",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-xsm-yellow hover:text-yellow-400 transition-colors",children:[r.jsx(Ma,{className:"w-5 h-5"}),"Back"]}),r.jsx("h1",{className:"text-2xl font-bold text-xsm-yellow",children:"Channel Details"}),r.jsx("div",{className:"w-16"})," "]})})}),r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[i.thumbnail&&i.thumbnail!=="/default-thumbnail.jpg"?r.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[r.jsx("img",{src:i.thumbnail,alt:`${i.name} thumbnail`,className:"w-full h-full object-cover rounded-full border-4 border-xsm-yellow",onError:j=>{console.error("Thumbnail failed to load:",i.thumbnail),j.currentTarget.style.display="none";const T=j.currentTarget.nextElementSibling;T&&(T.style.display="flex")}}),r.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center p-6 hidden",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(jc,{platform:i.platform})})})]}):r.jsx("div",{className:"w-32 h-32 bg-white rounded-full mx-auto mb-4 flex items-center justify-center p-6",children:r.jsx("div",{className:"w-full h-full",children:r.jsx(jc,{platform:i.platform})})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:i.name}),r.jsxs("a",{href:i.channelUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 mb-4 text-xsm-light-gray hover:text-xsm-yellow transition-colors",children:[r.jsx("div",{className:"w-5 h-5",children:r.jsx(jc,{platform:i.platform})}),r.jsx("span",{className:"underline",children:i.channelUrl})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[i.premium&&r.jsx("span",{className:"xsm-badge-premium",children:"PREMIUM"}),i.verified&&r.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center",children:[r.jsx(Nt,{className:"w-4 h-4 mr-1"}),"VERIFIED"]}),r.jsx("span",{className:"bg-xsm-yellow text-xsm-black px-3 py-1 rounded-full text-sm font-bold",children:i.category})]})]}),r.jsxs("div",{className:"xsm-card text-center",children:[r.jsx(Nn,{className:"w-8 h-8 text-xsm-yellow mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-white",children:y(i.subscribers)}),r.jsx("div",{className:"text-sm text-xsm-light-gray",children:"Subscribers"})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Channel Status"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white",children:"Monetization Status:"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${i.monetized?"bg-green-500 text-white":"bg-gray-500 text-gray-200"}`,children:i.monetized?"Monetized":"Not Monetized"})]})})]}),i.screenshots&&i.screenshots.length>0&&r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Channel Screenshots"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.screenshots.map((j,T)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:j,alt:`${i.name} screenshot ${T+1}`,className:"w-full h-48 object-cover rounded-lg border border-xsm-medium-gray/30 hover:border-xsm-yellow transition-all duration-200 cursor-pointer",onClick:()=>{window.open(j,"_blank")},onError:A=>{console.error("Image failed to load:",j),A.currentTarget.style.display="none"}}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg flex items-center justify-center",children:r.jsx("div",{className:"text-white text-sm font-medium",children:"Click to enlarge"})})]},T))}),r.jsxs("p",{className:"text-xsm-medium-gray text-sm mt-2",children:[i.screenshots.length," screenshot",i.screenshots.length>1?"s":""," uploaded by seller"]})]}),i.description&&i.description.trim()&&r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Description"}),r.jsx("p",{className:"text-white leading-relaxed",children:i.description})]}),i.contentType&&i.contentType.trim()&&r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Content Type"}),r.jsx("p",{className:"text-white leading-relaxed",children:i.contentType})]}),i.incomeDetails&&i.incomeDetails.trim()&&r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Income Details"}),r.jsx("p",{className:"text-white leading-relaxed",children:i.incomeDetails})]}),i.promotionDetails&&i.promotionDetails.trim()&&r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Promotion Details"}),r.jsx("p",{className:"text-white leading-relaxed",children:i.promotionDetails})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"xsm-card",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-4xl font-bold text-xsm-yellow mb-2",children:v(i.price)}),r.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-4",children:[i.premium&&r.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black px-4 py-1 rounded-full text-sm font-bold",children:"Premium Listing"}),i.verified&&r.jsx("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-bold",children:"Verified Channel"})]})]}),r.jsxs("div",{className:"bg-xsm-black/50 rounded-lg p-4 mb-6",children:[r.jsx("h5",{className:"text-xsm-yellow font-semibold mb-3",children:"Secure Purchase Process:"}),r.jsxs("ol",{className:"text-sm text-white space-y-3",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"1"}),r.jsxs("span",{children:["Pay 7.5% admin fee (",v(C),")"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"2"}),r.jsx("span",{children:"Seller transfers channel to admin"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"3"}),r.jsx("span",{children:"Admin verifies and transfers to you"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"bg-xsm-yellow text-black w-6 h-6 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:"4"}),r.jsx("span",{children:"Complete payment to seller"})]})]})]}),r.jsxs("button",{onClick:N,className:"w-full xsm-button text-lg py-4 flex items-center justify-center space-x-2",children:[r.jsx(al,{className:"w-5 h-5"}),r.jsx("span",{children:"Start Purchase Process"})]}),r.jsx("div",{className:"text-center mt-4 text-sm text-xsm-light-gray",children:"Secure payment with buyer protection"})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsx("h4",{className:"text-lg font-semibold text-xsm-yellow mb-3",children:"Seller Information"}),r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"text-white font-semibold text-lg",children:i.seller.name}),i.seller.rating>0&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(t2,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-white font-medium",children:i.seller.rating})]})]}),r.jsxs("div",{className:"text-xsm-light-gray",children:[i.seller.sales," successful sales"]})]}),r.jsxs("button",{onClick:S,disabled:w,className:"w-full xsm-button-secondary flex items-center justify-center space-x-2 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(jr,{className:"w-5 h-5"}),r.jsx("span",{children:w?"Connecting...":"Contact Seller"})]})]})]}),r.jsxs("div",{className:"xsm-card",children:[r.jsxs("h5",{className:"text-xsm-yellow font-semibold mb-4 flex items-center",children:[r.jsx(Nt,{className:"w-5 h-5 mr-2"}),"Security Features"]}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Escrow-style transaction protection"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Admin-facilitated channel transfer"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"7-day money-back guarantee"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Verified seller ratings"]}),r.jsxs("li",{className:"flex items-center text-white",children:[r.jsx("div",{className:"w-2 h-2 bg-xsm-yellow rounded-full mr-3"}),"Secure payment processing"]})]})]})]})]})}),d&&r.jsx(jv,{isOpen:d,onClose:E,channelPrice:i.price,channelTitle:i.name,sellerId:i.seller.id.toString(),onNavigateToChat:()=>t("/chat")})]})},NE=()=>{const e=Fe();In();const{isLoggedIn:t,user:s}=Me();return lS(),r.jsxs("div",{className:"min-h-screen bg-xsm-black",children:[r.jsxs(cS,{children:[r.jsx($2,{}),r.jsx(P4,{}),r.jsx(p6,{}),r.jsx("main",{className:"animate-fade-in",children:r.jsxs(Mj,{children:[r.jsx(ke,{path:"/",element:r.jsx(_6,{})}),r.jsx(ke,{path:"/sell",element:r.jsx(I6,{})}),r.jsx(ke,{path:"/chat",element:r.jsx(O6,{})}),r.jsx(ke,{path:"/ad/:adId",element:r.jsx(jE,{})}),r.jsx(ke,{path:"/profile",element:r.jsx(K6,{})}),r.jsx(ke,{path:"/u/:username",element:r.jsx(q6,{})}),r.jsx(ke,{path:"/profile/edit",element:r.jsx(H6,{})}),r.jsx(ke,{path:"/my-deals",element:r.jsx(wE,{})}),r.jsx(ke,{path:"/seller-deals",element:r.jsx(fE,{})}),r.jsx(ke,{path:"/about",element:r.jsx(Q6,{})}),r.jsx(ke,{path:"/contact",element:r.jsx(tE,{})}),r.jsx(ke,{path:"/terms",element:r.jsx(J6,{})}),r.jsx(ke,{path:"/privacy",element:r.jsx(Z6,{})}),r.jsx(ke,{path:"/login",element:r.jsx(Kf,{})}),r.jsx(ke,{path:"/signup",element:r.jsx(t5,{})}),r.jsx(ke,{path:"/verify",element:r.jsx(R5,{})}),r.jsx(ke,{path:"/email-verify",element:r.jsx(D5,{})}),r.jsx(ke,{path:"/forgot-password",element:r.jsx(L5,{})}),r.jsx(ke,{path:"/admin-dashboard",element:t?r.jsx(Z5,{}):r.jsx(Kf,{})}),r.jsx(ke,{path:"/404",element:r.jsx(qf,{})}),r.jsx(ke,{path:"/:possibleUsername",element:r.jsx(X6,{})}),r.jsx(ke,{path:"*",element:r.jsx(qf,{})})]})}),r.jsxs("button",{onClick:()=>e("/chat"),className:"fixed bg-xsm-yellow hover:bg-yellow-500 text-black p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-[9999] flex items-center justify-center relative",style:{bottom:"24px",right:"24px",position:"fixed"},"aria-label":"Open Chat",children:[r.jsx(jr,{className:"w-6 h-6"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})]}),r.jsx("footer",{className:"bg-xsm-black border-t border-xsm-medium-gray/30 py-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("div",{className:"group relative",children:[r.jsx("div",{className:"absolute -inset-4 bg-gradient-radial from-xsm-yellow/30 via-xsm-medium-gray/30 to-transparent rounded-full blur-lg opacity-80 group-hover:opacity-100 transition-all duration-300 group-hover:from-xsm-yellow/50"}),r.jsx("div",{className:"absolute -inset-2 bg-gradient-radial from-xsm-yellow/15 to-transparent rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 animate-pulse"}),r.jsx("div",{className:"absolute -inset-6 bg-gradient-radial from-xsm-yellow/5 via-transparent to-transparent rounded-full animate-pulse opacity-70"}),r.jsx("img",{src:"/images/logo.png",alt:"XSM Market Logo",className:"h-10 md:h-[48px] object-contain relative z-10 drop-shadow-[0_0_4px_rgba(255,208,0,0.5)]"})]}),r.jsx("button",{onClick:()=>{e("/sell"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-xsm-yellow text-black px-4 py-2 text-sm font-medium rounded hover:bg-yellow-500 transition-colors",children:"Begin Selling"})]}),r.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-xsm-light-gray",children:[r.jsx("button",{onClick:()=>{e("/about"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"About Us"}),r.jsx("button",{onClick:()=>{e("/contact"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Contact"}),r.jsx("button",{onClick:()=>{e("/terms"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Terms of Service"}),r.jsx("button",{onClick:()=>{e("/privacy"),window.scrollTo({top:0,behavior:"smooth"})},className:"hover:text-xsm-yellow transition-colors",children:"Privacy Policy"})]}),r.jsx("p",{className:"mt-3 text-center text-xs text-xsm-medium-gray",children:"© 2025 XSM Market. All rights reserved."})]})})]})},kE=()=>(console.log("Google Client ID:","706026691678-kbn3pqlj9f5t7o8sri6lf5ucgi03btjb.apps.googleusercontent.com"),r.jsx(nS,{clientId:"706026691678-kbn3pqlj9f5t7o8sri6lf5ucgi03btjb.apps.googleusercontent.com",children:r.jsx(Q2,{children:r.jsx(Z2,{children:r.jsx(tS,{children:r.jsx(Oj,{children:r.jsx(NE,{})})})})})}));fg(document.getElementById("root")).render(r.jsx(kE,{}));
